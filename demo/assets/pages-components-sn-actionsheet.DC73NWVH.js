import{c as e,b as l,_ as t,a}from"./sn-topbar.DxKzInQK.js";import{d as n,$ as o,r as s,c as i,a as u,b as r,e as d,u as c,y as m,o as p,f,q as v,C as y,g as b,h as g,F as k,p as x,A as C,j as _,b0 as h,S,i as w,ao as V}from"./index-DoInGK9X.js";import{a as j,r as T}from"./uni-app.es.K1mZmM8s.js";import{_ as B}from"./sn-switch.EAkaUVVB.js";import{_ as O}from"./sn-form-item.DQivdfXx.js";import{_ as z}from"./sn-stepper.8H8ymVUn.js";import{_ as R}from"./sn-input.CG5cj0Ye.js";import{b as U,c as A,_ as I}from"./sn-button.B1LvAG78.js";import{_ as M}from"./sn-form.uvue_vue_type_script_setup_true_lang.ZcEsNHPg.js";import{_ as E}from"./com-card.D8_7_rS9.js";import{_ as P}from"./sn-page.Nlp4LDKz.js";import{_ as D}from"./sn-toast.B4HV5-Bl.js";import"./sn-alert.CWq7Acu6.js";import"./sn-line.DzqrU5y1.js";const N=A(n(Object.assign({name:"sn-actionsheet"},{__name:"sn-actionsheet",props:{title:{type:String,default:""},actions:{type:Array,default:[]},showCancel:{type:Boolean,default:!0},titleColor:{type:String,default:""},titleSize:{type:String,default:""},bgColor:{type:String,default:""},itemTextSize:{type:String,default:""},itemPadding:{type:String,default:"14px 10px"},cancelText:{type:String,default:"取消"},borderRadius:{type:String,default:""},maskOpacity:{type:Number,default:.4},aniTime:{type:String,default:""},preventBack:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!0},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["clickMask","clickItem","cancel","open","close"],setup(t,a){var n=a.expose,h=a.emit;const S=o.utils,w=o.colors,V=h,B=t,O=S.randomComId(),z=s(!1),R=s(null),A=i((()=>m("aniTime",B.aniTime,o.configs.aniTime.long))),I=i((()=>{let e=parseInt(A.value);return e>100?e-100:e})),M=i((()=>o.configs.app.theme)),E=i((()=>!S.isEmpty(B.title))),P=i((()=>m("font",B.titleSize,o.configs.font.size(2)))),D=i((()=>m("color",B.titleColor,w.value.title))),N=i((()=>m("color",B.bgColor,w.value.info))),J=i((()=>w.value["light"==M.value?"lineDark":"line"])),q=i((()=>w.value[(M.value,"infoActive")])),F=i((()=>m("font",B.itemTextSize,o.configs.font.size(3)))),G=i((()=>m("radius",B.borderRadius,o.configs.radius.normal))),H=i((()=>{let e=new Map;return e.set("transition-duration",A.value),e})),K=i((()=>{let e=new Map;return e.set("background",N.value),e.set("border-radius",G.value),e})),L=i((()=>new UTSJSONObject({justifyContent:"flex-end"}))),Q=i((()=>{let e=new Map;return e.set("animation",parseInt(A.value)>0),e.set("hover",z.value),e}));function X(){var e,l;null===(l=null===(e=R.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e),z.value=!1,V("close")}function $(){z.value=!1,V("clickMask")}function W(){B.disabled||(V("cancel"),X())}return n({open:function(){var e,l;null===(l=null===(e=R.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),V("open"),S.throttle((()=>{z.value=!0}),20,O)},close:X,cancel:W}),j((e=>!!z.value&&(B.preventBack||X(),!0))),(a=null,n=null)=>{const o=T(u("sn-text"),U),s=T(u("sn-menu-item"),e),i=_,m=T(u("sn-overlay"),l);return p(),r(m,{class:"sn-actionsheet-overlay",ref_key:"overlayEle",ref:R,aniTime:"".concat(c(I),"ms"),maskClose:t.maskClose,opacity:t.maskOpacity,onClickMask:$,customStyle:c(L)},{default:d((()=>[f(i,{class:x(["sn-actionsheet-contain",c(Q)]),style:v(c(H)),onClick:n[0]||(n[0]=C((()=>{}),["stop"]))},{default:d((()=>[f(i,{class:"sn-actionsheet",style:v([c(K),t.customStyle])},{default:d((()=>[c(E)?(p(),r(o,{key:0,align:"center",text:t.title,color:c(D),size:c(P),style:{padding:"15px"}},null,8,["text","color","size"])):y("",!0),(p(!0),b(k,null,g(t.actions,((e,l)=>{var a,n;return p(),r(s,{textAlign:"center",padding:t.itemPadding,key:l,text:e.text,bgColor:c(N),disabled:null!==(a=e.disabled)&&void 0!==a&&a||t.disabled,activeBgColor:c(q),textColor:null!==(n=e.color)&&void 0!==n?n:c(w).primary,textSize:c(F),style:v([{borderTop:c(E)||0!=l?"0.5px solid ".concat(c(J)):""}]),onClick:(e=null)=>function(e){var l;if(e>=B.actions.length||B.disabled)return null;let t=B.actions[e];if(null!==(l=t.disabled)&&void 0!==l&&l)return null;V("clickItem",t),X()}(l)},null,8,["padding","text","bgColor","disabled","activeBgColor","textColor","textSize","style","onClick"])})),128))])),_:1},8,["style"]),t.showCancel?(p(),r(i,{key:0,class:"sn-actionsheet",style:v([c(K),"margin-top:6px;",t.customStyle])},{default:d((()=>[f(s,{textAlign:"center",padding:t.itemPadding,bgColor:c(N),activeBgColor:c(q),borderRadius:c(G),text:t.cancelText,disabled:t.disabled,textColor:c(w).error,textSize:c(F),onClick:W},null,8,["padding","bgColor","activeBgColor","borderRadius","text","disabled","textColor","textSize"])])),_:1},8,["style"])):y("",!0)])),_:1},8,["class","style"])])),_:1},8,["aniTime","maskClose","opacity","customStyle"])}}})),[["__scopeId","data-v-1d1ee4fc"]]),J=n({__name:"sn-actionsheet",setup(e){const l=o.colors,n=o.utils,i=s(null),r=s(null),m=s({title:"这是标题",maskClose:!0,disabled:!1,preventBack:!1,aniTime:parseInt(o.configs.aniTime.long),maskOpacity:.3,showCancel:!0,borderRadius:""}),v=s([]),y=[new h({text:"选项1"}),new h({text:"选项2"}),new h({text:"选项3"})],g=[new h({text:"选项1"}),new h({text:"选项2",color:l.value.errorDark}),new h({text:"选项3",disabled:!0}),new h({text:"选项4"})];function x(e){1==e?v.value=y:2==e&&(v.value=g),n.throttle((()=>{var e,l;null===(l=null===(e=i.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e)}),50)}function C(e){"run"==e.id&&x(1)}function _(e){var l,t;null===(t=null===(l=r.value)||void 0===l?void 0:l.configShow)||void 0===t||t.call(l,new V({text:"点击了".concat(e.text),duration:2e3,borderRadius:"10000px",padding:"12px 20px"}))}return(e=null,l=null)=>{const n=T(u("sn-topbar"),t),o=T(u("sn-switch"),B),s=T(u("sn-form-item"),O),y=T(u("sn-stepper"),z),g=T(u("sn-input"),R),h=T(u("sn-button"),I),V=T(u("sn-row"),a),j=T(u("sn-form"),M),U=T(u("com-card"),E),A=T(u("sn-page"),P),J=T(u("sn-actionsheet"),N),q=T(u("sn-toast"),D);return p(),b(k,null,[f(A,null,{default:d((()=>[f(n,{title:"Actionsheet 操作菜单",features:[new S({id:"run",icon:"play-circle-fill"})],onButtonClick:C}),f(U,{title:"组件演示",note:"从底部弹出一个操作菜单，供用户选择。\\n本组件类似于 uni.showActionSheet API，不同的是样式更倾向于 iOS 而非微信，且样式配置更加自由"},{default:d((()=>[f(j,{modelValue:c(m),"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>w(m)?m.value=e:null),showBorder:!1},{default:d((()=>[f(s,{label:"禁用"},{default:d((()=>[f(o,{modelValue:c(m).disabled,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>c(m).disabled=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"遮罩关闭"},{default:d((()=>[f(o,{modelValue:c(m).maskClose,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>c(m).maskClose=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"阻止返回事件"},{default:d((()=>[f(o,{modelValue:c(m).preventBack,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>c(m).preventBack=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"动画时长"},{default:d((()=>[f(y,{modelValue:c(m).aniTime,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>c(m).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),f(s,{label:"遮罩透明度"},{default:d((()=>[f(y,{modelValue:c(m).maskOpacity,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>c(m).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),f(s,{label:"是否显示取消按钮"},{default:d((()=>[f(o,{modelValue:c(m).showCancel,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>c(m).showCancel=e)},null,8,["modelValue"])])),_:1}),f(s,{label:"标题"},{default:d((()=>[f(g,{modelValue:c(m).title,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>c(m).title=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(s,{label:"圆角大小"},{default:d((()=>[f(g,{modelValue:c(m).borderRadius,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>c(m).borderRadius=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(V,null,{default:d((()=>[f(h,{text:"默认",level:"second",type:"primary",long:"",onClick:l[8]||(l[8]=(e=null)=>x(1)),style:{"margin-top":"10px"}}),f(h,{class:"m-l-10",text:"自定义样式",level:"second",type:"primary",long:"",onClick:l[9]||(l[9]=(e=null)=>x(2)),style:{"margin-top":"10px"}})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),f(J,{ref_key:"actionsheetEle",ref:i,title:c(m).title,showCancel:c(m).showCancel,disabled:c(m).disabled,maskClose:c(m).maskClose,preventBack:c(m).preventBack,aniTime:"".concat(c(m).aniTime,"ms"),maskOpacity:c(m).maskOpacity,borderRadius:c(m).borderRadius,actions:c(v),onClickItem:_},null,8,["title","showCancel","disabled","maskClose","preventBack","aniTime","maskOpacity","borderRadius","actions"]),f(q,{ref_key:"toastEle",ref:r},null,512)],64)}}});export{J as default};
