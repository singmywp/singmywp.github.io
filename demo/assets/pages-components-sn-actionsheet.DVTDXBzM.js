import{_ as e,a as l}from"./sn-topbar.wm0GzhH3.js";import{d as t,$ as a,r as n,c as o,a as s,e as i,f as r,u,x as d,b as c,g as m,p,B as f,h as v,j as y,F as b,m as g,A as k,_ as x,aw as C,S as _,i as h,at as S}from"./index-DYMgrqHp.js";import{o as w,r as V}from"./uni-app.es.DgDfNdgy.js";import{_ as j}from"./sn-switch.CRzEpFQb.js";import{_ as T}from"./sn-form-item.H9V81OhK.js";import{_ as B}from"./sn-stepper.CLd4BeEG.js";import{_ as O}from"./sn-input.Cq5jBGx5.js";import{_ as z}from"./sn-button.BjZePiC5.js";import{_ as R}from"./sn-form.uvue_vue_type_script_setup_true_lang.i8bEa9At.js";import{_ as U}from"./com-card.BtLNzB63.js";import{_ as I}from"./sn-page.Cf6LEMVT.js";import{a as A,b as M}from"./sn-text.euomPoe8.js";import{_ as N}from"./sn-menu-item.DkjoXkWj.js";import{_ as E}from"./sn-overlay.CiZFgEyq.js";import{_ as J}from"./sn-toast.CbZM1jPi.js";import"./sn-loading.t5otRKvs.js";import"./sn-alert.B2UqFsTR.js";import"./sn-line.BnKikEoE.js";const P=M(t(Object.assign({name:"sn-actionsheet"},{__name:"sn-actionsheet",props:{title:{type:String,default:""},actions:{type:Array,default:[]},showCancel:{type:Boolean,default:!0},titleColor:{type:String,default:""},titleSize:{type:String,default:""},bgColor:{type:String,default:""},itemTextSize:{type:String,default:""},itemPadding:{type:String,default:"14px 10px"},cancelText:{type:String,default:"取消"},borderRadius:{type:String,default:""},maskOpacity:{type:Number,default:.4},aniTime:{type:String,default:""},preventBack:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!0},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["clickMask","clickItem","cancel","open","close"],setup(e,l){var t=l.expose,C=l.emit;const _=a.utils,h=a.colors,S=C,j=e,T=_.randomComId(),B=n(!1),O=n(null),z=o((()=>d("aniTime",j.aniTime,a.configs.aniTime.long))),R=o((()=>{let e=parseInt(z.value);return e>100?e-100:e})),U=o((()=>a.configs.app.theme)),I=o((()=>!_.isEmpty(j.title))),M=o((()=>d("font",j.titleSize,a.configs.font.size(2)))),J=o((()=>d("color",j.titleColor,h.value.title))),P=o((()=>d("color",j.bgColor,h.value.info))),D=o((()=>h.value["light"==U.value?"lineDark":"line"])),F=o((()=>h.value[(U.value,"infoActive")])),K=o((()=>d("font",j.itemTextSize,a.configs.font.size(3)))),L=o((()=>d("radius",j.borderRadius,a.configs.radius.normal))),Q=o((()=>{const e=new Map;return e.set("transition-duration",z.value),e})),$=o((()=>{const e=new Map;return e.set("background",P.value),e.set("border-radius",L.value),e})),q=o((()=>new UTSJSONObject({justifyContent:"flex-end"}))),G=o((()=>{let e=new Map;return e.set("animation",parseInt(z.value)>0),e.set("hover",B.value),e}));function H(){var e,l;null===(l=null===(e=O.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e),B.value=!1,S("close")}function W(){B.value=!1,S("clickMask")}function X(){j.disabled||(S("cancel"),H())}return t({open:function(){var e,l;null===(l=null===(e=O.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),S("open"),_.throttle((()=>{B.value=!0}),20,T)},close:H,cancel:X}),w((e=>!!B.value&&(j.preventBack||H(),!0))),(l=null,t=null)=>{const a=V(s("sn-text"),A),n=V(s("sn-menu-item"),N),o=x,d=V(s("sn-overlay"),E);return c(),i(d,{class:"sn-actionsheet-overlay",ref_key:"overlayEle",ref:O,aniTime:"".concat(u(R),"ms"),maskClose:e.maskClose,opacity:e.maskOpacity,onClickMask:W,customStyle:u(q)},{default:r((()=>[m(o,{class:g(["sn-actionsheet-contain",u(G)]),style:p(u(Q)),onClick:t[0]||(t[0]=k((()=>{}),["stop"]))},{default:r((()=>[m(o,{class:"sn-actionsheet",style:p([u($),e.customStyle])},{default:r((()=>[u(I)?(c(),i(a,{key:0,align:"center",text:e.title,color:u(J),size:u(M),style:{padding:"15px"}},null,8,["text","color","size"])):f("",!0),(c(!0),v(b,null,y(e.actions,((l,t)=>{var a,o;return c(),i(n,{textAlign:"center",padding:e.itemPadding,key:t,text:l.text,bgColor:u(P),disabled:null!==(a=l.disabled)&&void 0!==a&&a||e.disabled,activeBgColor:u(F),textColor:null!==(o=l.color)&&void 0!==o?o:u(h).primary,textSize:u(K),style:p([{borderTop:u(I)||0!=t?"0.5px solid ".concat(u(D)):""}]),onClick:(e=null)=>function(e){var l;if(e>=j.actions.length||j.disabled)return null;let t=j.actions[e];if(null!==(l=t.disabled)&&void 0!==l&&l)return null;S("clickItem",t),H()}(t)},null,8,["padding","text","bgColor","disabled","activeBgColor","textColor","textSize","style","onClick"])})),128))])),_:1},8,["style"]),e.showCancel?(c(),i(o,{key:0,class:"sn-actionsheet",style:p([u($),"margin-top:6px;",e.customStyle])},{default:r((()=>[m(n,{textAlign:"center",padding:e.itemPadding,bgColor:u(P),activeBgColor:u(F),borderRadius:u(L),text:e.cancelText,disabled:e.disabled,textColor:u(h).error,textSize:u(K),onClick:X},null,8,["padding","bgColor","activeBgColor","borderRadius","text","disabled","textColor","textSize"])])),_:1},8,["style"])):f("",!0)])),_:1},8,["class","style"])])),_:1},8,["aniTime","maskClose","opacity","customStyle"])}}})),[["__scopeId","data-v-90ba5f05"]]),D=t({__name:"sn-actionsheet",setup(t){const o=a.colors,i=a.utils,d=n(null),p=n(null),f=n(new UTSJSONObject({title:"这是标题",maskClose:!0,disabled:!1,preventBack:!1,aniTime:parseInt(a.configs.aniTime.long),maskOpacity:.3,showCancel:!0,borderRadius:""})),y=n([]),g=[new C({text:"选项1"}),new C({text:"选项2"}),new C({text:"选项3"})],k=[new C({text:"选项1"}),new C({text:"选项2",color:o.value.errorDark}),new C({text:"选项3",disabled:!0}),new C({text:"选项4"})];function x(e){1==e?y.value=g:2==e&&(y.value=k),i.throttle((()=>{var e,l;null===(l=null===(e=d.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e)}),50)}function w(e){"run"==e.id&&x(1)}function A(e){var l,t;null===(t=null===(l=p.value)||void 0===l?void 0:l.configShow)||void 0===t||t.call(l,new S({text:"点击了".concat(e.text),duration:2e3,borderRadius:"10000px",padding:"12px 20px"}))}return(t=null,a=null)=>{const n=V(s("sn-topbar"),e),o=V(s("sn-switch"),j),i=V(s("sn-form-item"),T),g=V(s("sn-stepper"),B),k=V(s("sn-input"),O),C=V(s("sn-button"),z),S=V(s("sn-row"),l),M=V(s("sn-form"),R),N=V(s("com-card"),U),E=V(s("sn-page"),I),D=V(s("sn-actionsheet"),P),F=V(s("sn-toast"),J);return c(),v(b,null,[m(E,null,{default:r((()=>[m(n,{title:"Actionsheet 操作菜单",features:[new _({id:"run",icon:"play-circle-fill"})],onButtonClick:w}),m(N,{title:"组件演示",note:"从底部弹出一个操作菜单，供用户选择。\\n本组件类似于 uni.showActionSheet API，不同的是样式更倾向于 iOS 而非微信，且样式配置更加自由"},{default:r((()=>[m(M,{modelValue:u(f),"onUpdate:modelValue":a[10]||(a[10]=(e=null)=>h(f)?f.value=e:null),showBorder:!1},{default:r((()=>[m(i,{label:"禁用"},{default:r((()=>[m(o,{modelValue:u(f).disabled,"onUpdate:modelValue":a[0]||(a[0]=(e=null)=>u(f).disabled=e)},null,8,["modelValue"])])),_:1}),m(i,{label:"遮罩关闭"},{default:r((()=>[m(o,{modelValue:u(f).maskClose,"onUpdate:modelValue":a[1]||(a[1]=(e=null)=>u(f).maskClose=e)},null,8,["modelValue"])])),_:1}),m(i,{label:"阻止返回事件"},{default:r((()=>[m(o,{modelValue:u(f).preventBack,"onUpdate:modelValue":a[2]||(a[2]=(e=null)=>u(f).preventBack=e)},null,8,["modelValue"])])),_:1}),m(i,{label:"动画时长"},{default:r((()=>[m(g,{modelValue:u(f).aniTime,"onUpdate:modelValue":a[3]||(a[3]=(e=null)=>u(f).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),m(i,{label:"遮罩透明度"},{default:r((()=>[m(g,{modelValue:u(f).maskOpacity,"onUpdate:modelValue":a[4]||(a[4]=(e=null)=>u(f).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),m(i,{label:"是否显示取消按钮"},{default:r((()=>[m(o,{modelValue:u(f).showCancel,"onUpdate:modelValue":a[5]||(a[5]=(e=null)=>u(f).showCancel=e)},null,8,["modelValue"])])),_:1}),m(i,{label:"标题"},{default:r((()=>[m(k,{modelValue:u(f).title,"onUpdate:modelValue":a[6]||(a[6]=(e=null)=>u(f).title=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),m(i,{label:"圆角大小"},{default:r((()=>[m(k,{modelValue:u(f).borderRadius,"onUpdate:modelValue":a[7]||(a[7]=(e=null)=>u(f).borderRadius=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),m(S,null,{default:r((()=>[m(C,{text:"默认",level:"second",type:"primary",long:"",onClick:a[8]||(a[8]=(e=null)=>x(1)),style:{"margin-top":"10px"}}),m(C,{class:"m-l-10",text:"自定义样式",level:"second",type:"primary",long:"",onClick:a[9]||(a[9]=(e=null)=>x(2)),style:{"margin-top":"10px"}})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),m(D,{ref_key:"actionsheetEle",ref:d,title:u(f).title,showCancel:u(f).showCancel,disabled:u(f).disabled,maskClose:u(f).maskClose,preventBack:u(f).preventBack,aniTime:"".concat(u(f).aniTime,"ms"),maskOpacity:u(f).maskOpacity,borderRadius:u(f).borderRadius,actions:u(y),onClickItem:A},null,8,["title","showCancel","disabled","maskClose","preventBack","aniTime","maskOpacity","borderRadius","actions"]),m(F,{ref_key:"toastEle",ref:p},null,512)],64)}}});export{D as default};
