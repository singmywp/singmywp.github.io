import{_ as e}from"./sn-topbar.DGNmRcUY.js";import{d as t,r as l,c as a,w as o,k as i,b as n,e as u,f as s,q as d,u as r,B as m,m as p,p as h,o as c,g as f,v as g,t as v,h as x,i as b,F as _}from"./index-D82xabMX.js";import{$ as V,r as w,S as H}from"./uni-app.es.Cv0ss-rw.js";import{_ as W}from"./sn-switch.B79Tps6Q.js";import{_ as y}from"./sn-form-item.D3fgF-ip.js";import{_ as C}from"./sn-select.B1heSqvw.js";import{_ as j}from"./sn-stepper.Q3yYL--b.js";import{_ as S}from"./sn-input.OLyd3D9e.js";import{_ as D}from"./sn-form.uvue_vue_type_script_setup_true_lang.CZfQ0e94.js";import{_ as M}from"./com-card.2Ru7Wd6o.js";import{_ as U}from"./sn-gap.BFzalOT1.js";import{_ as P}from"./sn-page.CIc3m52K.js";import{_ as k}from"./sn-view.uvue_vue_type_script_setup_true_lang.NnYLQipQ.js";import{c as B}from"./sn-button.CJ0ZsVkl.js";import"./sn-alert.IFfoCHl2.js";import"./sn-line.C1IVPNnk.js";const I=B(t(Object.assign({name:"sn-float-board"},{__name:"sn-float-board",props:{position:{type:String,default:"bottom"},showLine:{type:Boolean,default:!0},maxWidth:{type:String,default:"300px"},minWidth:{type:String,default:"50px"},slideWidth:{type:String,default:"100px"},maxHeight:{type:String,default:"500px"},minHeight:{type:String,default:"50px"},slideHeight:{type:String,default:"100px"},bgColor:{type:String,default:""},lineColor:{type:String,default:""},padding:{type:String,default:"25px 15px 10px 15px"},borderRadius:{type:String,default:""},aniTime:{type:Number,default:parseInt(V.configs.aniTime.long)},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:{}}},emits:["unfold","fold"],setup(e,t){var x=t.expose,b=t.emit;const _=V.utils,H=V.colors,W=b,y=e,C=l(0),j=l(0),S=l(!1),D=l(!1),M=l(_.randomComId()),U=a((()=>["top","bottom","left","right"].includes(y.position)?y.position:"bottom")),P=a((()=>"top"==U.value||"bottom"==U.value)),B=a((()=>P.value?_.getPx(y.maxHeight)-_.getPx(y.minHeight):_.getPx(y.maxWidth)-_.getPx(y.minWidth))),I=a((()=>""==y.borderRadius?V.configs.radius.xlarge:y.borderRadius)),L=a((()=>""==y.bgColor?H.value.infoActive:y.bgColor)),T=a((()=>""==y.lineColor?H.value.lineText:y.lineColor)),X=a((()=>y.aniTime==parseInt(V.configs.aniTime.long)?parseInt(V.configs.aniTime.long):y.aniTime)),Y=a((()=>{let e=new Map;return e.set("background",T.value),e.set("border-radius",V.configs.radius.circle),P.value?(e.set("height","5px"),e.set("left","50%"),e.set("width","60px"),e.set("transform","translateX(-50%)"),e.set("bottom"==U.value?"top":"bottom","10px")):(e.set("width","5px"),e.set("top","50%"),e.set("height","60px"),e.set("transform","translateY(-50%)"),e.set("left"==U.value?"right":"left","10px")),e})),F=a((()=>{let e=new Map,t=I.value;switch(P.value?(e.set("width","100%"),e.set("height",y.maxHeight)):(e.set("height","100%"),e.set("width",y.maxWidth)),U.value){case"top":e.set("border-radius","0 0 ".concat(t," ").concat(t));break;case"bottom":e.set("border-radius","".concat(t," ").concat(t," 0 0")),e.set("bottom","0");break;case"left":e.set("border-radius","0 ".concat(t," ").concat(t," 0"));break;case"right":e.set("border-radius","".concat(t," 0 0 ").concat(t))}return e.set("transform","translate".concat(P.value?"Y":"X","(").concat(C.value+j.value,"px)")),e.set("background",L.value),e.set("transition-duration","".concat(S.value?X.value:0,"ms")),e.set("zIndex",V.configs.zIndex.popup),e})),R=a((()=>{let e=new Map;return e.set("animation",X.value>0),e.set(U.value,!0),e}));function z(){D.value=!0,S.value=!0,j.value=B.value*("bottom"==U.value||"right"==U.value?-1:1),_.debounce((()=>{S.value=!1}),X.value,M.value),W("unfold")}function O(){D.value=!1,S.value=!0,j.value=0,_.debounce((()=>{S.value=!1}),X.value,M.value),W("fold")}function $(e){if(y.disabled)return null;let t=e.touches[0],l="bottom"==U.value,a="right"==U.value,o=P.value;D.value?j.value=o?l?"down"==t.direction?Math.min(t.diffY,B.value)-B.value:j.value:"up"==t.direction?B.value-Math.min(t.diffY,B.value):j.value:a?"right"==t.direction?Math.min(t.diffX,B.value)-B.value:j.value:"left"==t.direction?B.value-Math.min(t.diffX,B.value):j.value:j.value=o?l?"up"==t.direction?Math.max(-t.diffY,-B.value):j.value:"down"==t.direction?Math.min(t.diffY,B.value):j.value:a?"left"==t.direction?Math.max(-t.diffX,-B.value):j.value:"right"==t.direction?Math.min(t.diffX,B.value):j.value}function q(){let e=0;if(e=P.value?_.getPx(y.slideHeight):_.getPx(y.slideWidth),!y.disabled&&D.value){let t=!0;t="bottom"==U.value||"right"==U.value?j.value+B.value<e:B.value-j.value<e,t?z():O()}y.disabled||D.value||(Math.abs(j.value)<e?O():z())}function A(){P.value?(C.value=_.getPx(y.maxHeight)-_.getPx(y.minHeight),"top"==U.value&&(C.value=-C.value)):(C.value=_.getPx(y.maxWidth)-_.getPx(y.minWidth),"left"==U.value&&(C.value=-C.value))}return x({unfold:z,fold:O}),o((()=>y.position),(()=>{A()})),o((()=>y.maxHeight),(()=>{A()})),o((()=>y.minHeight),(()=>{A()})),o((()=>y.maxWidth),(()=>{A()})),o((()=>y.minWidth),(()=>{A()})),i((()=>{A()})),(t=null,l=null)=>{const a=h,o=w(n("sn-view"),k);return c(),u(a,{class:d(["sn-float-board",r(R)]),onClick:l[0]||(l[0]=m((()=>{}),["stop"])),style:p([r(F),e.customStyle])},{default:s((()=>[f(o,{padding:e.padding,onTouchmove:$,onTouchend:q,onTouchcancel:q,style:{flex:"1"}},{default:s((()=>[e.showLine?(c(),u(a,{key:0,class:"sn-float-board-line",style:p(r(Y))},null,8,["style"])):g("",!0),v(t.$slots,"default",{},void 0,!0)])),_:3},8,["padding"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-34558499"]]),L=t({__name:"sn-float-board",setup(t){V.utils,V.colors,l(null);const a=l({showLine:!0,bgColor:"",lineColor:"",position:0,maxHeight:500,maxWidth:300,minHeight:50,minWidth:50,slideHeight:100,slideWidth:100,aniTime:parseInt(V.configs.aniTime.long)}),o=[new H({id:"bottom",text:"底部"}),new H({id:"top",text:"顶部"}),new H({id:"left",text:"左侧"}),new H({id:"right",text:"右侧"})];return(t=null,l=null)=>{var i,u;const d=w(n("sn-topbar"),e),m=w(n("sn-switch"),W),p=w(n("sn-form-item"),y),h=w(n("sn-select"),C),g=w(n("sn-stepper"),j),v=w(n("sn-input"),S),V=w(n("sn-form"),D),H=w(n("com-card"),M),k=w(n("sn-gap"),U),B=w(n("sn-page"),P),L=w(n("sn-float-board"),I);return c(),x(_,null,[f(B,null,{default:s((()=>[f(d,{title:"Float Board 浮动面板"}),f(H,{title:"组件演示",note:"通常用于半屏窗口的场景。\\n请注意区分 Drawer 和 Float Board。Drawer 是弹出层，需要调用方法才能显示；而 Float Board 则始终显示，且可以通过用户手势操作完全显露。（可以把 Drawer 理解为关闭的抽屉，FloatBoard 则是半开的抽屉）"},{default:s((()=>[f(V,{modelValue:r(a),"onUpdate:modelValue":l[11]||(l[11]=(e=null)=>b(a)?a.value=e:null),showBorder:!1},{default:s((()=>[f(p,{label:"显示指示条"},{default:s((()=>[f(m,{modelValue:r(a).showLine,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>r(a).showLine=e)},null,8,["modelValue"])])),_:1}),f(p,{label:"位置"},{default:s((()=>[f(h,{modelValue:r(a).position,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>r(a).position=e),width:"200px",data:o},null,8,["modelValue"])])),_:1}),f(p,{label:"动画时长"},{default:s((()=>[f(g,{modelValue:r(a).aniTime,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>r(a).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),f(p,{label:"展开宽度(仅left/right)"},{default:s((()=>[f(g,{modelValue:r(a).maxWidth,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>r(a).maxWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),f(p,{label:"展开高度(仅top/bottom)"},{default:s((()=>[f(g,{modelValue:r(a).maxHeight,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>r(a).maxHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),f(p,{label:"折叠宽度(仅left/right)"},{default:s((()=>[f(g,{modelValue:r(a).minWidth,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>r(a).minWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),f(p,{label:"折叠高度(仅top/bottom)"},{default:s((()=>[f(g,{modelValue:r(a).minHeight,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>r(a).minHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),f(p,{label:"滑动折叠阈值（宽度）"},{default:s((()=>[f(g,{modelValue:r(a).slideWidth,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>r(a).slideWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),f(p,{label:"滑动折叠阈值（高度）"},{default:s((()=>[f(g,{modelValue:r(a).slideHeight,"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>r(a).slideHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),f(p,{label:"背景颜色"},{default:s((()=>[f(v,{modelValue:r(a).bgColor,"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>r(a).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(p,{label:"指示条颜色"},{default:s((()=>[f(v,{modelValue:r(a).lineColor,"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>r(a).lineColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(k,{height:"".concat(r(a).maxHeight+20,"px")},null,8,["height"])])),_:1}),f(L,{bgColor:"".concat(r(a).bgColor),position:null!==(u=o[null!==(i=r(a).position)&&void 0!==i?i:0].id)&&void 0!==u?u:"",lineColor:"".concat(r(a).lineColor),maxHeight:"".concat(r(a).maxHeight,"px"),maxWidth:"".concat(r(a).maxWidth,"px"),minHeight:"".concat(r(a).minHeight,"px"),minWidth:"".concat(r(a).minWidth,"px"),slideHeight:"".concat(r(a).slideHeight,"px"),slideWidth:"".concat(r(a).slideWidth,"px"),aniTime:r(a).aniTime,showLine:r(a).showLine},null,8,["bgColor","position","lineColor","maxHeight","maxWidth","minHeight","minWidth","slideHeight","slideWidth","aniTime","showLine"])],64)}}});export{L as default};
