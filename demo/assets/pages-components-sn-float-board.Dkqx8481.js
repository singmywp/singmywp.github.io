import{_ as e}from"./sn-topbar.DEOjSarq.js";import{d as t,r as l,c as a,w as o,k as i,b as n,e as u,f as s,m as d,u as r,B as m,p,q as h,o as f,g as c,v as g,t as v,h as x,i as b,F as _}from"./index-C41ek1zM.js";import{$ as V,r as w,S as H}from"./uni-app.es.DMEFtuWf.js";import{_ as W}from"./sn-switch.9UMnu6sT.js";import{_ as y}from"./sn-form-item.CnGK7-B3.js";import{_ as C}from"./sn-select.D3-9c_IN.js";import{_ as j}from"./sn-stepper.DeKcvUOU.js";import{_ as T}from"./sn-input.zz52LGns.js";import{_ as S}from"./sn-form.uvue_vue_type_script_setup_true_lang.D6DajatN.js";import{_ as M}from"./com-card.DTC2fNbY.js";import{_ as U}from"./sn-gap.88myKfwU.js";import{_ as P}from"./sn-page.Djy77f-h.js";import{_ as k}from"./sn-view.DOc3OiRm.js";import{c as B}from"./sn-button.CpSyIQkh.js";import"./sn-alert.gmx33OKx.js";import"./sn-line.DfmIoOpX.js";const I=B(t(Object.assign({name:"sn-float-board"},{__name:"sn-float-board",props:{position:{type:String,default:"bottom"},showLine:{type:Boolean,default:!0},maxWidth:{type:String,default:"300px"},minWidth:{type:String,default:"50px"},slideWidth:{type:String,default:"100px"},maxHeight:{type:String,default:"500px"},minHeight:{type:String,default:"50px"},slideHeight:{type:String,default:"100px"},bgColor:{type:String,default:""},lineColor:{type:String,default:""},padding:{type:String,default:"25px 15px 10px 15px"},borderRadius:{type:String,default:""},aniTime:{type:Number,default:parseInt(V.configs.aniTime.long)},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:{}}},emits:["unfold","fold"],setup(e,t){var x=t.expose,b=t.emit;const _=V.utils,H=V.colors,W=b,y=e,C=l(0),j=l(0),T=l(!1),S=l(!1),M=l(_.randomComId()),U=a((()=>["top","bottom","left","right"].includes(y.position)?y.position:"bottom")),P=a((()=>"top"==U.value||"bottom"==U.value)),B=a((()=>P.value?_.getPx(y.maxHeight)-_.getPx(y.minHeight):_.getPx(y.maxWidth)-_.getPx(y.minWidth))),I=a((()=>""==y.borderRadius?V.configs.radius.xlarge:y.borderRadius)),L=a((()=>""==y.bgColor?H.value.infoActive:y.bgColor)),X=a((()=>""==y.lineColor?H.value.lineText:y.lineColor)),Y=a((()=>y.aniTime==parseInt(V.configs.aniTime.long)?parseInt(V.configs.aniTime.long):y.aniTime)),F=a((()=>{let e=new Map;return e.set("background",X.value),e.set("border-radius",V.configs.radius.circle),P.value?(e.set("height","5px"),e.set("left","50%"),e.set("width","60px"),e.set("transform","translateX(-50%)"),e.set("bottom"==U.value?"top":"bottom","10px")):(e.set("width","5px"),e.set("top","50%"),e.set("height","60px"),e.set("transform","translateY(-50%)"),e.set("left"==U.value?"right":"left","10px")),e})),z=a((()=>{let e=new Map,t=I.value;switch(P.value?(e.set("width","100%"),e.set("height",y.maxHeight)):(e.set("height","100%"),e.set("width",y.maxWidth)),U.value){case"top":e.set("border-radius","0 0 ".concat(t," ").concat(t));break;case"bottom":e.set("border-radius","".concat(t," ").concat(t," 0 0")),e.set("bottom","0");break;case"left":e.set("border-radius","0 ".concat(t," ").concat(t," 0"));break;case"right":e.set("border-radius","".concat(t," 0 0 ").concat(t))}return e.set("transform","translate".concat(P.value?"Y":"X","(").concat(C.value+j.value,"px)")),e.set("background",L.value),e.set("transition-duration","".concat(T.value?Y.value:0,"ms")),e.set("zIndex",V.configs.zIndex.popup),e})),D=a((()=>{let e=new Map;return e.set("animation",Y.value>0),e.set(U.value,!0),e}));function R(){S.value=!0,T.value=!0,j.value=B.value*("bottom"==U.value||"right"==U.value?-1:1),_.debounce((()=>{T.value=!1}),Y.value,M.value),W("unfold")}function q(){S.value=!1,T.value=!0,j.value=0,_.debounce((()=>{T.value=!1}),Y.value,M.value),W("fold")}function O(e){if(y.disabled)return null;let t=e.touches[0],l="bottom"==U.value,a="right"==U.value,o=P.value;S.value?j.value=o?l?"down"==t.direction?Math.min(t.diffY,B.value)-B.value:j.value:"up"==t.direction?B.value-Math.min(t.diffY,B.value):j.value:a?"right"==t.direction?Math.min(t.diffX,B.value)-B.value:j.value:"left"==t.direction?B.value-Math.min(t.diffX,B.value):j.value:j.value=o?l?"up"==t.direction?Math.max(-t.diffY,-B.value):j.value:"down"==t.direction?Math.min(t.diffY,B.value):j.value:a?"left"==t.direction?Math.max(-t.diffX,-B.value):j.value:"right"==t.direction?Math.min(t.diffX,B.value):j.value}function $(){let e=0;if(e=P.value?_.getPx(y.slideHeight):_.getPx(y.slideWidth),!y.disabled&&S.value){let t=!0;t="bottom"==U.value||"right"==U.value?j.value+B.value<e:B.value-j.value<e,t?R():q()}y.disabled||S.value||(Math.abs(j.value)<e?q():R())}function A(){P.value?(C.value=_.getPx(y.maxHeight)-_.getPx(y.minHeight),"top"==U.value&&(C.value=-C.value)):(C.value=_.getPx(y.maxWidth)-_.getPx(y.minWidth),"left"==U.value&&(C.value=-C.value))}return x({unfold:R,fold:q}),o((()=>y.position),(()=>{A()})),o((()=>y.maxHeight),(()=>{A()})),o((()=>y.minHeight),(()=>{A()})),o((()=>y.maxWidth),(()=>{A()})),o((()=>y.minWidth),(()=>{A()})),i((()=>{A()})),(t=null,l=null)=>{const a=h,o=w(n("sn-view"),k);return f(),u(a,{class:d(["sn-float-board",r(D)]),onClick:l[0]||(l[0]=m((()=>{}),["stop"])),style:p([r(z),e.customStyle])},{default:s((()=>[c(o,{padding:e.padding,onTouchmove:O,onTouchend:$,onTouchcancel:$,style:{flex:"1"}},{default:s((()=>[e.showLine?(f(),u(a,{key:0,class:"sn-float-board-line",style:p(r(F))},null,8,["style"])):g("",!0),v(t.$slots,"default",{},void 0,!0)])),_:3},8,["padding"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-7e770f35"]]),L=t({__name:"sn-float-board",setup(t){V.utils,V.colors,l(null);const a=l({showLine:!0,bgColor:"",lineColor:"",position:0,maxHeight:500,maxWidth:300,minHeight:50,minWidth:50,slideHeight:100,slideWidth:100,aniTime:parseInt(V.configs.aniTime.long)}),o=[new H({id:"bottom",text:"底部"}),new H({id:"top",text:"顶部"}),new H({id:"left",text:"左侧"}),new H({id:"right",text:"右侧"})];return(t=null,l=null)=>{var i,u;const d=w(n("sn-topbar"),e),m=w(n("sn-switch"),W),p=w(n("sn-form-item"),y),h=w(n("sn-select"),C),g=w(n("sn-stepper"),j),v=w(n("sn-input"),T),V=w(n("sn-form"),S),H=w(n("com-card"),M),k=w(n("sn-gap"),U),B=w(n("sn-page"),P),L=w(n("sn-float-board"),I);return f(),x(_,null,[c(B,null,{default:s((()=>[c(d,{title:"Float Board 浮动面板"}),c(H,{title:"组件演示",note:"通常用于半屏窗口的场景。\\n请注意区分 Drawer 和 Float Board。Drawer 是弹出层，需要调用方法才能显示；而 Float Board 则始终显示，且可以通过用户手势操作完全显露。（可以把 Drawer 理解为关闭的抽屉，FloatBoard 则是半开的抽屉）"},{default:s((()=>[c(V,{modelValue:r(a),"onUpdate:modelValue":l[11]||(l[11]=(e=null)=>b(a)?a.value=e:null),showBorder:!1},{default:s((()=>[c(p,{label:"显示指示条"},{default:s((()=>[c(m,{modelValue:r(a).showLine,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>r(a).showLine=e)},null,8,["modelValue"])])),_:1}),c(p,{label:"位置"},{default:s((()=>[c(h,{modelValue:r(a).position,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>r(a).position=e),width:"200px",data:o},null,8,["modelValue"])])),_:1}),c(p,{label:"动画时长"},{default:s((()=>[c(g,{modelValue:r(a).aniTime,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>r(a).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),c(p,{label:"展开宽度(仅left/right)"},{default:s((()=>[c(g,{modelValue:r(a).maxWidth,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>r(a).maxWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),c(p,{label:"展开高度(仅top/bottom)"},{default:s((()=>[c(g,{modelValue:r(a).maxHeight,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>r(a).maxHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),c(p,{label:"折叠宽度(仅left/right)"},{default:s((()=>[c(g,{modelValue:r(a).minWidth,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>r(a).minWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),c(p,{label:"折叠高度(仅top/bottom)"},{default:s((()=>[c(g,{modelValue:r(a).minHeight,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>r(a).minHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),c(p,{label:"滑动折叠阈值（宽度）"},{default:s((()=>[c(g,{modelValue:r(a).slideWidth,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>r(a).slideWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),c(p,{label:"滑动折叠阈值（高度）"},{default:s((()=>[c(g,{modelValue:r(a).slideHeight,"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>r(a).slideHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),c(p,{label:"背景颜色"},{default:s((()=>[c(v,{modelValue:r(a).bgColor,"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>r(a).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),c(p,{label:"指示条颜色"},{default:s((()=>[c(v,{modelValue:r(a).lineColor,"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>r(a).lineColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(k,{height:"".concat(r(a).maxHeight+20,"px")},null,8,["height"])])),_:1}),c(L,{bgColor:"".concat(r(a).bgColor),position:null!==(u=o[null!==(i=r(a).position)&&void 0!==i?i:0].id)&&void 0!==u?u:"",lineColor:"".concat(r(a).lineColor),maxHeight:"".concat(r(a).maxHeight,"px"),maxWidth:"".concat(r(a).maxWidth,"px"),minHeight:"".concat(r(a).minHeight,"px"),minWidth:"".concat(r(a).minWidth,"px"),slideHeight:"".concat(r(a).slideHeight,"px"),slideWidth:"".concat(r(a).slideWidth,"px"),aniTime:r(a).aniTime,showLine:r(a).showLine},null,8,["bgColor","position","lineColor","maxHeight","maxWidth","minHeight","minWidth","slideHeight","slideWidth","aniTime","showLine"])],64)}}});export{L as default};
