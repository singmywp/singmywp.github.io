import{_ as e}from"./sn-topbar.DxKzInQK.js";import{d as t,$ as l,r as a,c as o,w as i,l as n,a as u,b as s,e as d,p as r,u as m,A as p,q as h,y as c,j as g,o as f,f as v,C as x,B as b,S as _,g as V,i as w,F as H}from"./index-DoInGK9X.js";import{r as W}from"./uni-app.es.K1mZmM8s.js";import{_ as y}from"./sn-switch.EAkaUVVB.js";import{_ as j}from"./sn-form-item.DQivdfXx.js";import{_ as C}from"./sn-select.BifT2hzZ.js";import{_ as S}from"./sn-stepper.8H8ymVUn.js";import{_ as T}from"./sn-input.CG5cj0Ye.js";import{_ as M}from"./sn-form.uvue_vue_type_script_setup_true_lang.ZcEsNHPg.js";import{_ as U}from"./com-card.D8_7_rS9.js";import{_ as P}from"./sn-gap.BM3gA-Sq.js";import{_ as B}from"./sn-page.Nlp4LDKz.js";import{_ as I}from"./sn-view.BKJ7GZxj.js";import{c as L}from"./sn-button.B1LvAG78.js";import"./sn-alert.CWq7Acu6.js";import"./sn-line.DzqrU5y1.js";const k=L(t(Object.assign({name:"sn-float-board"},{__name:"sn-float-board",props:{position:{type:String,default:"bottom"},showLine:{type:Boolean,default:!0},maxWidth:{type:String,default:"300px"},minWidth:{type:String,default:"50px"},slideWidth:{type:String,default:"100px"},maxHeight:{type:String,default:"500px"},minHeight:{type:String,default:"50px"},slideHeight:{type:String,default:"100px"},bgColor:{type:String,default:""},lineColor:{type:String,default:""},padding:{type:String,default:"25px 15px 10px 15px"},borderRadius:{type:String,default:""},aniTime:{type:String,default:l.configs.aniTime.long},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["unfold","fold"],setup(e,t){var _=t.expose,V=t.emit;const w=l.utils,H=l.colors,y=V,j=e,C=a(0),S=a(0),T=a(!1),M=a(!1),U=a(w.randomComId()),P=o((()=>["top","bottom","left","right"].includes(j.position)?j.position:"bottom")),B=o((()=>"top"==P.value||"bottom"==P.value)),L=o((()=>B.value?w.getPx(j.maxHeight)-w.getPx(j.minHeight):w.getPx(j.maxWidth)-w.getPx(j.minWidth))),k=o((()=>c("radius",j.borderRadius,l.configs.radius.xlarge))),D=o((()=>c("color",j.bgColor,H.value.infoActive))),F=o((()=>c("color",j.lineColor,H.value.lineText))),O=o((()=>c("aniTime",j.aniTime,l.configs.aniTime.long))),X=o((()=>{let e=new Map;return e.set("background",F.value),e.set("border-radius",l.configs.radius.circle),B.value?(e.set("height","5px"),e.set("left","50%"),e.set("width","60px"),e.set("transform","translateX(-50%)"),e.set("bottom"==P.value?"top":"bottom","10px")):(e.set("width","5px"),e.set("top","50%"),e.set("height","60px"),e.set("transform","translateY(-50%)"),e.set("left"==P.value?"right":"left","10px")),e})),A=o((()=>{let e=new Map,t=k.value;switch(B.value?(e.set("width","100%"),e.set("height",j.maxHeight)):(e.set("height","100%"),e.set("width",j.maxWidth)),P.value){case"top":e.set("border-radius","0 0 ".concat(t," ").concat(t));break;case"bottom":e.set("border-radius","".concat(t," ").concat(t," 0 0")),e.set("bottom","0");break;case"left":e.set("border-radius","0 ".concat(t," ").concat(t," 0"));break;case"right":e.set("border-radius","".concat(t," 0 0 ").concat(t))}return e.set("transform","translate".concat(B.value?"Y":"X","(").concat(C.value+S.value,"px)")),e.set("background",D.value),e.set("transition-duration","".concat(T.value?parseInt(O.value):0,"ms")),e.set("zIndex",l.configs.zIndex.popup),e})),Y=o((()=>{let e=new Map;return e.set("animation",parseInt(O.value)>0),e.set(P.value,!0),e}));function z(){M.value=!0,T.value=!0,S.value=L.value*("bottom"==P.value||"right"==P.value?-1:1),w.debounce((()=>{T.value=!1}),parseInt(O.value),U.value),y("unfold")}function R(){M.value=!1,T.value=!0,S.value=0,w.debounce((()=>{T.value=!1}),parseInt(O.value),U.value),y("fold")}function $(e){if(j.disabled)return null;e.event.preventDefault();let t=e.touches[0],l="bottom"==P.value,a="right"==P.value,o=B.value,i=Math.abs(t.diffX),n=Math.abs(t.diffY);M.value?S.value=o?l?"down"==t.direction?Math.min(n,L.value)-L.value:S.value:"up"==t.direction?L.value-Math.min(n,L.value):S.value:a?"right"==t.direction?Math.min(i,L.value)-L.value:S.value:"left"==t.direction?L.value-Math.min(i,L.value):S.value:S.value=o?l?"up"==t.direction?Math.max(-n,-L.value):S.value:"down"==t.direction?Math.min(n,L.value):S.value:a?"left"==t.direction?Math.max(-i,-L.value):S.value:"right"==t.direction?Math.min(i,L.value):S.value}function q(e){let t=0;if(t=B.value?w.getPx(j.slideHeight):w.getPx(j.slideWidth),!j.disabled&&M.value){let e=!0;e="bottom"==P.value||"right"==P.value?S.value+L.value<t:L.value-S.value<t,e?z():R()}j.disabled||M.value||(Math.abs(S.value)<t?R():z())}function E(){B.value?(C.value=w.getPx(j.maxHeight)-w.getPx(j.minHeight),"top"==P.value&&(C.value=-C.value)):(C.value=w.getPx(j.maxWidth)-w.getPx(j.minWidth),"left"==P.value&&(C.value=-C.value))}return _({unfold:z,fold:R}),i((()=>j.position),(()=>{E()})),i((()=>j.maxHeight),(()=>{E()})),i((()=>j.minHeight),(()=>{E()})),i((()=>j.maxWidth),(()=>{E()})),i((()=>j.minWidth),(()=>{E()})),n((()=>{E()})),(t=null,l=null)=>{const a=g,o=W(u("sn-view"),I);return f(),s(a,{class:r(["sn-float-board",m(Y)]),onClick:l[0]||(l[0]=p((()=>{}),["stop"])),style:h([m(A),e.customStyle])},{default:d((()=>[v(o,{padding:e.padding,onTouchmove:$,onTouchend:q,onTouchcancel:q,style:{flex:"1"}},{default:d((()=>[e.showLine?(f(),s(a,{key:0,class:"sn-float-board-line",style:h(m(X))},null,8,["style"])):x("",!0),b(t.$slots,"default",{},void 0,!0)])),_:3},8,["padding"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-87dbb1ad"]]),D=t({__name:"sn-float-board",setup(t){l.utils,l.colors,a(null);const o=a({showLine:!0,bgColor:"",lineColor:"",position:0,maxHeight:500,maxWidth:300,minHeight:50,minWidth:50,slideHeight:100,slideWidth:100,aniTime:parseInt(l.configs.aniTime.long)}),i=[new _({id:"bottom",text:"底部"}),new _({id:"top",text:"顶部"}),new _({id:"left",text:"左侧"}),new _({id:"right",text:"右侧"})];return(t=null,l=null)=>{var a,n;const s=W(u("sn-topbar"),e),r=W(u("sn-switch"),y),p=W(u("sn-form-item"),j),h=W(u("sn-select"),C),c=W(u("sn-stepper"),S),g=W(u("sn-input"),T),x=W(u("sn-form"),M),b=W(u("com-card"),U),_=W(u("sn-gap"),P),I=W(u("sn-page"),B),L=W(u("sn-float-board"),k);return f(),V(H,null,[v(I,null,{default:d((()=>[v(s,{title:"Float Board 浮动面板"}),v(b,{title:"组件演示",note:"通常用于半屏窗口的场景。\\n请注意区分 Drawer 和 Float Board。Drawer 是弹出层，需要调用方法才能显示；而 Float Board 则始终显示，且可以通过用户手势操作完全显露。（可以把 Drawer 理解为关闭的抽屉，FloatBoard 则是半开的抽屉）"},{default:d((()=>[v(x,{modelValue:m(o),"onUpdate:modelValue":l[11]||(l[11]=(e=null)=>w(o)?o.value=e:null),showBorder:!1},{default:d((()=>[v(p,{label:"显示指示条"},{default:d((()=>[v(r,{modelValue:m(o).showLine,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>m(o).showLine=e)},null,8,["modelValue"])])),_:1}),v(p,{label:"位置"},{default:d((()=>[v(h,{modelValue:m(o).position,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>m(o).position=e),width:"200px",data:i},null,8,["modelValue"])])),_:1}),v(p,{label:"动画时长"},{default:d((()=>[v(c,{modelValue:m(o).aniTime,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>m(o).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),v(p,{label:"展开宽度(仅left/right)"},{default:d((()=>[v(c,{modelValue:m(o).maxWidth,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>m(o).maxWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),v(p,{label:"展开高度(仅top/bottom)"},{default:d((()=>[v(c,{modelValue:m(o).maxHeight,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>m(o).maxHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),v(p,{label:"折叠宽度(仅left/right)"},{default:d((()=>[v(c,{modelValue:m(o).minWidth,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>m(o).minWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),v(p,{label:"折叠高度(仅top/bottom)"},{default:d((()=>[v(c,{modelValue:m(o).minHeight,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>m(o).minHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),v(p,{label:"滑动折叠阈值（宽度）"},{default:d((()=>[v(c,{modelValue:m(o).slideWidth,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>m(o).slideWidth=e),step:20,min:0},null,8,["modelValue"])])),_:1}),v(p,{label:"滑动折叠阈值（高度）"},{default:d((()=>[v(c,{modelValue:m(o).slideHeight,"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>m(o).slideHeight=e),step:20,min:0},null,8,["modelValue"])])),_:1}),v(p,{label:"背景颜色"},{default:d((()=>[v(g,{modelValue:m(o).bgColor,"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>m(o).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(p,{label:"指示条颜色"},{default:d((()=>[v(g,{modelValue:m(o).lineColor,"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>m(o).lineColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),v(_,{height:"".concat(m(o).maxHeight+20,"px")},null,8,["height"])])),_:1}),v(L,{bgColor:"".concat(m(o).bgColor),position:null!==(n=i[null!==(a=m(o).position)&&void 0!==a?a:0].id)&&void 0!==n?n:"",lineColor:"".concat(m(o).lineColor),maxHeight:"".concat(m(o).maxHeight,"px"),maxWidth:"".concat(m(o).maxWidth,"px"),minHeight:"".concat(m(o).minHeight,"px"),minWidth:"".concat(m(o).minWidth,"px"),slideHeight:"".concat(m(o).slideHeight,"px"),slideWidth:"".concat(m(o).slideWidth,"px"),aniTime:"".concat(m(o).aniTime,"ms"),showLine:m(o).showLine},null,8,["bgColor","position","lineColor","maxHeight","maxWidth","minHeight","minWidth","slideHeight","slideWidth","aniTime","showLine"])],64)}}});export{D as default};
