import{_ as e}from"./sn-topbar.A9l38UY4.js";import{d as l,r as o,c as a,w as t,k as n,l as i,b as u,e as s,f as d,m as r,u as m,V as p,p as c,o as b,t as f,g as v,h as g,i as V,F as h}from"./index-BV7wVSs2.js";import{$ as _,r as w,S as x}from"./uni-app.es.BzKMvEv9.js";import{_ as S}from"./sn-switch.kH-15fw2.js";import{_ as z}from"./sn-form-item.B6YASuRh.js";import{_ as y}from"./sn-select.C6Ny2cNr.js";import{_ as C}from"./sn-stepper.K0dGSYtN.js";import{_ as j}from"./sn-input.Bzur-JJ6.js";import{_ as T}from"./sn-form.uvue_vue_type_script_setup_true_lang.DoB8Hcj3.js";import{_ as k}from"./com-card.YVwaER4k.js";import{_ as U}from"./sn-page.Jy_rsgwA.js";import{a as R,c as I}from"./sn-button.68-4Ol7n.js";import{u as M}from"./useResize.uG7lV8L1.js";import"./sn-alert.yUyLj5uH.js";import"./sn-line.DLI2-M9C.js";const B=I(l(Object.assign({name:"sn-float-button"},{__name:"sn-float-button",props:{modelValue:{type:Array,default:[0,0]},position:{type:String,default:"bottom-end"},init:{type:Boolean,default:!0},absorb:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},size:{type:String,default:"60px"},icon:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},margin:{type:Number,default:20},borderRadius:{type:String,default:""},boxShadow:{type:String,default:"0 0 15px -10px"},aniTime:{type:Number,default:parseInt(_.configs.aniTime.long)},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","click"],setup(e,l){var g=l.emit;const V=_.utils,h=_.colors,x=g,S=e,z=o(null),y=o(!1),C=o(!1),j=o([0,0]),T=o(0),k=o(0);V.randomComId();const U=a({get:()=>S.modelValue,set:e=>{x("update:modelValue",e),x("change",e),j.value=e}}),I=a((()=>["top-start","top","top-end","right","bottom-end","bottom","bottom-start","left"].includes(S.position)?S.position:"bottom-end")),B=a((()=>V.getPx(S.size))),O=a((()=>""==S.bgColor?h.value.front:S.bgColor)),E=a((()=>""==S.iconColor?h.value.text:S.iconColor)),N=a((()=>""==S.iconSize?_.configs.font.size(6):S.iconSize)),P=a((()=>""==S.borderRadius?_.configs.radius.circle:S.borderRadius)),D=a((()=>S.aniTime==parseInt(_.configs.aniTime.long)?parseInt(_.configs.aniTime.long):S.aniTime)),F=a((()=>{let e=new Map;return e.set("background",O.value),e.set("box-shadow",S.boxShadow),e.set("border-radius",P.value),e.set("width",S.size),e.set("height",S.size),e.set("z-index",_.configs.zIndex.float),e.set("transform","translate(".concat(j.value[0],"px,").concat(j.value[1],"px)")),e.set("transition-duration","".concat(y.value?D.value:0,"ms")),e}));function L(){let e=p(),l=S.margin;T.value=e.windowHeight,k.value=e.windowWidth;let o=T.value-B.value-l,a=k.value-B.value-l,t=(T.value-B.value)/2,n=(k.value-B.value)/2;if(S.init)switch(I.value){case"top-start":U.value=[l,l];break;case"top":U.value=[n,l];break;case"top-end":U.value=[a,l];break;case"right":U.value=[a,t];break;case"bottom-end":U.value=[a,o];break;case"bottom":U.value=[n,o];break;case"bottom-start":U.value=[l,o];break;case"left":U.value=[l,t]}i((()=>{y.value=!0}))}function X(e){if(S.disabled)return null;x("click",e)}function Y(e,l){y.value=!1,U.value=[Math.min(Math.max(e-B.value/2,0),k.value-B.value),Math.min(Math.max(l-B.value/2,0),T.value-B.value)]}function $(e){let l=e.touches[0];e.preventDefault(),e.stopPropagation(),Y(l.clientX,l.clientY)}function A(){if(S.disabled)return null;let e=S.margin;y.value=!0,S.absorb&&(j.value[0]+B.value/2<k.value/2?j.value[0]=e:j.value[0]=k.value-B.value-e)}function H(){if(S.disabled)return null;C.value=!0}function J(){if(S.disabled)return null;C.value=!1,A()}function W(e){if(S.disabled)return null;e.preventDefault(),e.stopPropagation(),C.value&&Y(e.clientX,e.clientY)}return t((()=>S.position),(()=>{L()})),t((()=>S.init),(()=>{L()})),t((()=>S.modelValue),(e=>{j.value=e})),n((()=>{window.addEventListener("mouseup",J),window.addEventListener("mousemove",W),L(),i((()=>{M(z.value,(()=>{L()}))}))})),(l=null,o=null)=>{const a=w(u("sn-icon"),R),t=c;return b(),s(t,{class:"sn-float-button",ref_key:"buttonEle",ref:z,onClick:X,onTouchmove:$,onTouchend:A,onTouchcancel:A,onMousedown:H,style:r([m(F),e.customStyle])},{default:d((()=>[f(l.$slots,"default",{},(()=>[v(a,{name:e.icon,color:m(E),size:m(N)},null,8,["name","color","size"])]),!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-3b3dd78a"]]),O=l({__name:"sn-float-button",setup(l){const a=_.colors,t=o({model:[0,0],init:!0,position:4,absorb:!0,margin:20,boxShadow:"0 0 15px -10px",aniTime:parseInt(_.configs.aniTime.long),borderRadius:"",icon:"add-line",iconSize:"",iconColor:"white",size:"60px",bgColor:a.value.primary}),n=[new x({id:"top-start",text:"左上"}),new x({id:"top",text:"正上"}),new x({id:"top-end",text:"右上"}),new x({id:"right",text:"右侧"}),new x({id:"bottom-end",text:"右下"}),new x({id:"bottom",text:"正下"}),new x({id:"bottom-start",text:"左下"}),new x({id:"left",text:"左侧"})];return(l=null,o=null)=>{var a,i,s,r,p,c,f,_,x,R,I;const M=w(u("sn-topbar"),e),O=w(u("sn-switch"),S),E=w(u("sn-form-item"),z),N=w(u("sn-select"),y),P=w(u("sn-stepper"),C),D=w(u("sn-input"),j),F=w(u("sn-form"),T),L=w(u("com-card"),k),X=w(u("sn-page"),U),Y=w(u("sn-float-button"),B);return b(),g(h,null,[v(X,null,{default:d((()=>[v(M,{title:"Float Button 浮动按钮"}),v(L,{title:"组件演示",note:"单纯的悬浮按钮，也能有很多趣味。"},{default:d((()=>[v(F,{modelValue:m(t),"onUpdate:modelValue":o[11]||(o[11]=(e=null)=>V(t)?t.value=e:null),showBorder:!1},{default:d((()=>[v(E,{label:"是否预设位置"},{default:d((()=>[v(O,{modelValue:m(t).init,"onUpdate:modelValue":o[0]||(o[0]=(e=null)=>m(t).init=e)},null,8,["modelValue"])])),_:1}),v(E,{label:"松手吸附"},{default:d((()=>[v(O,{modelValue:m(t).absorb,"onUpdate:modelValue":o[1]||(o[1]=(e=null)=>m(t).absorb=e)},null,8,["modelValue"])])),_:1}),v(E,{label:"位置"},{default:d((()=>[v(N,{modelValue:m(t).position,"onUpdate:modelValue":o[2]||(o[2]=(e=null)=>m(t).position=e),width:"200px",data:n},null,8,["modelValue"])])),_:1}),v(E,{label:"动画时长"},{default:d((()=>[v(P,{modelValue:m(t).aniTime,"onUpdate:modelValue":o[3]||(o[3]=(e=null)=>m(t).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),v(E,{label:"按钮尺寸"},{default:d((()=>[v(D,{modelValue:m(t).size,"onUpdate:modelValue":o[4]||(o[4]=(e=null)=>m(t).size=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(E,{label:"背景颜色"},{default:d((()=>[v(D,{modelValue:m(t).bgColor,"onUpdate:modelValue":o[5]||(o[5]=(e=null)=>m(t).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(E,{label:"圆角大小"},{default:d((()=>[v(D,{modelValue:m(t).borderRadius,"onUpdate:modelValue":o[6]||(o[6]=(e=null)=>m(t).borderRadius=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(E,{label:"阴影"},{default:d((()=>[v(D,{modelValue:m(t).boxShadow,"onUpdate:modelValue":o[7]||(o[7]=(e=null)=>m(t).boxShadow=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(E,{label:"图标"},{default:d((()=>[v(D,{modelValue:m(t).icon,"onUpdate:modelValue":o[8]||(o[8]=(e=null)=>m(t).icon=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(E,{label:"图标字体大小"},{default:d((()=>[v(D,{modelValue:m(t).iconSize,"onUpdate:modelValue":o[9]||(o[9]=(e=null)=>m(t).iconSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(E,{label:"图标颜色"},{default:d((()=>[v(D,{modelValue:m(t).iconColor,"onUpdate:modelValue":o[10]||(o[10]=(e=null)=>m(t).iconColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),v(Y,{modelValue:m(t).model,"onUpdate:modelValue":o[12]||(o[12]=(e=null)=>m(t).model=e),init:null===(a=m(t).init)||void 0===a||a,aniTime:null!==(i=m(t).aniTime)&&void 0!==i?i:0,absorb:null===(s=m(t).absorb)||void 0===s||s,position:n[null!==(r=m(t).position)&&void 0!==r?r:4].id,bgColor:null!==(p=m(t).bgColor)&&void 0!==p?p:"",size:null!==(c=m(t).size)&&void 0!==c?c:"",icon:null!==(f=m(t).icon)&&void 0!==f?f:"",iconSize:null!==(_=m(t).iconSize)&&void 0!==_?_:"",iconColor:null!==(x=m(t).iconColor)&&void 0!==x?x:"",boxShadow:null!==(R=m(t).boxShadow)&&void 0!==R?R:"",borderRadius:null!==(I=m(t).borderRadius)&&void 0!==I?I:""},null,8,["modelValue","init","aniTime","absorb","position","bgColor","size","icon","iconSize","iconColor","boxShadow","borderRadius"])],64)}}});export{O as default};
