import{_ as e}from"./sn-topbar.DGNmRcUY.js";import{d as l,r as o,c as a,w as t,k as n,l as u,b as i,e as s,f as d,m as r,u as m,V as p,p as c,o as b,t as f,g as v,h as g,i as V,F as h}from"./index-D82xabMX.js";import{$ as _,r as w,S as x}from"./uni-app.es.Cv0ss-rw.js";import{_ as S}from"./sn-switch.B79Tps6Q.js";import{_ as z}from"./sn-form-item.D3fgF-ip.js";import{_ as y}from"./sn-select.B1heSqvw.js";import{_ as C}from"./sn-stepper.Q3yYL--b.js";import{_ as j}from"./sn-input.OLyd3D9e.js";import{_ as U}from"./sn-form.uvue_vue_type_script_setup_true_lang.CZfQ0e94.js";import{_ as k}from"./com-card.2Ru7Wd6o.js";import{_ as D}from"./sn-page.CIc3m52K.js";import{a as R,c as T}from"./sn-button.CJ0ZsVkl.js";import{u as I}from"./useResize.C5gdmbvL.js";import"./sn-alert.IFfoCHl2.js";import"./sn-line.C1IVPNnk.js";const M=T(l(Object.assign({name:"sn-float-button"},{__name:"sn-float-button",props:{modelValue:{type:Array,default:[0,0]},position:{type:String,default:"bottom-end"},init:{type:Boolean,default:!0},absorb:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},size:{type:String,default:"60px"},icon:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},margin:{type:Number,default:20},borderRadius:{type:String,default:""},boxShadow:{type:String,default:"0 0 15px -10px"},aniDur:{type:Number,default:parseInt(_.configs.aniTime.long)},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","click"],setup(e,l){var g=l.emit;const V=_.utils,h=_.colors,x=g,S=e,z=o(null),y=o(!1),C=o(!1),j=o([0,0]),U=o(0),k=o(0);V.randomComId();const D=a({get:()=>S.modelValue,set:e=>{x("update:modelValue",e),x("change",e),j.value=e}}),T=a((()=>["top-start","top","top-end","right","bottom-end","bottom","bottom-start","left"].includes(S.position)?S.position:"bottom-end")),M=a((()=>V.getPx(S.size))),B=a((()=>""==S.bgColor?h.value.front:S.bgColor)),O=a((()=>""==S.iconColor?h.value.text:S.iconColor)),E=a((()=>""==S.iconSize?_.configs.font.size(6):S.iconSize)),N=a((()=>""==S.borderRadius?_.configs.radius.circle:S.borderRadius)),P=a((()=>S.aniDur==parseInt(_.configs.aniTime.long)?parseInt(_.configs.aniTime.long):S.aniDur)),F=a((()=>{let e=new Map;return e.set("background",B.value),e.set("box-shadow",S.boxShadow),e.set("border-radius",N.value),e.set("width",S.size),e.set("height",S.size),e.set("z-index",_.configs.zIndex.float),e.set("transform","translate(".concat(j.value[0],"px,").concat(j.value[1],"px)")),e.set("transition-duration","".concat(y.value?P.value:0,"ms")),e}));function L(){let e=p(),l=S.margin;U.value=e.windowHeight,k.value=e.windowWidth;let o=U.value-M.value-l,a=k.value-M.value-l,t=(U.value-M.value)/2,n=(k.value-M.value)/2;if(S.init)switch(T.value){case"top-start":D.value=[l,l];break;case"top":D.value=[n,l];break;case"top-end":D.value=[a,l];break;case"right":D.value=[a,t];break;case"bottom-end":D.value=[a,o];break;case"bottom":D.value=[n,o];break;case"bottom-start":D.value=[l,o];break;case"left":D.value=[l,t]}u((()=>{y.value=!0}))}function X(e){if(S.disabled)return null;x("click",e)}function Y(e,l){y.value=!1,D.value=[Math.min(Math.max(e-M.value/2,0),k.value-M.value),Math.min(Math.max(l-M.value/2,0),U.value-M.value)]}function $(e){let l=e.touches[0];e.preventDefault(),e.stopPropagation(),Y(l.clientX,l.clientY)}function A(){if(S.disabled)return null;let e=S.margin;y.value=!0,S.absorb&&(j.value[0]+M.value/2<k.value/2?j.value[0]=e:j.value[0]=k.value-M.value-e)}function H(){if(S.disabled)return null;C.value=!0}function J(){if(S.disabled)return null;C.value=!1,A()}function W(e){if(S.disabled)return null;e.preventDefault(),e.stopPropagation(),C.value&&Y(e.clientX,e.clientY)}return t((()=>S.position),(()=>{L()})),t((()=>S.init),(()=>{L()})),t((()=>S.modelValue),(e=>{j.value=e})),n((()=>{window.addEventListener("mouseup",J),window.addEventListener("mousemove",W),L(),u((()=>{I(z.value,(()=>{L()}))}))})),(l=null,o=null)=>{const a=w(i("sn-icon"),R),t=c;return b(),s(t,{class:"sn-float-button",ref_key:"buttonEle",ref:z,onClick:X,onTouchmove:$,onTouchend:A,onTouchcancel:A,onMousedown:H,style:r([m(F),e.customStyle])},{default:d((()=>[f(l.$slots,"default",{},(()=>[v(a,{name:e.icon,color:m(O),size:m(E)},null,8,["name","color","size"])]),!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-e3222bab"]]),B=l({__name:"sn-float-button",setup(l){const a=_.colors,t=o({model:[0,0],init:!0,position:4,absorb:!0,margin:20,boxShadow:"0 0 15px -10px",aniDur:parseInt(_.configs.aniTime.long),borderRadius:"",icon:"add-line",iconSize:"",iconColor:"white",size:"60px",bgColor:a.value.primary}),n=[new x({id:"top-start",text:"左上"}),new x({id:"top",text:"正上"}),new x({id:"top-end",text:"右上"}),new x({id:"right",text:"右侧"}),new x({id:"bottom-end",text:"右下"}),new x({id:"bottom",text:"正下"}),new x({id:"bottom-start",text:"左下"}),new x({id:"left",text:"左侧"})];return(l=null,o=null)=>{var a,u,s,r,p,c,f,_,x,R,T;const I=w(i("sn-topbar"),e),B=w(i("sn-switch"),S),O=w(i("sn-form-item"),z),E=w(i("sn-select"),y),N=w(i("sn-stepper"),C),P=w(i("sn-input"),j),F=w(i("sn-form"),U),L=w(i("com-card"),k),X=w(i("sn-page"),D),Y=w(i("sn-float-button"),M);return b(),g(h,null,[v(X,null,{default:d((()=>[v(I,{title:"Float Button 浮动按钮"}),v(L,{title:"组件演示",note:"单纯的悬浮按钮，也能有很多趣味。"},{default:d((()=>[v(F,{modelValue:m(t),"onUpdate:modelValue":o[11]||(o[11]=(e=null)=>V(t)?t.value=e:null),showBorder:!1},{default:d((()=>[v(O,{label:"是否预设位置"},{default:d((()=>[v(B,{modelValue:m(t).init,"onUpdate:modelValue":o[0]||(o[0]=(e=null)=>m(t).init=e)},null,8,["modelValue"])])),_:1}),v(O,{label:"松手吸附"},{default:d((()=>[v(B,{modelValue:m(t).absorb,"onUpdate:modelValue":o[1]||(o[1]=(e=null)=>m(t).absorb=e)},null,8,["modelValue"])])),_:1}),v(O,{label:"位置"},{default:d((()=>[v(E,{modelValue:m(t).position,"onUpdate:modelValue":o[2]||(o[2]=(e=null)=>m(t).position=e),width:"200px",data:n},null,8,["modelValue"])])),_:1}),v(O,{label:"动画时长"},{default:d((()=>[v(N,{modelValue:m(t).aniDur,"onUpdate:modelValue":o[3]||(o[3]=(e=null)=>m(t).aniDur=e),step:100,min:100},null,8,["modelValue"])])),_:1}),v(O,{label:"按钮尺寸"},{default:d((()=>[v(P,{modelValue:m(t).size,"onUpdate:modelValue":o[4]||(o[4]=(e=null)=>m(t).size=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(O,{label:"背景颜色"},{default:d((()=>[v(P,{modelValue:m(t).bgColor,"onUpdate:modelValue":o[5]||(o[5]=(e=null)=>m(t).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(O,{label:"圆角大小"},{default:d((()=>[v(P,{modelValue:m(t).borderRadius,"onUpdate:modelValue":o[6]||(o[6]=(e=null)=>m(t).borderRadius=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(O,{label:"阴影"},{default:d((()=>[v(P,{modelValue:m(t).boxShadow,"onUpdate:modelValue":o[7]||(o[7]=(e=null)=>m(t).boxShadow=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(O,{label:"图标"},{default:d((()=>[v(P,{modelValue:m(t).icon,"onUpdate:modelValue":o[8]||(o[8]=(e=null)=>m(t).icon=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(O,{label:"图标字体大小"},{default:d((()=>[v(P,{modelValue:m(t).iconSize,"onUpdate:modelValue":o[9]||(o[9]=(e=null)=>m(t).iconSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),v(O,{label:"图标颜色"},{default:d((()=>[v(P,{modelValue:m(t).iconColor,"onUpdate:modelValue":o[10]||(o[10]=(e=null)=>m(t).iconColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),v(Y,{modelValue:m(t).model,"onUpdate:modelValue":o[12]||(o[12]=(e=null)=>m(t).model=e),init:null===(a=m(t).init)||void 0===a||a,aniDur:null!==(u=m(t).aniDur)&&void 0!==u?u:0,absorb:null===(s=m(t).absorb)||void 0===s||s,position:n[null!==(r=m(t).position)&&void 0!==r?r:4].id,bgColor:null!==(p=m(t).bgColor)&&void 0!==p?p:"",size:null!==(c=m(t).size)&&void 0!==c?c:"",icon:null!==(f=m(t).icon)&&void 0!==f?f:"",iconSize:null!==(_=m(t).iconSize)&&void 0!==_?_:"",iconColor:null!==(x=m(t).iconColor)&&void 0!==x?x:"",boxShadow:null!==(R=m(t).boxShadow)&&void 0!==R?R:"",borderRadius:null!==(T=m(t).borderRadius)&&void 0!==T?T:""},null,8,["modelValue","init","aniDur","absorb","position","bgColor","size","icon","iconSize","iconColor","boxShadow","borderRadius"])],64)}}});export{B as default};
