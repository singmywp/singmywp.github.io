import{_ as e}from"./sn-topbar.wm0GzhH3.js";import{d as l,$ as o,r as a,c as t,w as n,o as i,a as u,e as s,f as d,m as r,p as m,u as p,x as c,M as b,n as f,_ as v,b as g,z as V,g as h,S as _,h as w,i as x,F as S}from"./index-DYMgrqHp.js";import{r as z}from"./uni-app.es.DgDfNdgy.js";import{_ as j}from"./sn-switch.CRzEpFQb.js";import{_ as y}from"./sn-form-item.H9V81OhK.js";import{_ as T}from"./sn-select.CIbdfrXO.js";import{_ as C}from"./sn-stepper.CLd4BeEG.js";import{_ as U}from"./sn-input.Cq5jBGx5.js";import{_ as k}from"./sn-form.uvue_vue_type_script_setup_true_lang.i8bEa9At.js";import{_ as R}from"./com-card.BtLNzB63.js";import{_ as O}from"./sn-page.Cf6LEMVT.js";import{_ as M,b as B}from"./sn-text.euomPoe8.js";import{u as N}from"./useResize.Cfi37DcV.js";import"./sn-button.BjZePiC5.js";import"./sn-loading.t5otRKvs.js";import"./sn-menu-item.DkjoXkWj.js";import"./sn-overlay.CiZFgEyq.js";import"./sn-alert.B2UqFsTR.js";import"./sn-line.BnKikEoE.js";const I=B(l(Object.assign({name:"sn-float-button"},{__name:"sn-float-button",props:{modelValue:{type:Array,default:[0,0]},position:{type:String,default:"bottom-end"},init:{type:Boolean,default:!0},absorb:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},size:{type:String,default:"60px"},icon:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},margin:{type:Number,default:20},borderRadius:{type:String,default:""},boxShadow:{type:String,default:"0 0 15px -10px"},aniTime:{type:String,default:o.configs.aniTime.long},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","click"],setup(e,l){var _=l.emit;const w=o.utils,x=o.colors,S=_,j=e,y=a(null),T=a(!1),C=a([0,0]),U=a(0),k=a(0),R=a(!1),O=t({get:()=>j.modelValue,set:e=>{S("update:modelValue",e),S("change",e),C.value=e}}),B=t((()=>["top-start","top","top-end","right","bottom-end","bottom","bottom-start","left"].includes(j.position)?j.position:"bottom-end")),I=t((()=>w.getPx(j.size))),J=t((()=>c("color",j.bgColor,x.value.front))),E=t((()=>c("color",j.iconColor,x.value.text))),L=t((()=>c("font",j.iconSize,o.configs.font.size(6)))),P=t((()=>c("radius",j.borderRadius,o.configs.radius.circle))),$=t((()=>c("aniTime",j.aniTime,o.configs.aniTime.long))),D=t((()=>{const e=new Map;return e.set("background",j.disabled?x.value.disabled:J.value),e.set("box-shadow",j.boxShadow),e.set("border-radius",P.value),e.set("width",j.size),e.set("height",j.size),e.set("z-index",o.configs.zIndex.float),e.set("transform","translate(".concat(C.value[0],"px,").concat(C.value[1],"px)")),e.set("transition-duration","".concat(T.value?parseInt($.value):0,"ms")),e}));function F(){let e=b(),l=j.margin;U.value=e.windowHeight,k.value=e.windowWidth;let o=U.value-I.value-l,a=k.value-I.value-l,t=(U.value-I.value)/2,n=(k.value-I.value)/2;if(j.init)switch(B.value){case"top-start":O.value=[l,l];break;case"top":O.value=[n,l];break;case"top-end":O.value=[a,l];break;case"right":O.value=[a,t];break;case"bottom-end":O.value=[a,o];break;case"bottom":O.value=[n,o];break;case"bottom-start":O.value=[l,o];break;case"left":O.value=[l,t]}f((()=>{T.value=!0}))}function X(e){if(j.disabled)return null;S("click",e)}function Y(e,l){T.value=!1,O.value=[Math.min(Math.max(e-I.value/2,0),k.value-I.value),Math.min(Math.max(l-I.value/2,0),U.value-I.value)]}function A(e){if(j.disabled)return null;let l=e.touches[0];e.preventDefault(),e.stopPropagation(),Y(l.clientX,l.clientY)}function H(){if(j.disabled)return null;let e=j.margin;T.value=!0,j.absorb&&(C.value[0]+I.value/2<k.value/2?C.value[0]=e:C.value[0]=k.value-I.value-e)}function K(){if(j.disabled)return null;R.value=!0}function Q(){if(j.disabled)return null;R.value=!1,H()}function W(e){if(j.disabled)return null;e.preventDefault(),e.stopPropagation(),R.value&&Y(e.clientX,e.clientY)}return n((()=>j.position),(()=>{F()})),n((()=>j.init),(()=>{F()})),n((()=>j.modelValue),(e=>{C.value=e})),i((()=>{window.addEventListener("mouseup",Q),window.addEventListener("mousemove",W),F(),N(y.value,(()=>{F()}))})),(l=null,o=null)=>{const a=z(u("sn-icon"),M),t=v;return g(),s(t,{class:r(["sn-float-button",new UTSJSONObject({disabled:e.disabled})]),ref_key:"buttonEle",ref:y,onClick:X,onTouchmove:A,onTouchend:H,onTouchcancel:H,onMousedown:K,style:m([p(D),e.customStyle])},{default:d((()=>[V(l.$slots,"default",{},(()=>[h(a,{name:e.icon,color:e.disabled?p(x).disabledText:p(E),size:p(L)},null,8,["name","color","size"])]),!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-bdf0137f"]]),J=l({__name:"sn-float-button",setup(l){const t=o.colors,n=a(new UTSJSONObject({model:[0,0],init:!0,position:4,absorb:!0,margin:20,disabled:!1,boxShadow:"0 0 15px -10px",aniTime:parseInt(o.configs.aniTime.long),borderRadius:"",icon:"add-line",iconSize:"",iconColor:"white",size:"60px",bgColor:t.value.primary})),i=[new _({id:"top-start",text:"左上"}),new _({id:"top",text:"正上"}),new _({id:"top-end",text:"右上"}),new _({id:"right",text:"右侧"}),new _({id:"bottom-end",text:"右下"}),new _({id:"bottom",text:"正下"}),new _({id:"bottom-start",text:"左下"}),new _({id:"left",text:"左侧"})];return(l=null,o=null)=>{var a;const t=z(u("sn-topbar"),e),s=z(u("sn-switch"),j),r=z(u("sn-form-item"),y),m=z(u("sn-select"),T),c=z(u("sn-stepper"),C),b=z(u("sn-input"),U),f=z(u("sn-form"),k),v=z(u("com-card"),R),V=z(u("sn-page"),O),_=z(u("sn-float-button"),I);return g(),w(S,null,[h(V,null,{default:d((()=>[h(t,{title:"Float Button 浮动按钮"}),h(v,{title:"组件演示",note:"单纯的悬浮按钮，也能有很多趣味。"},{default:d((()=>[h(f,{modelValue:p(n),"onUpdate:modelValue":o[12]||(o[12]=(e=null)=>x(n)?n.value=e:null),showBorder:!1},{default:d((()=>[h(r,{label:"是否预设位置"},{default:d((()=>[h(s,{modelValue:p(n).init,"onUpdate:modelValue":o[0]||(o[0]=(e=null)=>p(n).init=e)},null,8,["modelValue"])])),_:1}),h(r,{label:"松手吸附"},{default:d((()=>[h(s,{modelValue:p(n).absorb,"onUpdate:modelValue":o[1]||(o[1]=(e=null)=>p(n).absorb=e)},null,8,["modelValue"])])),_:1}),h(r,{label:"禁用"},{default:d((()=>[h(s,{modelValue:p(n).disabled,"onUpdate:modelValue":o[2]||(o[2]=(e=null)=>p(n).disabled=e)},null,8,["modelValue"])])),_:1}),h(r,{label:"位置"},{default:d((()=>[h(m,{modelValue:p(n).position,"onUpdate:modelValue":o[3]||(o[3]=(e=null)=>p(n).position=e),width:"200px",data:i},null,8,["modelValue"])])),_:1}),h(r,{label:"动画时长"},{default:d((()=>[h(c,{modelValue:p(n).aniTime,"onUpdate:modelValue":o[4]||(o[4]=(e=null)=>p(n).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),h(r,{label:"按钮尺寸"},{default:d((()=>[h(b,{modelValue:p(n).size,"onUpdate:modelValue":o[5]||(o[5]=(e=null)=>p(n).size=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),h(r,{label:"背景颜色"},{default:d((()=>[h(b,{modelValue:p(n).bgColor,"onUpdate:modelValue":o[6]||(o[6]=(e=null)=>p(n).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),h(r,{label:"圆角大小"},{default:d((()=>[h(b,{modelValue:p(n).borderRadius,"onUpdate:modelValue":o[7]||(o[7]=(e=null)=>p(n).borderRadius=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),h(r,{label:"阴影"},{default:d((()=>[h(b,{modelValue:p(n).boxShadow,"onUpdate:modelValue":o[8]||(o[8]=(e=null)=>p(n).boxShadow=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),h(r,{label:"图标"},{default:d((()=>[h(b,{modelValue:p(n).icon,"onUpdate:modelValue":o[9]||(o[9]=(e=null)=>p(n).icon=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),h(r,{label:"图标字体大小"},{default:d((()=>[h(b,{modelValue:p(n).iconSize,"onUpdate:modelValue":o[10]||(o[10]=(e=null)=>p(n).iconSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),h(r,{label:"图标颜色"},{default:d((()=>[h(b,{modelValue:p(n).iconColor,"onUpdate:modelValue":o[11]||(o[11]=(e=null)=>p(n).iconColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),h(_,{modelValue:p(n).model,"onUpdate:modelValue":o[13]||(o[13]=(e=null)=>p(n).model=e),init:p(n).init,disabled:p(n).disabled,aniTime:"".concat(p(n).aniTime,"ms"),absorb:p(n).absorb,position:i[null!==(a=p(n).position)&&void 0!==a?a:4].id,bgColor:p(n).bgColor,size:p(n).size,icon:p(n).icon,iconSize:p(n).iconSize,iconColor:p(n).iconColor,boxShadow:p(n).boxShadow,borderRadius:p(n).borderRadius},null,8,["modelValue","init","disabled","aniTime","absorb","position","bgColor","size","icon","iconSize","iconColor","boxShadow","borderRadius"])],64)}}});export{J as default};
