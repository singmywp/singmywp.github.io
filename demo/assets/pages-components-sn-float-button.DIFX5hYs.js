import{_ as e}from"./sn-topbar.D5ol6wWa.js";import{d as l,$ as a,r as o,c as t,w as n,l as i,a as u,b as s,e as d,p as r,q as m,u as c,z as p,N as b,m as f,j as v,o as g,t as V,f as w,S as h,g as _,i as x,F as S}from"./index-BDGnenFq.js";import{r as z}from"./uni-app.es.BfR9KIrQ.js";import{_ as y}from"./sn-switch.C9OcCgtN.js";import{_ as j}from"./sn-form-item.5AoZzHl5.js";import{_ as T}from"./sn-select.DZA2RrE9.js";import{_ as C}from"./sn-stepper.DswC5NdZ.js";import{_ as U}from"./sn-input.CQs-BOzL.js";import{_ as k}from"./sn-form.uvue_vue_type_script_setup_true_lang.D7WErNjU.js";import{_ as O}from"./com-card.CltZjJtY.js";import{_ as R}from"./sn-page.BIWIogO0.js";import{a as M,c as B}from"./sn-button.DCeBN0oM.js";import{u as N}from"./useResize.C1IVTLMN.js";import"./sn-alert.YjlOp3ma.js";import"./sn-line.CxWqAnnd.js";const E=B(l(Object.assign({name:"sn-float-button"},{__name:"sn-float-button",props:{modelValue:{type:Array,default:[0,0]},position:{type:String,default:"bottom-end"},init:{type:Boolean,default:!0},absorb:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},size:{type:String,default:"60px"},icon:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},margin:{type:Number,default:20},borderRadius:{type:String,default:""},boxShadow:{type:String,default:"0 0 15px -10px"},aniTime:{type:String,default:a.configs.aniTime.long},customStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))}},emits:["update:modelValue","change","click"],setup(e,l){var h=l.emit;const _=a.utils,x=a.colors,S=h,y=e,j=o(null),T=o(!1),C=o([0,0]),U=o(0),k=o(0),O=t({get:()=>y.modelValue,set:e=>{S("update:modelValue",e),S("change",e),C.value=e}}),R=t((()=>["top-start","top","top-end","right","bottom-end","bottom","bottom-start","left"].includes(y.position)?y.position:"bottom-end")),B=t((()=>_.getPx(y.size))),E=t((()=>p("color",y.bgColor,x.value.front))),I=t((()=>p("color",y.iconColor,x.value.text))),J=t((()=>p("font",y.iconSize,a.configs.font.size(6)))),P=t((()=>p("radius",y.borderRadius,a.configs.radius.circle))),D=t((()=>p("aniTime",y.aniTime,a.configs.aniTime.long))),F=t((()=>{let e=new Map;return e.set("background",y.disabled?x.value.disabled:E.value),e.set("box-shadow",y.boxShadow),e.set("border-radius",P.value),e.set("width",y.size),e.set("height",y.size),e.set("z-index",a.configs.zIndex.float),e.set("transform","translate(".concat(C.value[0],"px,").concat(C.value[1],"px)")),e.set("transition-duration","".concat(T.value?parseInt(D.value):0,"ms")),e}));function A(){let e=b(),l=y.margin;U.value=e.windowHeight,k.value=e.windowWidth;let a=U.value-B.value-l,o=k.value-B.value-l,t=(U.value-B.value)/2,n=(k.value-B.value)/2;if(y.init)switch(R.value){case"top-start":O.value=[l,l];break;case"top":O.value=[n,l];break;case"top-end":O.value=[o,l];break;case"right":O.value=[o,t];break;case"bottom-end":O.value=[o,a];break;case"bottom":O.value=[n,a];break;case"bottom-start":O.value=[l,a];break;case"left":O.value=[l,t]}f((()=>{T.value=!0}))}function L(e){if(y.disabled)return null;S("click",e)}function W(e,l){T.value=!1,O.value=[Math.min(Math.max(e-B.value/2,0),k.value-B.value),Math.min(Math.max(l-B.value/2,0),U.value-B.value)]}function X(e){if(y.disabled)return null;let l=e.touches[0];e.preventDefault(),e.stopPropagation(),W(l.clientX,l.clientY)}function Y(){if(y.disabled)return null;let e=y.margin;T.value=!0,y.absorb&&(C.value[0]+B.value/2<k.value/2?C.value[0]=e:C.value[0]=k.value-B.value-e)}function $(){if(y.disabled)return null;mousedown.value=!0}function q(){if(y.disabled)return null;mousedown.value=!1,Y()}function H(e){if(y.disabled)return null;e.preventDefault(),e.stopPropagation(),mousedown.value&&W(e.clientX,e.clientY)}return n((()=>y.position),(()=>{A()})),n((()=>y.init),(()=>{A()})),n((()=>y.modelValue),(e=>{C.value=e})),i((()=>{window.addEventListener("mouseup",q),window.addEventListener("mousemove",H),A(),N(j.value,(()=>{A()}))})),(l=null,a=null)=>{const o=z(u("sn-icon"),M),t=v;return g(),s(t,{class:r(["sn-float-button",new UTSJSONObject({disabled:e.disabled})]),ref_key:"buttonEle",ref:j,onClick:L,onTouchmove:X,onTouchend:Y,onTouchcancel:Y,onMousedown:$,style:m([c(F),e.customStyle])},{default:d((()=>[V(l.$slots,"default",{},(()=>[w(o,{name:e.icon,color:e.disabled?c(x).disabledText:c(I),size:c(J)},null,8,["name","color","size"])]),!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-712fa453"]]),I=l({__name:"sn-float-button",setup(l){const t=a.colors,n=o({model:[0,0],init:!0,position:4,absorb:!0,margin:20,disabled:!1,boxShadow:"0 0 15px -10px",aniTime:parseInt(a.configs.aniTime.long),borderRadius:"",icon:"add-line",iconSize:"",iconColor:"white",size:"60px",bgColor:t.value.primary}),i=[new h({id:"top-start",text:"左上"}),new h({id:"top",text:"正上"}),new h({id:"top-end",text:"右上"}),new h({id:"right",text:"右侧"}),new h({id:"bottom-end",text:"右下"}),new h({id:"bottom",text:"正下"}),new h({id:"bottom-start",text:"左下"}),new h({id:"left",text:"左侧"})];return(l=null,a=null)=>{var o;const t=z(u("sn-topbar"),e),s=z(u("sn-switch"),y),r=z(u("sn-form-item"),j),m=z(u("sn-select"),T),p=z(u("sn-stepper"),C),b=z(u("sn-input"),U),f=z(u("sn-form"),k),v=z(u("com-card"),O),V=z(u("sn-page"),R),h=z(u("sn-float-button"),E);return g(),_(S,null,[w(V,null,{default:d((()=>[w(t,{title:"Float Button 浮动按钮"}),w(v,{title:"组件演示",note:"单纯的悬浮按钮，也能有很多趣味。"},{default:d((()=>[w(f,{modelValue:c(n),"onUpdate:modelValue":a[12]||(a[12]=(e=null)=>x(n)?n.value=e:null),showBorder:!1},{default:d((()=>[w(r,{label:"是否预设位置"},{default:d((()=>[w(s,{modelValue:c(n).init,"onUpdate:modelValue":a[0]||(a[0]=(e=null)=>c(n).init=e)},null,8,["modelValue"])])),_:1}),w(r,{label:"松手吸附"},{default:d((()=>[w(s,{modelValue:c(n).absorb,"onUpdate:modelValue":a[1]||(a[1]=(e=null)=>c(n).absorb=e)},null,8,["modelValue"])])),_:1}),w(r,{label:"禁用"},{default:d((()=>[w(s,{modelValue:c(n).disabled,"onUpdate:modelValue":a[2]||(a[2]=(e=null)=>c(n).disabled=e)},null,8,["modelValue"])])),_:1}),w(r,{label:"位置"},{default:d((()=>[w(m,{modelValue:c(n).position,"onUpdate:modelValue":a[3]||(a[3]=(e=null)=>c(n).position=e),width:"200px",data:i},null,8,["modelValue"])])),_:1}),w(r,{label:"动画时长"},{default:d((()=>[w(p,{modelValue:c(n).aniTime,"onUpdate:modelValue":a[4]||(a[4]=(e=null)=>c(n).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),w(r,{label:"按钮尺寸"},{default:d((()=>[w(b,{modelValue:c(n).size,"onUpdate:modelValue":a[5]||(a[5]=(e=null)=>c(n).size=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),w(r,{label:"背景颜色"},{default:d((()=>[w(b,{modelValue:c(n).bgColor,"onUpdate:modelValue":a[6]||(a[6]=(e=null)=>c(n).bgColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),w(r,{label:"圆角大小"},{default:d((()=>[w(b,{modelValue:c(n).borderRadius,"onUpdate:modelValue":a[7]||(a[7]=(e=null)=>c(n).borderRadius=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),w(r,{label:"阴影"},{default:d((()=>[w(b,{modelValue:c(n).boxShadow,"onUpdate:modelValue":a[8]||(a[8]=(e=null)=>c(n).boxShadow=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),w(r,{label:"图标"},{default:d((()=>[w(b,{modelValue:c(n).icon,"onUpdate:modelValue":a[9]||(a[9]=(e=null)=>c(n).icon=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),w(r,{label:"图标字体大小"},{default:d((()=>[w(b,{modelValue:c(n).iconSize,"onUpdate:modelValue":a[10]||(a[10]=(e=null)=>c(n).iconSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),w(r,{label:"图标颜色"},{default:d((()=>[w(b,{modelValue:c(n).iconColor,"onUpdate:modelValue":a[11]||(a[11]=(e=null)=>c(n).iconColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),w(h,{modelValue:c(n).model,"onUpdate:modelValue":a[13]||(a[13]=(e=null)=>c(n).model=e),init:c(n).init,disabled:c(n).disabled,aniTime:"".concat(c(n).aniTime,"ms"),absorb:c(n).absorb,position:i[null!==(o=c(n).position)&&void 0!==o?o:4].id,bgColor:c(n).bgColor,size:c(n).size,icon:c(n).icon,iconSize:c(n).iconSize,iconColor:c(n).iconColor,boxShadow:c(n).boxShadow,borderRadius:c(n).borderRadius},null,8,["modelValue","init","disabled","aniTime","absorb","position","bgColor","size","icon","iconSize","iconColor","boxShadow","borderRadius"])],64)}}});export{I as default};
