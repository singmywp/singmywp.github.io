import{_ as t}from"./sn-topbar.D5ol6wWa.js";import{d as e,A as l,$ as s,r as o,k as a,c as i,l as n,m as r,a as u,b as d,e as c,u as f,q as g,z as y,j as v,o as m,f as p,t as b,v as S,x as h,y as x,C,L as w,g as O,F as j}from"./index-BDGnenFq.js";import{r as T}from"./uni-app.es.BfR9KIrQ.js";import{_ as z}from"./com-card.CltZjJtY.js";import{_}from"./sn-avatar.BXOU_hdn.js";import{a as k,b as B,c as N}from"./sn-button.DCeBN0oM.js";import{_ as U}from"./sn-line.CxWqAnnd.js";import{u as J}from"./useResize.C1IVTLMN.js";import{_ as R}from"./sn-badge.Dfmw76z5.js";import{_ as $}from"./sn-page.BIWIogO0.js";import{l as A,a as I,b as M}from"./longtext.BGk0ymny.js";const E=N(e(Object.assign({name:"sn-list-item"},{__name:"sn-list-item",props:{ellipsis:{type:Number,default:0},disabled:{type:Boolean,default:!1},title:{type:String,default:""},titleSize:{type:String,default:""},titleColor:{type:String,default:""},note:{type:String,default:""},noteSize:{type:String,default:""},noteColor:{type:String,default:""},rightText:{type:String,default:""},rightTextSize:{type:String,default:""},rightTextColor:{type:String,default:""},avatarConfig:{type:Object,default:new l({})},icon:{type:String,default:""},iconSize:{type:String,default:""},iconColor:{type:String,default:""},showArrow:{type:Boolean,default:!1},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},padding:{type:String,default:"13px 15px"},customTitleStyle:{type:Object,default:new UTSJSONObject({})},customNoteStyle:{type:Object,default:new UTSJSONObject({})},customRightTextStyle:{type:Object,default:new UTSJSONObject({})},customAvatarStyle:{type:Object,default:new UTSJSONObject({})},customIconStyle:{type:Object,default:new UTSJSONObject({})},customBodyStyle:{type:Object,default:new UTSJSONObject({})},customHeaderStyle:{type:Object,default:new UTSJSONObject({})},customFooterStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["click"],setup(t,e){var l=e.expose,x=e.emit;const C=s.colors,w=s.utils,O=h(),j=x,z=t,N=w.randomComId(),R=o([]),$=o(!1),A=o(null),I=a("showBorder",o(!1)),M=o(!0),E=i((()=>y("color",z.titleColor,C.value.title))),L=i((()=>y("color",z.noteColor,C.value.textLight))),F=i((()=>y("color",z.rightTextColor,C.value.textLight))),D=i((()=>y("color",z.iconColor,C.value.title))),q=i((()=>y("color",z.disabledBgColor,C.value.disabled))),H=i((()=>y("color",z.disabledTextColor,C.value.disabledText))),P=i((()=>y("color",z.activeBgColor,C.value.info))),Z=i((()=>{let t=y("color",z.bgColor,C.value.transparent);return z.disabled?q.value:$.value?P.value:t})),G=i((()=>{var t,e;return!w.isEmpty(null!==(e=null===(t=z.avatarConfig)||void 0===t?void 0:t.src)&&void 0!==e?e:"")})),Q=i((()=>!G.value&&!w.isEmpty(z.icon))),K=i((()=>y("font",z.titleSize,s.configs.font.size(2)))),V=i((()=>y("font",z.noteSize,s.configs.font.size(1)))),W=i((()=>y("font",z.rightTextSize,s.configs.font.size(1)))),X=i((()=>y("font",z.iconSize,s.configs.font.size(4)))),Y=i((()=>{let t=new Map;return t.set("background",Z.value),t.set("transition-duration",s.configs.aniTime.normal),t})),tt=i((()=>{let t=new Map;return t.set("padding",z.padding),t}));function et(t){if(0==z.disabled){let e=0;for(let t=0;t<R.value.length;t++){let l=R.value[t];w.getDataset(l,"sn-id")==N&&(e=t)}j("click",{id:e,event:t})}}function lt(){if(0==R.value.length)return null;I.value&&M.value&&r((()=>{let t=0;for(let e=0;e<R.value.length;e++){let l=R.value[e];w.getDataset(l,"sn-id")==N&&(t=e)}t!=R.value.length-1||(M.value=!1)}))}return l({setChildren:function(t){R.value=t,lt()}}),n((()=>{r((()=>{var t;let e=O.proxy;null===(t=w.findParent(e,["sn-list"]))||void 0===t||t.$callMethod("register",e,e.$el)})),J(A.value,(()=>{lt()}))})),(e=null,l=null)=>{const s=v,o=T(u("sn-avatar"),_),a=T(u("sn-icon"),k),i=T(u("sn-text"),B),n=T(u("sn-line"),U);return m(),d(s,{class:"sn-list-item",ref_key:"itemEle",ref:A,"data-sn-type":"sn-list-item","data-sn-id":f(N),onClick:et,onTouchstart:l[0]||(l[0]=(t=null)=>$.value=!0),onTouchend:l[1]||(l[1]=(t=null)=>$.value=!1),onTouchcancel:l[2]||(l[2]=(t=null)=>$.value=!1),style:g([f(Y),t.customStyle])},{default:c((()=>[p(s,{class:"sn-list-item-web-wrap",style:g([f(tt)])},{default:c((()=>[f(G)||f(Q)||null!=e.$slots.header?(m(),d(s,{key:0,class:"sn-list-item-header",style:g([new UTSJSONObject({marginRight:f(G)||f(Q)?"5px":""}),t.customHeaderStyle])},{default:c((()=>[b(e.$slots,"header",{},(()=>{var e,l,i,n,r,u;return[t.disabled&&f(G)?(m(),d(s,{key:0,class:"sn-list-item-avatar-overlay",style:g({width:null!==(e=t.avatarConfig.size)&&void 0!==e?e:"30px",height:null!==(l=t.avatarConfig.size)&&void 0!==l?l:"30px",borderRadius:null!==(i=t.avatarConfig.borderRadius)&&void 0!==i?i:"10px",background:f(q)})},null,8,["style"])):S("",!0),f(G)?(m(),d(o,{key:1,size:null!==(n=t.avatarConfig.size)&&void 0!==n?n:"30px",src:null!==(r=t.avatarConfig.src)&&void 0!==r?r:"",borderRadius:null!==(u=t.avatarConfig.borderRadius)&&void 0!==u?u:"10px",customStyle:t.customAvatarStyle},null,8,["size","src","borderRadius","customStyle"])):S("",!0),f(Q)?(m(),d(a,{key:2,name:t.icon,size:f(X),color:t.disabled?f(H):f(D),customStyle:t.customIconStyle},null,8,["name","size","color","customStyle"])):S("",!0)]}),!0)])),_:3},8,["style"])):S("",!0),p(s,{class:"sn-list-item-body",style:g([t.customBodyStyle])},{default:c((()=>[b(e.$slots,"default",{},(()=>[p(i,{class:"sn-list-item-title",text:t.title,size:f(K),color:t.disabled?f(H):f(E),lines:0==t.ellipsis?-1:t.ellipsis,"custom-style":t.customTitleStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","lines","custom-style"]),p(i,{class:"sn-list-item-note",text:t.note,size:f(V),color:t.disabled?f(H):f(L),lines:0==t.ellipsis?-1:t.ellipsis,"custom-style":t.customNoteStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","lines","custom-style"])]),!0)])),_:3},8,["style"]),p(s,{class:"sn-list-item-footer",style:g([t.customFooterStyle])},{default:c((()=>[b(e.$slots,"footer",{},(()=>[p(i,{class:"sn-list-item-right-text",text:t.rightText,size:f(W),color:t.disabled?f(H):f(F),"custom-style":t.customRightTextStyle,style:{lines:1,textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"]),t.showArrow?(m(),d(a,{key:0,name:"arrow-right-s-line",size:"".concat(1.6*f(w).getPx(f(W)),"px"),color:t.disabled?f(H):f(F),customStyle:t.customRightTextStyle},null,8,["size","color","customStyle"])):S("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"]),f(M)?(m(),d(n,{key:0,style:{margin:"0 auto",width:"calc(100% - 40px)"}})):S("",!0)])),_:3},8,["data-sn-id","style"])}}})),[["__scopeId","data-v-137290ab"]]),L=N(e(Object.assign({name:"sn-list"},{__name:"sn-list",props:{showBorder:{type:Boolean,default:!0},bgColor:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["click"],setup(t,e){var l=e.expose,a=e.emit;const u=s.colors,p=a,S=t,h=o([]),w=o([]),O=i((()=>S.showBorder));x("showBorder",O);const j=i((()=>y("color",S.bgColor,u.value.front))),T=i((()=>{let t=new Map;return t.set("background",j.value),t.set("border-radius",s.configs.radius.normal),t.set("transition-duration",s.configs.aniTime.normal),t}));function z(){h.value.forEach((t=>{t.$callMethod("setChildren",w.value)}))}return l({register:function(t,e){h.value.push(t),w.value.push(e)}}),n((()=>{r((()=>{r((()=>{z()}))}))})),C((()=>{r((()=>{z()}))})),(e=null,l=null)=>{const s=v;return m(),d(s,{class:"sn-list",onClick:l[0]||(l[0]=(t=null)=>p("click")),style:g([f(T),t.customStyle])},{default:c((()=>[b(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-cecacb57"]]),F=N(e(Object.assign({name:"sn-list-chat"},{__name:"sn-list-chat",props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},titleSize:{type:String,default:""},titleColor:{type:String,default:""},note:{type:String,default:""},noteSize:{type:String,default:""},noteColor:{type:String,default:""},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},time:{type:String,default:""},timeSize:{type:String,default:""},timeColor:{type:String,default:""},badgeConfig:{type:Object,default:new w({})},avatarConfig:{type:Object,default:new l({})},padding:{type:String,default:"8px 10px"},customTitleStyle:{type:Object,default:new UTSJSONObject({})},customNoteStyle:{type:Object,default:new UTSJSONObject({})},customAvatarStyle:{type:Object,default:new UTSJSONObject({})},customBadgeStyle:{type:Object,default:new UTSJSONObject({})},customBodyStyle:{type:Object,default:new UTSJSONObject({})},customHeaderStyle:{type:Object,default:new UTSJSONObject({})},customFooterStyle:{type:Object,default:new UTSJSONObject({})},customTimeStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["click"],setup(t,e){var l=e.expose,x=e.emit;const C=s.colors,w=s.utils,z=h(),k=x,N=t,U=w.randomComId(),J=o([]),$=o(!1),A=o(null),I=a("showBorder",o(!1)),M=i((()=>{var t,e;return!w.isEmpty(null!==(e=null===(t=N.avatarConfig)||void 0===t?void 0:t.src)&&void 0!==e?e:"")})),E=i((()=>{var t,e,l,s;return!(null===(e=null===(t=N.badgeConfig)||void 0===t?void 0:t.showZero)||void 0===e||!e)||0!=(null!==(s=null===(l=N.badgeConfig)||void 0===l?void 0:l.value)&&void 0!==s?s:0)})),L=i((()=>y("color",N.titleColor,C.value.title))),F=i((()=>y("color",N.noteColor,C.value.textLight))),D=i((()=>y("color",N.disabledBgColor,C.value.disabled))),q=i((()=>y("color",N.disabledTextColor,C.value.disabledText))),H=i((()=>""==N.activeBgColor?C.value.info:N.activeBgColor)),P=i((()=>{let t=y("color",N.bgColor,C.value.transparent);return N.disabled?D.value:$.value?H.value:t})),Z=i((()=>y("color",N.timeColor,C.value.textLight))),G=i((()=>y("font",N.titleSize,s.configs.font.size(3)))),Q=i((()=>y("font",N.noteSize,s.configs.font.size(1)))),K=i((()=>y("font",N.timeSize,"".concat(s.utils.getPx(s.configs.font.size(1))-1,"px")))),V=i((()=>{let t=new Map;return t.set("padding",N.padding),t.set("background",P.value),t.set("transition-duration",s.configs.aniTime.normal),I.value&&t.set("border-bottom","0.5px solid ".concat(C.value.line)),t})),W=i((()=>{var t,e,l,o,a,i,n,r;let u=new Map;return u.set("width",null!==(e=null===(t=N.avatarConfig)||void 0===t?void 0:t.size)&&void 0!==e?e:"40px"),u.set("height",null!==(o=null===(l=N.avatarConfig)||void 0===l?void 0:l.size)&&void 0!==o?o:"40px"),u.set("border-radius","circle"==(null!==(i=null===(a=N.avatarConfig)||void 0===a?void 0:a.shape)&&void 0!==i?i:"square")?s.configs.radius.circle:null!==(r=null===(n=N.avatarConfig)||void 0===n?void 0:n.borderRadius)&&void 0!==r?r:""),u.set("background",D.value),u.set("transition-duration",s.configs.aniTime.normal),u}));function X(t){if(0==N.disabled){let e=0;for(let t=0;t<J.value.length;t++){let l=J.value[t];w.getDataset(l,"sn-id")==U&&(e=t)}k("click",{id:e,event:t})}}return l({setChildren:function(t){J.value=t,I.value&&r((()=>{let t=0;for(let e=0;e<J.value.length;e++){let l=J.value[e];w.getDataset(l,"sn-id")==U&&(t=e)}t!=J.value.length-1||(I.value=!1)}))}}),n((()=>{r((()=>{var t;let e=z.proxy;null===(t=w.findParent(e,["sn-list","sn-list-long"]))||void 0===t||t.$callMethod("register",e,e.$el)}))})),(e=null,l=null)=>{const s=v,o=T(u("sn-avatar"),_),a=T(u("sn-badge"),R),i=T(u("sn-text"),B);return m(),d(s,{class:"sn-list-chat",ref_key:"itemEle",ref:A,"data-sn-type":"sn-list-chat","data-sn-id":f(U),onClick:X,onTouchstart:l[0]||(l[0]=(t=null)=>$.value=!0),onTouchend:l[1]||(l[1]=(t=null)=>$.value=!1),onTouchcancel:l[2]||(l[2]=(t=null)=>$.value=!1),onMousedown:l[3]||(l[3]=(t=null)=>$.value=!0),onMouseup:l[4]||(l[4]=(t=null)=>$.value=!1),style:g([f(V),t.customStyle])},{default:c((()=>[f(M)||null!=e.$slots.header?(m(),d(s,{key:0,class:"sn-list-chat-header",style:g([t.customHeaderStyle])},{default:c((()=>[b(e.$slots,"header",{},(()=>{var e,l,i,n,r,u,y,v,p;return[f(E)?(m(),d(a,{key:0,showZero:null!==(e=t.badgeConfig.showZero)&&void 0!==e&&e,value:null!==(l=t.badgeConfig.value)&&void 0!==l?l:0,max:null!==(i=t.badgeConfig.max)&&void 0!==i?i:-1,size:null!==(n=t.badgeConfig.size)&&void 0!==n?n:"",offset:null!==(r=t.badgeConfig.offset)&&void 0!==r?r:"",style:{"padding-left":"0"},"custom-style":t.customBadgeStyle},{default:c((()=>{var e,l,a,i;return[t.disabled&&f(M)?(m(),d(s,{key:0,class:"sn-list-chat-avatar-overlay",style:g(f(W))},null,8,["style"])):S("",!0),f(M)?(m(),d(o,{key:1,shape:null!==(e=t.avatarConfig.shape)&&void 0!==e?e:"square",size:null!==(l=t.avatarConfig.size)&&void 0!==l?l:"40px",src:null!==(a=t.avatarConfig.src)&&void 0!==a?a:"",borderRadius:null!==(i=t.avatarConfig.borderRadius)&&void 0!==i?i:"",customStyle:t.customAvatarStyle},null,8,["shape","size","src","borderRadius","customStyle"])):S("",!0)]})),_:1},8,["showZero","value","max","size","offset","custom-style"])):(m(),O(j,{key:1},[t.disabled&&f(M)?(m(),d(s,{key:0,class:"sn-list-chat-avatar-overlay",style:g(f(W))},null,8,["style"])):S("",!0),f(M)?(m(),d(o,{key:1,shape:null!==(u=t.avatarConfig.shape)&&void 0!==u?u:"square",size:null!==(y=t.avatarConfig.size)&&void 0!==y?y:"40px",src:null!==(v=t.avatarConfig.src)&&void 0!==v?v:"",borderRadius:null!==(p=t.avatarConfig.borderRadius)&&void 0!==p?p:"",customStyle:t.customAvatarStyle},null,8,["shape","size","src","borderRadius","customStyle"])):S("",!0)],64))]}),!0)])),_:3},8,["style"])):S("",!0),p(s,{class:"sn-list-chat-body",style:g([t.customBodyStyle])},{default:c((()=>[b(e.$slots,"default",{},(()=>[p(i,{class:"sn-list-chat-title",text:t.title,size:f(G),color:t.disabled?f(q):f(L),lines:1,"custom-style":t.customTitleStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"]),p(i,{class:"sn-list-chat-note",text:t.note,size:f(Q),color:t.disabled?f(q):f(F),"custom-style":t.customNoteStyle,lines:1,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"])]),!0)])),_:3},8,["style"]),p(s,{class:"sn-list-chat-footer",style:g([t.customFooterStyle])},{default:c((()=>[b(e.$slots,"footer",{},(()=>[p(i,{class:"sn-list-item-time-text",text:t.time,size:f(K),color:t.disabled?f(q):f(Z),lines:1,"custom-style":t.customTimeStyle,style:{"margin-bottom":"2px"}},null,8,["text","size","color","custom-style"])]),!0)])),_:3},8,["style"])])),_:3},8,["data-sn-id","style"])}}})),[["__scopeId","data-v-83c6155a"]]),D=e({__name:"sn-list",setup:e=>(s.colors,(e=null,s=null)=>{const o=T(u("sn-topbar"),t),a=T(u("com-card"),z),i=T(u("sn-list-item"),E),n=T(u("sn-list"),L),r=T(u("sn-list-chat"),F),g=T(u("sn-page"),$);return m(),d(g,null,{default:c((()=>[p(o,{title:"List 列表"}),p(a,{title:"基础用法",note:"List 组件用于显示列表信息、聊天信息，内置一套组件模板。\\nsn-list 下的子组件可为 sn-list-item 和 sn-list-chat。"}),p(n,null,{default:c((()=>[p(i,{title:"列表文字"}),p(i,{title:"列表文字",rightText:"右侧文字"}),p(i,{title:"列表文字",note:"列表描述信息",rightText:"右侧文字"})])),_:1}),p(a,{title:"禁用状态",note:"可为单独的子项设置禁用状态"}),p(n,null,{default:c((()=>[p(i,{title:"列表启用状态",rightText:"右侧文字"}),p(i,{title:"列表禁用状态",disabled:""}),p(i,{title:"列表启用状态",rightText:"右侧文字"})])),_:1}),p(a,{title:"右侧箭头",note:"可为单独的子项设置右侧箭头"}),p(n,null,{default:c((()=>[p(i,{title:"列表文字",rightText:"右侧文字"}),p(i,{title:"列表文字",rightText:"右侧文字",showArrow:""})])),_:1}),p(a,{title:"无分割线",note:"可为单独的子项取消分割线"}),p(n,{showBorder:!1},{default:c((()=>[p(i,{title:"列表文字",rightText:"右侧文字"}),p(i,{title:"列表文字",rightText:"右侧文字"})])),_:1}),p(a,{title:"文本溢出隐藏",note:"可设置最大行数，超过则以省略号隐藏文本"}),p(n,null,{default:c((()=>[p(i,{title:f(A),ellipsis:1},null,8,["title"]),p(i,{rightText:"2 行",title:f(I),ellipsis:2},null,8,["title"]),p(i,{rightText:"3 行",title:f(M),ellipsis:3,showArrow:""},null,8,["title"])])),_:1}),p(a,{title:"显示图标或图片",note:"每个单独的子项都可以设置图标或图片"}),p(n,null,{default:c((()=>[p(i,{title:"列表左侧带扩展图标",note:"列表描述信息",icon:"settings-line",showArrow:""}),p(i,{title:"列表左侧带缩略图",note:"列表描述信息",avatar:"https://img01.sogoucdn.com/app/a/100520093/8379901cc65ba509-45c21ceb904429fc-fffc7639a9a4d453515b56b6c1a3fc58.jpg",showArrow:""}),p(i,{title:"列表左侧带缩略图",note:"列表描述信息",rightText:"大图",avatar:"http://img.wxcha.com/m00/bb/18/bc2167461f0ba311a992f3f00a45c58d.jpg",avatarSize:"40px",showArrow:""})])),_:1}),p(a,{title:"聊天列表",note:"像聊天列表一样"}),p(n,{showBorder:!1},{default:c((()=>[p(r,{title:"琴易文",note:"你好, 这里是 SinleUI",avatarConfig:new l({src:"https://img01.sogoucdn.com/app/a/100520093/8379901cc65ba509-45c21ceb904429fc-fffc7639a9a4d453515b56b6c1a3fc58.jpg",shape:"circle"})},null,8,["avatarConfig"]),p(r,{title:"道夏柳",note:"emmm... 逆天[惊]",time:"15:35",avatarConfig:new l({src:"https://ww3.sinaimg.cn/mw690/007QvzfIly1ho2zt8iyznj30sg0sgneb.jpg"}),badgeConfig:new w({value:32,max:99})},null,8,["avatarConfig"]),p(r,{title:"灯塔上的雾",note:"[图片] 这种报错如何解决",time:"昨天",avatarConfig:new l({src:"http://img.wxcha.com/m00/bb/18/bc2167461f0ba311a992f3f00a45c58d.jpg"}),badgeConfig:new w({value:158,max:99})},null,8,["avatarConfig"])])),_:1})])),_:1})})});export{D as default};
