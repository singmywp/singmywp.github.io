import{_ as t}from"./sn-topbar.DGNmRcUY.js";import{d as e,r as l,c as a,k as s,l as o,b as i,e as n,f as r,u,m as d,p as c,o as y,g as f,t as g,v as m,x as p,A as v,w as S,h as b,F as h}from"./index-D82xabMX.js";import{$ as x,r as z,d as C}from"./uni-app.es.Cv0ss-rw.js";import{_ as w}from"./com-card.2Ru7Wd6o.js";import{_ as T}from"./sn-avatar.BKyOPiHa.js";import{a as j,b as _,c as B}from"./sn-button.CJ0ZsVkl.js";import{_ as k}from"./sn-line.C1IVPNnk.js";import{u as O}from"./useResize.C5gdmbvL.js";import{_ as R}from"./sn-badge.DHHFmXVC.js";import{_ as $}from"./sn-page.CIc3m52K.js";import{l as A,a as M,b as I}from"./longtext.Dg_mbSxN.js";const P=B(e(Object.assign({name:"sn-list-item"},{__name:"sn-list-item",props:{ellipsis:{type:Number,default:0},disabled:{type:Boolean,default:!1},title:{type:String,default:""},titleSize:{type:String,default:""},titleColor:{type:String,default:""},note:{type:String,default:""},noteSize:{type:String,default:""},noteColor:{type:String,default:""},rightText:{type:String,default:""},rightTextSize:{type:String,default:""},rightTextColor:{type:String,default:""},avatar:{type:String,default:""},avatarSize:{type:String,default:"30px"},avatarBorderRadius:{type:String,default:""},icon:{type:String,default:""},iconSize:{type:String,default:""},iconColor:{type:String,default:""},showArrow:{type:Boolean,default:!1},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},padding:{type:String,default:"13px 15px"},customTitleStyle:{type:Object,default:{}},customNoteStyle:{type:Object,default:{}},customRightTextStyle:{type:Object,default:{}},customAvatarStyle:{type:Object,default:{}},customIconStyle:{type:Object,default:{}},customBodyStyle:{type:Object,default:{}},customHeaderStyle:{type:Object,default:{}},customFooterStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["click"],setup(t,e){var v=e.expose,S=e.emit;const b=x.colors,h=x.utils,C=p(),w=S,B=t,R=h.randomComId(),$=l([]),A=l(!1),M=l(null),I=l(!1),P=a((()=>""==B.titleColor?b.value.title:B.titleColor)),E=a((()=>""==B.noteColor?b.value.textLight:B.noteColor)),L=a((()=>""==B.rightTextColor?b.value.textLight:B.rightTextColor)),N=a((()=>""==B.iconColor?b.value.title:B.iconColor)),F=a((()=>""==B.disabledBgColor?b.value.disabled:B.disabledBgColor)),D=a((()=>""==B.disabledTextColor?b.value.disabledText:B.disabledTextColor)),H=a((()=>""==B.activeBgColor?b.value.info:B.activeBgColor)),U=a((()=>{let t=""==B.bgColor?b.value.transparent:B.bgColor;return B.disabled?F.value:A.value?H.value:t})),Z=a((()=>!h.isEmpty(B.avatar))),G=a((()=>!Z.value&&!h.isEmpty(B.icon))),q=a((()=>""==B.titleSize?x.configs.font.size(2):B.titleSize)),J=a((()=>""==B.noteSize?x.configs.font.size(1):B.noteSize)),Q=a((()=>""==B.rightTextSize?x.configs.font.size(1):B.rightTextSize)),K=a((()=>""==B.avatarBorderRadius?x.configs.radius.xsmall:B.avatarBorderRadius)),V=a((()=>""==B.iconSize?x.configs.font.size(4):B.iconSize)),W=a((()=>{let t=new Map;return t.set("background",U.value),t.set("transition-duration",x.configs.aniTime.normal),t})),X=a((()=>{let t=new Map;return t.set("padding",B.padding),t}));function Y(t){if(0==B.disabled){let e=0;for(let t=0;t<$.value.length;t++){let l=$.value[t];h.getDataset(l,"sn-id")==R&&(e=t)}w("click",{id:e,event:t})}}function tt(){I.value&&o((()=>{let t=0;for(let e=0;e<$.value.length;e++){let l=$.value[e];h.getDataset(l,"sn-id")==R&&(t=e)}t!=$.value.length-1||(I.value=!1)}))}return v({setProps:function(t){I.value=UTS.mapGet(t,"showBorder"),tt()},setChildren:function(t){$.value=t}}),s((()=>{o((()=>{var t;let e=C.proxy;null===(t=h.findParent(e,["sn-list"]))||void 0===t||t.$callMethod("register",e,e.$el),O(M.value,(()=>{tt()}))}))})),(e=null,l=null)=>{const a=c,s=z(i("sn-avatar"),T),o=z(i("sn-icon"),j),p=z(i("sn-text"),_),v=z(i("sn-line"),k);return y(),n(a,{class:"sn-list-item",ref_key:"itemEle",ref:M,"data-sn-type":"sn-list-item","data-sn-id":u(R),onClick:Y,onTouchstart:l[0]||(l[0]=(t=null)=>A.value=!0),onTouchend:l[1]||(l[1]=(t=null)=>A.value=!1),onTouchcancel:l[2]||(l[2]=(t=null)=>A.value=!1),style:d([u(W),t.customStyle])},{default:r((()=>[f(a,{class:"sn-list-item-web-wrap",style:d([u(X)])},{default:r((()=>[u(Z)||u(G)||null!=e.$slots.header?(y(),n(a,{key:0,class:"sn-list-item-header",style:d([new UTSJSONObject({marginRight:u(Z)||u(G)?"5px":""}),t.customHeaderStyle])},{default:r((()=>[g(e.$slots,"header",{},(()=>[t.disabled&&u(Z)?(y(),n(a,{key:0,class:"sn-list-item-avatar-overlay",style:d({width:t.avatarSize,height:t.avatarSize,borderRadius:u(K),background:u(F)})},null,8,["style"])):m("",!0),u(Z)?(y(),n(s,{key:1,size:t.avatarSize,src:t.avatar,borderRadius:u(K),customStyle:t.customAvatarStyle},null,8,["size","src","borderRadius","customStyle"])):m("",!0),u(G)?(y(),n(o,{key:2,name:t.icon,size:u(V),color:t.disabled?u(D):u(N),customStyle:t.customIconStyle},null,8,["name","size","color","customStyle"])):m("",!0)]),!0)])),_:3},8,["style"])):m("",!0),f(a,{class:"sn-list-item-body",style:d([t.customBodyStyle])},{default:r((()=>[g(e.$slots,"default",{},(()=>[f(p,{class:"sn-list-item-title",text:t.title,size:u(q),color:t.disabled?u(D):u(P),lines:0==t.ellipsis?-1:t.ellipsis,"custom-style":t.customTitleStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","lines","custom-style"]),f(p,{class:"sn-list-item-note",text:t.note,size:u(J),color:t.disabled?u(D):u(E),lines:0==t.ellipsis?-1:t.ellipsis,"custom-style":t.customNoteStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","lines","custom-style"])]),!0)])),_:3},8,["style"]),f(a,{class:"sn-list-item-footer",style:d([t.customFooterStyle])},{default:r((()=>[g(e.$slots,"footer",{},(()=>[f(p,{class:"sn-list-item-right-text",text:t.rightText,size:u(Q),color:t.disabled?u(D):u(L),"custom-style":t.customRightTextStyle,style:{lines:1,textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"]),t.showArrow?(y(),n(o,{key:0,name:"arrow-right-s-line",size:"".concat(1.6*u(h).getPx(u(Q)),"px"),color:t.disabled?u(D):u(L),customStyle:t.customRightTextStyle},null,8,["size","color","customStyle"])):m("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"]),u(I)?(y(),n(v,{key:0,style:{margin:"0 auto",width:"calc(100% - 40px)"}})):m("",!0)])),_:3},8,["data-sn-id","style"])}}})),[["__scopeId","data-v-434119d3"]]),E=B(e(Object.assign({name:"sn-list"},{__name:"sn-list",props:{showBorder:{type:Boolean,default:!0},bgColor:{type:String,default:""},customStyle:{type:Object,default:{}}},emits:["click"],setup(t,e){var i=e.expose,f=e.emit;const m=x.colors,p=f,b=t,h=l([]),z=l([]),C=a((()=>{let t=new Map;return t.set("showBorder",b.showBorder),t})),w=a((()=>""==b.bgColor?m.value.front:b.bgColor)),T=a((()=>{let t=new Map;return t.set("background",w.value),t.set("border-radius",x.configs.radius.normal),t.set("transition-duration",x.configs.aniTime.normal),t}));function j(){h.value.forEach((t=>{t.$callMethod("setChildren",z.value),t.$callMethod("setProps",C.value)}))}return i({register:function(t,e){h.value.push(t),z.value.push(e)}}),s((()=>{o((()=>{o((()=>{j()}))}))})),v((()=>{o((()=>{j()}))})),S(C,(()=>{o((()=>{j()}))}),{immediate:!0}),(e=null,l=null)=>{const a=c;return y(),n(a,{class:"sn-list",onClick:l[0]||(l[0]=(t=null)=>p("click")),style:d([u(T),t.customStyle])},{default:r((()=>[g(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-3ab2ab78"]]),L=B(e(Object.assign({name:"sn-list-chat"},{__name:"sn-list-chat",props:{disabled:{type:Boolean,default:!1},title:{type:String,default:""},titleSize:{type:String,default:""},titleColor:{type:String,default:""},note:{type:String,default:""},noteSize:{type:String,default:""},noteColor:{type:String,default:""},avatar:{type:String,default:""},avatarShape:{type:String,default:"square"},avatarSize:{type:String,default:"40px"},avatarBorderRadius:{type:String,default:""},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},time:{type:String,default:""},timeSize:{type:String,default:""},timeColor:{type:String,default:""},badgeConfig:{type:Object,default:new C({})},padding:{type:String,default:"8px 10px"},customTitleStyle:{type:Object,default:{}},customNoteStyle:{type:Object,default:{}},customAvatarStyle:{type:Object,default:{}},customBadgeStyle:{type:Object,default:{}},customBodyStyle:{type:Object,default:{}},customHeaderStyle:{type:Object,default:{}},customFooterStyle:{type:Object,default:{}},customTimeStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["click"],setup(t,e){var v=e.expose,S=e.emit;const C=x.colors,w=x.utils,j=p(),B=S,k=t,O=w.randomComId(),$=l([]),A=l(!1),M=l(null),I=l(!1),P=a((()=>!w.isEmpty(k.avatar))),E=a((()=>{var t,e,l,a;return!(null===(e=null===(t=k.badgeConfig)||void 0===t?void 0:t.showZero)||void 0===e||!e)||0!=(null!==(a=null===(l=k.badgeConfig)||void 0===l?void 0:l.value)&&void 0!==a?a:0)})),L=a((()=>""==k.titleColor?C.value.title:k.titleColor)),N=a((()=>""==k.noteColor?C.value.textLight:k.noteColor)),F=a((()=>""==k.disabledBgColor?C.value.disabled:k.disabledBgColor)),D=a((()=>""==k.disabledTextColor?C.value.disabledText:k.disabledTextColor)),H=a((()=>""==k.activeBgColor?C.value.info:k.activeBgColor)),U=a((()=>{let t=""==k.bgColor?C.value.transparent:k.bgColor;return k.disabled?F.value:A.value?H.value:t})),Z=a((()=>""==k.timeColor?C.value.textLight:k.timeColor)),G=a((()=>""==k.titleSize?x.configs.font.size(3):k.titleSize)),q=a((()=>""==k.noteSize?x.configs.font.size(1):k.noteSize)),J=a((()=>""==k.avatarBorderRadius?x.configs.radius.xsmall:k.avatarBorderRadius)),Q=a((()=>""==k.timeSize?"".concat(x.utils.getPx(x.configs.font.size(1))-1,"px"):k.timeSize)),K=a((()=>{let t=new Map;return t.set("padding",k.padding),t.set("background",U.value),t.set("transition-duration",x.configs.aniTime.normal),I.value&&t.set("border-bottom","0.5px solid ".concat(C.value.line)),t})),V=a((()=>{let t=new Map;return t.set("width",k.avatarSize),t.set("height",k.avatarSize),t.set("border-radius","circle"==k.avatarShape?x.configs.radius.circle:J.value),t.set("background",F.value),t.set("transition-duration",x.configs.aniTime.normal),t}));function W(t){if(0==k.disabled){let e=0;for(let t=0;t<$.value.length;t++){let l=$.value[t];w.getDataset(l,"sn-id")==O&&(e=t)}B("click",{id:e,event:t})}}return v({setProps:function(t){I.value=UTS.mapGet(t,"showBorder"),I.value&&o((()=>{let t=0;for(let e=0;e<$.value.length;e++){let l=$.value[e];w.getDataset(l,"sn-id")==O&&(t=e)}t!=$.value.length-1||(I.value=!1)}))},setChildren:function(t){$.value=t}}),s((()=>{o((()=>{var t;let e=j.proxy;null===(t=w.findParent(e,["sn-list","sn-list-long"]))||void 0===t||t.$callMethod("register",e,e.$el)}))})),(e=null,l=null)=>{const a=c,s=z(i("sn-avatar"),T),o=z(i("sn-badge"),R),p=z(i("sn-text"),_);return y(),n(a,{class:"sn-list-chat",ref_key:"itemEle",ref:M,"data-sn-type":"sn-list-chat","data-sn-id":u(O),onClick:W,onTouchstart:l[0]||(l[0]=(t=null)=>A.value=!0),onTouchend:l[1]||(l[1]=(t=null)=>A.value=!1),onTouchcancel:l[2]||(l[2]=(t=null)=>A.value=!1),onMousedown:l[3]||(l[3]=(t=null)=>A.value=!0),onMouseup:l[4]||(l[4]=(t=null)=>A.value=!1),style:d([u(K),t.customStyle])},{default:r((()=>[u(P)||null!=e.$slots.header?(y(),n(a,{key:0,class:"sn-list-chat-header",style:d([t.customHeaderStyle])},{default:r((()=>[g(e.$slots,"header",{},(()=>{var e,l,i,c,f;return[u(E)?(y(),n(o,{key:0,showZero:null!==(e=t.badgeConfig.showZero)&&void 0!==e&&e,value:null!==(l=t.badgeConfig.value)&&void 0!==l?l:0,max:null!==(i=t.badgeConfig.max)&&void 0!==i?i:-1,size:null!==(c=t.badgeConfig.size)&&void 0!==c?c:"",offset:null!==(f=t.badgeConfig.offset)&&void 0!==f?f:"",style:{"padding-left":"0"},"custom-style":t.customBadgeStyle},{default:r((()=>[t.disabled&&u(P)?(y(),n(a,{key:0,class:"sn-list-chat-avatar-overlay",style:d(u(V))},null,8,["style"])):m("",!0),u(P)?(y(),n(s,{key:1,shape:t.avatarShape,size:t.avatarSize,src:t.avatar,borderRadius:u(J),customStyle:t.customAvatarStyle},null,8,["shape","size","src","borderRadius","customStyle"])):m("",!0)])),_:1},8,["showZero","value","max","size","offset","custom-style"])):(y(),b(h,{key:1},[t.disabled&&u(P)?(y(),n(a,{key:0,class:"sn-list-chat-avatar-overlay",style:d(u(V))},null,8,["style"])):m("",!0),u(P)?(y(),n(s,{key:1,shape:t.avatarShape,size:t.avatarSize,src:t.avatar,borderRadius:u(J),customStyle:t.customAvatarStyle},null,8,["shape","size","src","borderRadius","customStyle"])):m("",!0)],64))]}),!0)])),_:3},8,["style"])):m("",!0),f(a,{class:"sn-list-chat-body",style:d([t.customBodyStyle])},{default:r((()=>[g(e.$slots,"default",{},(()=>[f(p,{class:"sn-list-chat-title",text:t.title,size:u(G),color:t.disabled?u(D):u(L),lines:1,"custom-style":t.customTitleStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"]),f(p,{class:"sn-list-chat-note",text:t.note,size:u(q),color:t.disabled?u(D):u(N),"custom-style":t.customNoteStyle,lines:1,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"])]),!0)])),_:3},8,["style"]),f(a,{class:"sn-list-chat-footer",style:d([t.customFooterStyle])},{default:r((()=>[g(e.$slots,"footer",{},(()=>[f(p,{class:"sn-list-item-time-text",text:t.time,size:u(Q),color:t.disabled?u(D):u(Z),lines:1,"custom-style":t.customTimeStyle,style:{"margin-bottom":"2px"}},null,8,["text","size","color","custom-style"])]),!0)])),_:3},8,["style"])])),_:3},8,["data-sn-id","style"])}}})),[["__scopeId","data-v-7a4a8c9e"]]),N=e({__name:"sn-list",setup:e=>(x.colors,(e=null,l=null)=>{const a=z(i("sn-topbar"),t),s=z(i("com-card"),w),o=z(i("sn-list-item"),P),d=z(i("sn-list"),E),c=z(i("sn-list-chat"),L),g=z(i("sn-page"),$);return y(),n(g,null,{default:r((()=>[f(a,{title:"List 列表"}),f(s,{title:"基础用法",note:"List 组件用于显示列表信息、聊天信息，内置一套组件模板。\\nsn-list 下的子组件可为 sn-list-item 和 sn-list-chat。"}),f(d,null,{default:r((()=>[f(o,{title:"列表文字"}),f(o,{title:"列表文字",rightText:"右侧文字"}),f(o,{title:"列表文字",note:"列表描述信息",rightText:"右侧文字"})])),_:1}),f(s,{title:"禁用状态",note:"可为单独的子项设置禁用状态"}),f(d,null,{default:r((()=>[f(o,{title:"列表启用状态",rightText:"右侧文字"}),f(o,{title:"列表禁用状态",disabled:""}),f(o,{title:"列表启用状态",rightText:"右侧文字"})])),_:1}),f(s,{title:"右侧箭头",note:"可为单独的子项设置右侧箭头"}),f(d,null,{default:r((()=>[f(o,{title:"列表文字",rightText:"右侧文字"}),f(o,{title:"列表文字",rightText:"右侧文字",showArrow:""})])),_:1}),f(s,{title:"无分割线",note:"可为单独的子项取消分割线"}),f(d,{showBorder:!1},{default:r((()=>[f(o,{title:"列表文字",rightText:"右侧文字"}),f(o,{title:"列表文字",rightText:"右侧文字"})])),_:1}),f(s,{title:"文本溢出隐藏",note:"可设置最大行数，超过则以省略号隐藏文本"}),f(d,null,{default:r((()=>[f(o,{title:u(A),ellipsis:1},null,8,["title"]),f(o,{rightText:"2 行",title:u(M),ellipsis:2},null,8,["title"]),f(o,{rightText:"3 行",title:u(I),ellipsis:3,showArrow:""},null,8,["title"])])),_:1}),f(s,{title:"显示图标或图片",note:"每个单独的子项都可以设置图标或图片"}),f(d,null,{default:r((()=>[f(o,{title:"列表左侧带扩展图标",note:"列表描述信息",icon:"settings-line",showArrow:""}),f(o,{title:"列表左侧带缩略图",note:"列表描述信息",avatar:"https://img01.sogoucdn.com/app/a/100520093/8379901cc65ba509-45c21ceb904429fc-fffc7639a9a4d453515b56b6c1a3fc58.jpg",showArrow:""}),f(o,{title:"列表左侧带缩略图",note:"列表描述信息",rightText:"大图",avatar:"http://img.wxcha.com/m00/bb/18/bc2167461f0ba311a992f3f00a45c58d.jpg",avatarSize:"40px",showArrow:""})])),_:1}),f(s,{title:"聊天列表",note:"像聊天列表一样"}),f(d,{showBorder:!1},{default:r((()=>[f(c,{title:"琴易文",note:"你好, 这里是 SinleUI",avatar:"https://img01.sogoucdn.com/app/a/100520093/8379901cc65ba509-45c21ceb904429fc-fffc7639a9a4d453515b56b6c1a3fc58.jpg",avatarShape:"circle"}),f(c,{title:"道夏柳",note:"emmm... 逆天[惊]",avatar:"https://ww3.sinaimg.cn/mw690/007QvzfIly1ho2zt8iyznj30sg0sgneb.jpg",time:"15:35",badgeConfig:new C({value:32,max:99})}),f(c,{title:"灯塔上的雾",note:"[图片] 这种报错如何解决",avatar:"http://img.wxcha.com/m00/bb/18/bc2167461f0ba311a992f3f00a45c58d.jpg",time:"昨天",badgeConfig:new C({value:158,max:99})})])),_:1})])),_:1})})});export{N as default};
