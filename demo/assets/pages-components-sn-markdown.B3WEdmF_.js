import{_ as t}from"./sn-topbar.A9l38UY4.js";import{d as e,r as n,c as o,w as a,h as l,u as i,m as r,o as s,b as u,e as d,f as p,g as m}from"./index-BV7wVSs2.js";import{$ as c,r as h}from"./uni-app.es.BzKMvEv9.js";import{_ as f}from"./sn-alert.yUyLj5uH.js";import{_ as g}from"./com-card.YVwaER4k.js";import{c as y}from"./sn-button.68-4Ol7n.js";import{_ as w}from"./sn-page.Jy_rsgwA.js";const b=y(e(Object.assign({name:"sn-markdown"},{__name:"sn-markdown",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},content:{type:String,default:""},theme:{type:String,default:"light"},linkify:{type:Boolean,default:!1},typographer:{type:Boolean,default:!1},html:{type:Boolean,default:!1},xhtmlOut:{type:Boolean,default:!1},breaks:{type:Boolean,default:!1},quotes:{type:String,default:"“”‘’"},langPrefix:{type:String,default:"language-"},sup:{type:Boolean,default:!0},sub:{type:Boolean,default:!0},container:{type:Boolean,default:!0},emoji:{type:Boolean,default:!0},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(t){const e=c.utils,u=t;n(null);const d=e.randomComId(),p=o((()=>["light","dark"].includes(u.theme)?u.theme:"light")),m=o((()=>{var t,e,n;return null!==(n=null===(e=null===(t=null===window||void 0===window?void 0:window.__uniConfig)||void 0===t?void 0:t.router)||void 0===e?void 0:e.base)&&void 0!==n?n:"/"})),h=o((()=>new UTSJSONObject({sup:u.sup,sub:u.sub,container:u.container,emoji:u.emoji}))),f=o((()=>new UTSJSONObject({$platform:"web",linkify:u.linkify,typographer:u.typographer,quotes:u.quotes,breaks:u.breaks,html:u.html,xhtmlOut:u.xhtmlOut,langPrefix:u.langPrefix}))),g=o((()=>{let t=new Map;return t.set("width",u.width),t.set("height",u.height),t}));function y(){var t;const e=u.content.replaceAll("\\|","\\\\|").replaceAll("`","\\`").replaceAll("\n","\\n"),n="window.render(`".concat(e,"`, '").concat(p.value,"', ").concat(UTS.JSON.stringify(f.value),", ").concat(UTS.JSON.stringify(h.value),")");let o=document.querySelector("#"+d);null===(t=null==o?void 0:o.contentWindow)||void 0===t||t.eval(n)}const w=o((()=>new UTSJSONObject({content:u.content,theme:u.theme,linkify:u.linkify,typographer:u.typographer,html:u.html,xhtmlOut:u.xhtmlOut,breaks:u.breaks,quotes:u.quotes,langPrefix:u.langPrefix,sup:u.sup,sub:u.sub,container:u.container,emoji:u.emoji})));return a(w,(()=>{y()})),(e=null,n=null)=>(s(),l("iframe",{class:"web-view",id:i(d),src:i(m)+"uni_modules/sinle-ui/hybrid/html/markdown/index.html",onLoad:n[0]||(n[0]=(t=null)=>y()),style:r([i(g),t.customStyle])},null,44,["id","src"]))}})),[["__scopeId","data-v-6465fa27"]]),k=e({__name:"sn-markdown",setup(e){const a=o((()=>c.configs.app.theme)),l=n('# :tada: Hi, Markdown!\n---\n基于 `markdown-it` 实现 Markdown 富文本渲染。\n\n---\n:::tip\n类 VitePress 的自定义容器\n:::\n---\n\n**下标**：水（H~2~O）\n\n**上标**：mx^|m-2|^+ac=0\n\n---\n```vue\n<template>\n  <Code text="highlight.js 支持的代码高亮插件" />\n</template>\n```\n---\n![SinleUI](https://singmywp.github.io/logo.png)');return(e=null,n=null)=>{const o=h(u("sn-topbar"),t),r=h(u("sn-alert"),f),c=h(u("com-card"),g),y=h(u("sn-markdown"),b),k=h(u("sn-page"),w);return s(),d(k,null,{default:p((()=>[m(o,{title:"Markdown 富文本"}),m(r,{type:"primary",text:"基于 markdown-it 实现 Markdown 富文本渲染，支持暗黑模式，内置 highlight.js、上下标、Emoji、 自定义容器等插件，以及类 VitePress 的样式，帮助您更轻松地插入 Markdown 文本"}),m(r,{type:"warning",icon:"notification-4-fill",text:"因基于 WebView 渲染，页面中不宜放置大量 Markdown 组件，会引起性能问题"}),m(r,{type:"success",icon:"checkbox-circle-fill",text:"支持双向同步渲染，此处不再演示"}),m(c,{title:"基础用法"}),m(y,{height:"500px",content:i(l),theme:i(a)},null,8,["content","theme"])])),_:1})}}});export{k as default};
