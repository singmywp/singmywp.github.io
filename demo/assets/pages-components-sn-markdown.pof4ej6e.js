import{_ as t}from"./sn-topbar.wm0GzhH3.js";import{d as e,$ as n,r as o,c as a,w as l,h as i,u as r,p as s,b as u,a as p,e as m,f as d,g as c}from"./index-DYMgrqHp.js";import{r as h}from"./uni-app.es.DgDfNdgy.js";import{_ as f}from"./sn-alert.B2UqFsTR.js";import{_ as g}from"./com-card.BtLNzB63.js";import{b as y}from"./sn-text.euomPoe8.js";import{_ as w}from"./sn-page.Cf6LEMVT.js";import"./sn-button.BjZePiC5.js";import"./sn-loading.t5otRKvs.js";import"./sn-menu-item.DkjoXkWj.js";import"./sn-overlay.CiZFgEyq.js";const b=y(e(Object.assign({name:"sn-markdown"},{__name:"sn-markdown",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},content:{type:String,default:""},theme:{type:String,default:"light"},linkify:{type:Boolean,default:!1},typographer:{type:Boolean,default:!1},html:{type:Boolean,default:!1},xhtmlOut:{type:Boolean,default:!1},breaks:{type:Boolean,default:!1},quotes:{type:String,default:"“”‘’"},langPrefix:{type:String,default:"language-"},sup:{type:Boolean,default:!0},sub:{type:Boolean,default:!0},container:{type:Boolean,default:!0},emoji:{type:Boolean,default:!0},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(t){const e=n.utils,p=t;o(null);const m=e.randomComId(),d=a((()=>["light","dark"].includes(p.theme)?p.theme:"light")),c=a((()=>{var t,e,n;return null!==(n=null===(e=null===(t=null===window||void 0===window?void 0:window.__uniConfig)||void 0===t?void 0:t.router)||void 0===e?void 0:e.base)&&void 0!==n?n:"/"})),h=a((()=>new UTSJSONObject({sup:p.sup,sub:p.sub,container:p.container,emoji:p.emoji}))),f=a((()=>new UTSJSONObject({$platform:"web",linkify:p.linkify,typographer:p.typographer,quotes:p.quotes,breaks:p.breaks,html:p.html,xhtmlOut:p.xhtmlOut,langPrefix:p.langPrefix}))),g=a((()=>{const t=new Map;return t.set("width",p.width),t.set("height",p.height),t}));function y(){var t;const e=p.content.replaceAll("\\|","\\\\|").replaceAll("`","\\`").replaceAll("\n","\\n"),n="window.render(`".concat(e,"`, '").concat(d.value,"', ").concat(UTS.JSON.stringify(f.value),", ").concat(UTS.JSON.stringify(h.value),")");let o=document.querySelector("#"+m);null===(t=null==o?void 0:o.contentWindow)||void 0===t||t.eval(n)}const w=a((()=>new UTSJSONObject({content:p.content,theme:p.theme,linkify:p.linkify,typographer:p.typographer,html:p.html,xhtmlOut:p.xhtmlOut,breaks:p.breaks,quotes:p.quotes,langPrefix:p.langPrefix,sup:p.sup,sub:p.sub,container:p.container,emoji:p.emoji})));return l(w,(()=>{y()})),(e=null,n=null)=>(u(),i("iframe",{class:"web-view",id:r(m),src:r(c)+"uni_modules/sinle-ui/hybrid/html/markdown/index.html",onLoad:n[0]||(n[0]=(t=null)=>y()),style:s([r(g),t.customStyle])},null,44,["id","src"]))}})),[["__scopeId","data-v-80fad531"]]),j=e({__name:"sn-markdown",setup(e){const l=a((()=>n.configs.app.theme)),i=o('# :tada: Hi, Markdown!\n---\n基于 `markdown-it` 实现 Markdown 富文本渲染。\n\n---\n:::tip\n类 VitePress 的自定义容器\n:::\n---\n\n**下标**：水（H~2~O）\n\n**上标**：mx^|m-2|^+ac=0\n\n---\n```vue\n<template>\n  <Code text="highlight.js 支持的代码高亮插件" />\n</template>\n```\n---\n![SinleUI](https://singmywp.github.io/logo.png)');return(e=null,n=null)=>{const o=h(p("sn-topbar"),t),a=h(p("sn-alert"),f),s=h(p("com-card"),g),y=h(p("sn-markdown"),b),j=h(p("sn-page"),w);return u(),m(j,null,{default:d((()=>[c(o,{title:"Markdown 富文本"}),c(a,{type:"primary",text:"基于 markdown-it 实现 Markdown 富文本渲染，支持暗黑模式，内置 highlight.js、上下标、Emoji、 自定义容器等插件，以及类 VitePress 的样式，帮助您更轻松地插入 Markdown 文本"}),c(a,{type:"warning",icon:"notification-4-fill",text:"因基于 WebView 渲染，页面中不宜放置大量 Markdown 组件，会引起性能问题"}),c(a,{type:"success",icon:"checkbox-circle-fill",text:"支持双向同步渲染，此处不再演示"}),c(s,{title:"基础用法"}),c(y,{height:"500px",content:r(i),theme:r(l)},null,8,["content","theme"])])),_:1})}}});export{j as default};
