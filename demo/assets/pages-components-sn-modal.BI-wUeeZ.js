import{b as e,_ as l}from"./sn-topbar.DxKzInQK.js";import{d as t,$ as o,r as n,c as a,a as i,b as s,e as u,u as r,y as d,N as c,m,o as p,f,q as x,B as b,C as y,p as g,A as C,j as v,G as h,S as T,g as V,i as S,F as _}from"./index-DoInGK9X.js";import{a as k,r as w}from"./uni-app.es.K1mZmM8s.js";import{_ as z}from"./sn-gap.BM3gA-Sq.js";import{_ as U}from"./sn-switch.EAkaUVVB.js";import{_ as j}from"./sn-form-item.DQivdfXx.js";import{_ as B}from"./sn-stepper.8H8ymVUn.js";import{_ as F}from"./sn-select.BifT2hzZ.js";import{_ as O}from"./sn-input.CG5cj0Ye.js";import{b as M,_ as A,c as E}from"./sn-button.B1LvAG78.js";import{_ as I}from"./sn-form.uvue_vue_type_script_setup_true_lang.ZcEsNHPg.js";import{_ as N}from"./com-card.D8_7_rS9.js";import{_ as $}from"./sn-page.Nlp4LDKz.js";import{c as R}from"./longtext.BGk0ymny.js";import"./sn-alert.CWq7Acu6.js";import"./sn-line.DzqrU5y1.js";const D=E(t(Object.assign({name:"sn-modal"},{__name:"sn-modal",props:{title:{type:String,default:""},titleAlign:{type:String,default:"center"},titleSize:{type:String,default:""},titleFont:{type:String,default:"misans-semibold"},titleColor:{type:String,default:""},bgColor:{type:String,default:""},borderRadius:{type:String,default:""},content:{type:String,default:""},contentAlign:{type:String,default:"center"},contentSize:{type:String,default:""},contentColor:{type:String,default:""},contentFont:{type:String,default:"misans-normal"},buttonType:{type:String,default:"embed"},buttonBorder:{type:String,default:""},confirmText:{type:String,default:"确定"},confirmTextColor:{type:String,default:""},confirmTextSize:{type:String,default:""},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},cancelTextColor:{type:String,default:""},cancelTextSize:{type:String,default:""},position:{type:String,default:"center"},aniTime:{type:String,default:""},maskClose:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},preventBack:{type:Boolean,default:!1},maskOpacity:{type:Number,default:.4},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["open","close","clickMask","confirm","cancel"],setup(l,t){var T=t.expose,V=t.emit;const S=o.colors,_=o.utils,z=V,U=l,j=_.randomComId(),B=n(!1),F=n(0),O=n(0),E=n(50),I=n(0),N=n(null),$=n(null),R=a((()=>["embed","float"].includes(U.buttonType)?U.buttonType:"embed")),D=a((()=>U.showCancel||U.showConfirm)),G=a((()=>d("aniTime",U.aniTime,o.configs.aniTime.long))),H=a((()=>{let e=parseInt(G.value);return e>100?e-100:e})),J=a((()=>o.configs.app.theme)),P=a((()=>d("font",U.titleSize,"".concat(o.utils.getPx(o.configs.font.size(3))+1,"px")))),q=a((()=>d("color",U.titleColor,S.value.title))),K=a((()=>d("color",U.bgColor,S.value["".concat("light"==J.value?"front":"info")]))),L=a((()=>d("color",U.contentColor,S.value.text))),Q=a((()=>d("other",U.buttonBorder,"0.5px solid ".concat(S.value.line)))),W=a((()=>d("color",U.confirmTextColor,S.value.primaryDark))),X=a((()=>d("font",U.confirmTextSize,o.configs.font.size(3)))),Y=a((()=>d("color",U.cancelTextColor,S.value.text))),Z=a((()=>d("font",U.cancelTextSize,o.configs.font.size(3)))),ee=a((()=>d("font",U.contentSize,"".concat(o.utils.getPx(o.configs.font.baseSize)+1,"px")))),le=a((()=>d("radius",U.borderRadius,o.configs.radius.normal))),te=a((()=>["center","top","bottom","left","right"].includes(U.position)?U.position:"center")),oe=a((()=>{let e=new Map;return e.set("max-height","".concat(O.value,"px")),e.set("background",K.value),e.set("border-radius",le.value),e.set("padding-top","32px"),e.set("transition-duration",G.value),"float"==R.value&&e.set("padding-bottom","5px"),e})),ne=a((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(te.value)?"center":"top"==te.value?"flex-start":"flex-end"}))),ae=a((()=>{let e=new Map;return e.set("animation",parseInt(G.value)>0),e.set("hover",B.value),e.set(te.value,!0),e})),ie=a((()=>{let e=new Map;return e.set("margin","0px 24px 8px"),e.set("transition-duration","0ms"),e})),se=a((()=>{let e=new Map;return e.set("margin","8px 24px 0px"),e.set("transition-duration","0ms"),e})),ue=a((()=>{let e=new Map;return e.set("height","".concat(E.value,"px")),e.set("background",K.value),e.set("border-top",Q.value),e.set("border-right",Q.value),e.set("margin-top","10px"),e.set("transition-duration",o.configs.aniTime.normal),e})),re=a((()=>{let e=new Map;return e.set("height","".concat(E.value,"px")),e.set("background",K.value),e.set("border-top",Q.value),e.set("margin-top","10px"),e.set("transition-duration",o.configs.aniTime.normal),e})),de=a((()=>{let e=new Map;return e.set("height","".concat(E.value,"px")),e.set("padding","0px 15px 7px"),e.set("flex-direction","row"),e.set("align-items","center"),e.set("background",K.value),e})),ce=a((()=>{let e=new Map;return e.set("padding-bottom","10px"),e.set("height","auto"),e.set("max-height","".concat(O.value-E.value-I.value-50,"px")),e}));function me(){var e,l;null===(l=null===(e=$.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e),B.value=!1,z("close")}function pe(){B.value=!1,z("clickMask")}function fe(){U.disabled||(z("cancel"),me())}function xe(){U.disabled||(z("confirm"),me())}return T({open:function(){var e,l;F.value=0,null===(l=null===(e=$.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),z("open"),_.throttle((()=>{B.value=!0,O.value=.8*c().windowHeight,m((()=>{var e,l,t;I.value=null!==(t=null===(l=null===(e=N.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===l?void 0:l.height)&&void 0!==t?t:0}))}),20,j)},close:me,confirm:xe,cancel:fe}),k((e=>!!B.value&&(U.preventBack||me(),!0))),(t=null,o=null)=>{const n=w(i("sn-text"),M),a=v,d=h,c=w(i("sn-button"),A),m=w(i("sn-overlay"),e);return p(),s(m,{class:"sn-modal-overlay",ref_key:"overlayEle",ref:$,aniTime:"".concat(r(H),"ms"),maskClose:l.maskClose,opacity:l.maskOpacity,onClickMask:pe,customStyle:r(ne)},{default:u((()=>[f(a,{class:g(["sn-modal",r(ae)]),style:x(r(oe)),onClick:o[0]||(o[0]=C((()=>{}),["stop"]))},{default:u((()=>[f(a,{class:"sn-modal-header",ref_key:"headerEle",ref:N,style:x(r(ie))},{default:u((()=>[b(t.$slots,"header",{},(()=>[f(n,{class:"sn-modal-title",text:l.title,font:l.titleFont,align:l.titleAlign,color:r(q),size:r(P)},null,8,["text","font","align","color","size"])]),!0)])),_:3},8,["style"]),f(d,{class:"sn-modal-body","show-scrollbar":!1,bounces:!1,"scroll-top":r(F),style:x(r(ce))},{default:u((()=>[b(t.$slots,"content",{},(()=>[f(n,{text:l.content,font:l.contentFont,align:l.contentAlign,color:r(L),size:r(ee),style:x(r(se))},null,8,["text","font","align","color","size","style"])]),!0)])),_:3},8,["scroll-top","style"]),r(D)?b(t.$slots,"actions",{key:0},(()=>["embed"==r(R)?(p(),s(a,{key:0,class:"sn-modal-action-group"},{default:u((()=>[l.showCancel?(p(),s(a,{key:0,class:"sn-modal-action",onClick:fe,style:x(r(ue))},{default:u((()=>[f(n,{font:"misans-normal",align:"center",text:l.cancelText,size:r(Z),color:l.disabled?r(S).disabledText:r(Y)},null,8,["text","size","color"])])),_:1},8,["style"])):y("",!0),l.showConfirm?(p(),s(a,{key:1,class:"sn-modal-action",onClick:xe,style:x(r(re))},{default:u((()=>[f(n,{font:"misans-semibold",align:"center",text:l.confirmText,size:r(X),color:l.disabled?r(S).disabledText:r(W)},null,8,["text","size","color"])])),_:1},8,["style"])):y("",!0)])),_:1})):"float"==r(R)?(p(),s(a,{key:1,style:x([r(de)])},{default:u((()=>[l.showCancel?(p(),s(c,{key:0,type:"info",level:"second",long:"",disabled:l.disabled,text:l.cancelText,textSize:r(Z),onClick:fe,style:x(l.showConfirm?"margin-right: 10px":"")},null,8,["disabled","text","textSize","style"])):y("",!0),l.showConfirm?(p(),s(c,{key:1,type:"primary",long:"",disabled:l.disabled,text:l.confirmText,textSize:r(X),onClick:xe},null,8,["disabled","text","textSize"])):y("",!0)])),_:1},8,["style"])):y("",!0)]),!0):y("",!0)])),_:3},8,["class","style"])])),_:3},8,["aniTime","maskClose","opacity","customStyle"])}}})),[["__scopeId","data-v-f8292a58"]]),G=t({__name:"sn-modal",setup(e){const t=o.utils,s=n(null),d=n({showCancel:!0,showConfirm:!0,disabled:!1,maskClose:!1,preventBack:!1,content:0,title:"标题",contentColor:"",contentSize:"",contentFont:"misans-normal",titleFont:"misans-semibold",titleColor:"",titleSize:"",confirmText:"确定",confirmTextColor:"",confirmTextSize:"",cancelText:"取消",cancelTextColor:"",cancelTextSize:"",buttonType:0,position:1,maskOpacity:.4}),c=[new T({id:"top",text:"顶部"}),new T({id:"center",text:"居中"}),new T({id:"bottom",text:"底部"}),new T({id:"left",text:"左侧"}),new T({id:"right",text:"右侧"})],m=[new T({id:"short",text:"短文本"}),new T({id:"long",text:"长文本（可滚动）"})],x=[new T({id:"embed",text:"嵌入式"}),new T({id:"float",text:"浮动式"})],b=a((()=>{var e;switch(null!==(e=d.value.content)&&void 0!==e?e:0){case 0:default:return"如果需要对话框，那么官方的 uni.showModal 足以满足你的需求。当你需要更自由地控制动画、插槽时，不妨试试本组件。";case 1:return R}}));function y(){t.throttle((()=>{s.value.open()}),50)}function g(e){"run"==e.id&&y()}return(e=null,t=null)=>{const o=w(i("sn-topbar"),l),n=w(i("sn-gap"),z),a=w(i("sn-switch"),U),C=w(i("sn-form-item"),j),v=w(i("sn-stepper"),B),h=w(i("sn-select"),F),k=w(i("sn-input"),O),M=w(i("sn-button"),A),E=w(i("sn-form"),I),R=w(i("com-card"),N),G=w(i("sn-page"),$),H=w(i("sn-modal"),D);return p(),V(_,null,[f(G,null,{default:u((()=>[f(o,{title:"Modal 模态框",features:[new T({id:"run",icon:"play-circle-fill"})],onButtonClick:g}),f(n),f(R,{title:"组件演示",note:"如果需要对话框，那么官方的 uni.showModal 应该足以满足你的需求。\\n当你需要更自由地控制动画、插槽时，不妨试试本组件。"},{default:u((()=>[f(E,{modelValue:r(d),"onUpdate:modelValue":t[23]||(t[23]=(e=null)=>S(d)?d.value=e:null),showBorder:!1},{default:u((()=>[f(C,{label:"显示确认按钮"},{default:u((()=>[f(a,{modelValue:r(d).showConfirm,"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>r(d).showConfirm=e)},null,8,["modelValue"])])),_:1}),f(C,{label:"显示取消按钮"},{default:u((()=>[f(a,{modelValue:r(d).showCancel,"onUpdate:modelValue":t[1]||(t[1]=(e=null)=>r(d).showCancel=e)},null,8,["modelValue"])])),_:1}),f(C,{label:"禁用"},{default:u((()=>[f(a,{modelValue:r(d).disabled,"onUpdate:modelValue":t[2]||(t[2]=(e=null)=>r(d).disabled=e)},null,8,["modelValue"])])),_:1}),f(C,{label:"遮罩关闭"},{default:u((()=>[f(a,{modelValue:r(d).maskClose,"onUpdate:modelValue":t[3]||(t[3]=(e=null)=>r(d).maskClose=e)},null,8,["modelValue"])])),_:1}),f(C,{label:"阻止返回事件"},{default:u((()=>[f(a,{modelValue:r(d).preventBack,"onUpdate:modelValue":t[4]||(t[4]=(e=null)=>r(d).preventBack=e)},null,8,["modelValue"])])),_:1}),f(C,{label:"遮罩透明度"},{default:u((()=>[f(v,{modelValue:r(d).maskOpacity,"onUpdate:modelValue":t[5]||(t[5]=(e=null)=>r(d).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),f(C,{label:"位置"},{default:u((()=>[f(h,{modelValue:r(d).position,"onUpdate:modelValue":t[6]||(t[6]=(e=null)=>r(d).position=e),width:"200px",data:c},null,8,["modelValue"])])),_:1}),f(C,{label:"按钮风格"},{default:u((()=>[f(h,{modelValue:r(d).buttonType,"onUpdate:modelValue":t[7]||(t[7]=(e=null)=>r(d).buttonType=e),width:"200px",data:x},null,8,["modelValue"])])),_:1}),f(C,{label:"内容"},{default:u((()=>[f(h,{modelValue:r(d).content,"onUpdate:modelValue":t[8]||(t[8]=(e=null)=>r(d).content=e),width:"200px",data:m},null,8,["modelValue"])])),_:1}),f(C,{label:"标题"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).title,"onUpdate:modelValue":t[9]||(t[9]=(e=null)=>r(d).title=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"内容字体"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).contentFont,"onUpdate:modelValue":t[10]||(t[10]=(e=null)=>r(d).contentFont=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"内容颜色"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).contentColor,"onUpdate:modelValue":t[11]||(t[11]=(e=null)=>r(d).contentColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"内容字体大小"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).contentSize,"onUpdate:modelValue":t[12]||(t[12]=(e=null)=>r(d).contentSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"标题字体"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).titleFont,"onUpdate:modelValue":t[13]||(t[13]=(e=null)=>r(d).titleFont=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"标题颜色"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).titleColor,"onUpdate:modelValue":t[14]||(t[14]=(e=null)=>r(d).titleColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"标题字体大小"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).titleSize,"onUpdate:modelValue":t[15]||(t[15]=(e=null)=>r(d).titleSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"确定按钮文字"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).confirmText,"onUpdate:modelValue":t[16]||(t[16]=(e=null)=>r(d).confirmText=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"取消按钮文字"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).cancelText,"onUpdate:modelValue":t[17]||(t[17]=(e=null)=>r(d).cancelText=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"确定按钮字体大小"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).confirmTextSize,"onUpdate:modelValue":t[18]||(t[18]=(e=null)=>r(d).confirmTextSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"确定按钮字体颜色"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).confirmTextColor,"onUpdate:modelValue":t[19]||(t[19]=(e=null)=>r(d).confirmTextColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"取消按钮字体大小"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).cancelTextSize,"onUpdate:modelValue":t[20]||(t[20]=(e=null)=>r(d).cancelTextSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(C,{label:"取消按钮字体颜色"},{default:u((()=>[f(k,{class:"input",modelValue:r(d).cancelTextColor,"onUpdate:modelValue":t[21]||(t[21]=(e=null)=>r(d).cancelTextColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(M,{text:"打开",level:"second",type:"primary",onClick:t[22]||(t[22]=(e=null)=>y()),style:{"margin-top":"10px"}})])),_:1},8,["modelValue"])])),_:1}),f(n)])),_:1}),f(H,{ref_key:"modalEle",ref:s,title:r(d).title,content:r(b),buttonType:x[r(d).buttonType].id,position:c[r(d).position].id,showConfirm:r(d).showConfirm,showCancel:r(d).showCancel,maskOpacity:r(d).maskOpacity,disabled:r(d).disabled,maskClose:r(d).maskClose,preventBack:r(d).preventBack,titleSize:r(d).titleSize,titleColor:r(d).titleColor,titleFont:r(d).titleFont,contentSize:r(d).contentSize,contentColor:r(d).contentColor,contentFont:r(d).contentFont,confirmText:r(d).confirmText,cancelText:r(d).cancelText,confirmTextSize:r(d).confirmTextSize,cancelTextSize:r(d).cancelTextSize,confirmTextColor:r(d).confirmTextColor,cancelTextColor:r(d).cancelTextColor},null,8,["title","content","buttonType","position","showConfirm","showCancel","maskOpacity","disabled","maskClose","preventBack","titleSize","titleColor","titleFont","contentSize","contentColor","contentFont","confirmText","cancelText","confirmTextSize","cancelTextSize","confirmTextColor","cancelTextColor"])],64)}}});export{G as default};
