import{_ as e}from"./sn-topbar.wm0GzhH3.js";import{d as l,$ as t,r as o,c as n,a,e as i,f as s,u,x as r,M as c,n as d,b as m,g as p,p as f,z as x,B as b,m as y,A as g,_ as v,E as C,S as h,h as T,i as S,F as V}from"./index-DYMgrqHp.js";import{o as _,r as w}from"./uni-app.es.DgDfNdgy.js";import{_ as k}from"./sn-gap.2Twkbobz.js";import{_ as z}from"./sn-switch.CRzEpFQb.js";import{_ as j}from"./sn-form-item.H9V81OhK.js";import{_ as U}from"./sn-stepper.CLd4BeEG.js";import{_ as B}from"./sn-select.CIbdfrXO.js";import{_ as O}from"./sn-input.Cq5jBGx5.js";import{_ as F}from"./sn-button.BjZePiC5.js";import{_ as M}from"./sn-form.uvue_vue_type_script_setup_true_lang.i8bEa9At.js";import{_ as N}from"./com-card.BtLNzB63.js";import{_ as A}from"./sn-page.Cf6LEMVT.js";import{a as E,b as J}from"./sn-text.euomPoe8.js";import{_ as $}from"./sn-overlay.CiZFgEyq.js";import{c as I}from"./longtext.BGk0ymny.js";import"./sn-menu-item.DkjoXkWj.js";import"./sn-loading.t5otRKvs.js";import"./sn-alert.B2UqFsTR.js";import"./sn-line.BnKikEoE.js";const R=J(l(Object.assign({name:"sn-modal"},{__name:"sn-modal",props:{title:{type:String,default:""},titleAlign:{type:String,default:"center"},titleSize:{type:String,default:""},titleFont:{type:String,default:""},titleColor:{type:String,default:""},bgColor:{type:String,default:""},borderRadius:{type:String,default:""},content:{type:String,default:""},contentAlign:{type:String,default:"center"},contentSize:{type:String,default:""},contentColor:{type:String,default:""},contentFont:{type:String,default:""},buttonType:{type:String,default:"embed"},buttonBorder:{type:String,default:""},confirmText:{type:String,default:"确定"},confirmTextColor:{type:String,default:""},confirmTextSize:{type:String,default:""},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},cancelTextColor:{type:String,default:""},cancelTextSize:{type:String,default:""},position:{type:String,default:"center"},aniTime:{type:String,default:""},maskClose:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},preventBack:{type:Boolean,default:!1},maskOpacity:{type:Number,default:.4},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["open","close","clickMask","confirm","cancel"],setup(e,l){var h=l.expose,T=l.emit;const S=t.colors,V=t.utils,k=T,z=e,j=V.randomComId(),U=o(!1),B=o(0),O=o(0),M=o(50),N=o(0),A=o(null),J=o(null),I=n((()=>["embed","float"].includes(z.buttonType)?z.buttonType:"embed")),R=n((()=>z.showCancel||z.showConfirm)),P=n((()=>r("aniTime",z.aniTime,t.configs.aniTime.long))),D=n((()=>!V.isEmpty(z.content))),H=n((()=>{let e=parseInt(P.value);return e>100?e-100:e})),K=n((()=>t.configs.app.theme)),L=n((()=>r("font",z.titleSize,"".concat(t.utils.getPx(t.configs.font.size(3))+1,"px")))),Q=n((()=>r("color",z.titleColor,S.value.title))),q=n((()=>r("color",z.bgColor,S.value["".concat("light"==K.value?"front":"info")]))),G=n((()=>r("color",z.contentColor,S.value.text))),W=n((()=>r("other",z.buttonBorder,"0.5px solid ".concat(S.value.line)))),X=n((()=>r("color",z.confirmTextColor,S.value.primaryDark))),Y=n((()=>r("font",z.confirmTextSize,t.configs.font.size(3)))),Z=n((()=>r("color",z.cancelTextColor,S.value.text))),ee=n((()=>r("font",z.cancelTextSize,t.configs.font.size(3)))),le=n((()=>r("font",z.contentSize,"".concat(t.utils.getPx(t.configs.font.baseSize)+1,"px")))),te=n((()=>r("radius",z.borderRadius,t.configs.radius.normal))),oe=n((()=>["center","top","bottom","left","right"].includes(z.position)?z.position:"center")),ne=n((()=>{const e=new Map;return e.set("max-height","".concat(O.value+10,"px")),e.set("background",q.value),e.set("border-radius",te.value),e.set("padding-top","32px"),e.set("transition-duration",P.value),"float"==I.value&&e.set("padding-bottom","5px"),e})),ae=n((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(oe.value)?"center":"top"==oe.value?"flex-start":"flex-end"}))),ie=n((()=>{let e=new Map;return e.set("animation",parseInt(P.value)>0),e.set("hover",U.value),e.set(oe.value,!0),e})),se=n((()=>{const e=new Map;return e.set("margin","0px 24px 8px"),e.set("transition-duration","0ms"),e})),ue=n((()=>{const e=new Map;return e.set("margin","8px 24px 0px"),e.set("transition-duration","0ms"),e})),re=n((()=>{const e=new Map;return e.set("height","".concat(M.value,"px")),e.set("background",q.value),e.set("border-top",W.value),e.set("border-right",W.value),e.set("margin-top","10px"),e.set("transition-duration",t.configs.aniTime.normal),e})),ce=n((()=>{const e=new Map;return e.set("height","".concat(M.value,"px")),e.set("background",q.value),e.set("border-top",W.value),e.set("margin-top","10px"),e.set("transition-duration",t.configs.aniTime.normal),e})),de=n((()=>{const e=new Map;return e.set("margin-top","10px"),e.set("height","".concat(M.value,"px")),e.set("padding","0px 15px 5px"),e.set("flex-direction","row"),e.set("align-items","center"),e.set("background",q.value),e})),me=n((()=>{const e=new Map;return e.set("height","auto"),e.set("max-height","".concat(O.value-M.value-N.value-50,"px")),e}));function pe(){var e,l;null===(l=null===(e=J.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e),U.value=!1,k("close")}function fe(){if(!z.maskClose)return null;U.value=!1,k("clickMask")}function xe(){z.disabled||(k("cancel"),pe())}function be(){z.disabled||(k("confirm"),pe())}return h({open:function(){var e,l;B.value=0,null===(l=null===(e=J.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),k("open"),V.throttle((()=>{U.value=!0,O.value=.8*c().windowHeight,d((()=>{var e,l,t;N.value=null!==(t=null===(l=null===(e=A.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===l?void 0:l.height)&&void 0!==t?t:0}))}),20,j)},close:pe,confirm:be,cancel:xe}),_((e=>!!U.value&&(z.preventBack||pe(),!0))),(l=null,t=null)=>{const o=w(a("sn-text"),E),n=v,r=C,c=w(a("sn-button"),F),d=w(a("sn-overlay"),$);return m(),i(d,{class:"sn-modal-overlay",ref_key:"overlayEle",ref:J,aniTime:"".concat(u(H),"ms"),maskClose:e.maskClose,opacity:e.maskOpacity,onClickMask:fe,customStyle:u(ae)},{default:s((()=>[p(n,{class:y(["sn-modal",u(ie)]),style:f(u(ne)),onClick:t[0]||(t[0]=g((()=>{}),["stop"]))},{default:s((()=>[p(n,{class:"sn-modal-header",ref_key:"headerEle",ref:A,style:f(u(se))},{default:s((()=>[x(l.$slots,"header",{},(()=>[p(o,{class:"sn-modal-title",bold:"",text:e.title,font:e.titleFont,align:e.titleAlign,color:u(Q),size:u(L)},null,8,["text","font","align","color","size"])]),!0)])),_:3},8,["style"]),p(r,{class:"sn-modal-body","show-scrollbar":!1,bounces:!1,"scroll-top":u(B),style:f([u(me),new UTSJSONObject({paddingBottom:null!=l.$slots.content||u(D)?"15px":"0px"})])},{default:s((()=>[x(l.$slots,"content",{},(()=>[p(o,{text:e.content,font:e.contentFont,align:e.contentAlign,color:u(G),size:u(le),style:f(u(ue))},null,8,["text","font","align","color","size","style"])]),!0)])),_:3},8,["scroll-top","style"]),u(R)?x(l.$slots,"actions",{key:0},(()=>["embed"==u(I)?(m(),i(n,{key:0,class:"sn-modal-action-group"},{default:s((()=>[e.showCancel?(m(),i(n,{key:0,class:"sn-modal-action",onClick:xe,style:f(u(re))},{default:s((()=>[p(o,{align:"center",text:e.cancelText,size:u(ee),color:e.disabled?u(S).disabledText:u(Z)},null,8,["text","size","color"])])),_:1},8,["style"])):b("",!0),e.showConfirm?(m(),i(n,{key:1,class:"sn-modal-action",onClick:be,style:f(u(ce))},{default:s((()=>[p(o,{align:"center",bold:"",text:e.confirmText,size:u(Y),color:e.disabled?u(S).disabledText:u(X)},null,8,["text","size","color"])])),_:1},8,["style"])):b("",!0)])),_:1})):"float"==u(I)?(m(),i(n,{key:1,style:f([u(de)])},{default:s((()=>[e.showCancel?(m(),i(c,{key:0,type:"info",level:"second",long:"",disabled:e.disabled,text:e.cancelText,textSize:u(ee),onClick:xe,style:f(e.showConfirm?"margin-right: 10px":"")},null,8,["disabled","text","textSize","style"])):b("",!0),e.showConfirm?(m(),i(c,{key:1,type:"primary",long:"",disabled:e.disabled,text:e.confirmText,textSize:u(Y),onClick:be},null,8,["disabled","text","textSize"])):b("",!0)])),_:1},8,["style"])):b("",!0)]),!0):b("",!0)])),_:3},8,["class","style"])])),_:3},8,["aniTime","maskClose","opacity","customStyle"])}}})),[["__scopeId","data-v-dbb209d2"]]),P=l({__name:"sn-modal",setup(l){const i=t.utils,r=o(null),c=o(new UTSJSONObject({showCancel:!0,showConfirm:!0,disabled:!1,maskClose:!1,preventBack:!1,content:0,title:"标题",contentColor:"",contentSize:"",contentFont:"",titleFont:"",titleColor:"",titleSize:"",confirmText:"确定",confirmTextColor:"",confirmTextSize:"",cancelText:"取消",cancelTextColor:"",cancelTextSize:"",buttonType:0,position:1,maskOpacity:.4})),d=[new h({id:"top",text:"顶部"}),new h({id:"center",text:"居中"}),new h({id:"bottom",text:"底部"}),new h({id:"left",text:"左侧"}),new h({id:"right",text:"右侧"})],f=[new h({id:"short",text:"短文本"}),new h({id:"long",text:"长文本（可滚动）"})],x=[new h({id:"embed",text:"嵌入式"}),new h({id:"float",text:"浮动式"})],b=n((()=>{var e;switch(null!==(e=c.value.content)&&void 0!==e?e:0){case 0:default:return"如果需要对话框，那么官方的 uni.showModal 足以满足你的需求。当你需要更自由地控制动画、插槽时，不妨试试本组件。";case 1:return I}}));function y(){i.throttle((()=>{r.value.open()}),50)}function g(e){"run"==e.id&&y()}return(l=null,t=null)=>{const o=w(a("sn-topbar"),e),n=w(a("sn-gap"),k),i=w(a("sn-switch"),z),v=w(a("sn-form-item"),j),C=w(a("sn-stepper"),U),_=w(a("sn-select"),B),E=w(a("sn-input"),O),J=w(a("sn-button"),F),$=w(a("sn-form"),M),I=w(a("com-card"),N),P=w(a("sn-page"),A),D=w(a("sn-modal"),R);return m(),T(V,null,[p(P,null,{default:s((()=>[p(o,{title:"Modal 模态框",features:[new h({id:"run",icon:"play-circle-fill"})],onButtonClick:g}),p(n),p(I,{title:"组件演示",note:"如果需要对话框，那么官方的 uni.showModal 应该足以满足你的需求。\\n当你需要更自由地控制动画、插槽时，不妨试试本组件。"},{default:s((()=>[p($,{modelValue:u(c),"onUpdate:modelValue":t[23]||(t[23]=(e=null)=>S(c)?c.value=e:null),showBorder:!1},{default:s((()=>[p(v,{label:"显示确认按钮"},{default:s((()=>[p(i,{modelValue:u(c).showConfirm,"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>u(c).showConfirm=e)},null,8,["modelValue"])])),_:1}),p(v,{label:"显示取消按钮"},{default:s((()=>[p(i,{modelValue:u(c).showCancel,"onUpdate:modelValue":t[1]||(t[1]=(e=null)=>u(c).showCancel=e)},null,8,["modelValue"])])),_:1}),p(v,{label:"禁用"},{default:s((()=>[p(i,{modelValue:u(c).disabled,"onUpdate:modelValue":t[2]||(t[2]=(e=null)=>u(c).disabled=e)},null,8,["modelValue"])])),_:1}),p(v,{label:"点击遮罩关闭"},{default:s((()=>[p(i,{modelValue:u(c).maskClose,"onUpdate:modelValue":t[3]||(t[3]=(e=null)=>u(c).maskClose=e)},null,8,["modelValue"])])),_:1}),p(v,{label:"阻止返回事件"},{default:s((()=>[p(i,{modelValue:u(c).preventBack,"onUpdate:modelValue":t[4]||(t[4]=(e=null)=>u(c).preventBack=e)},null,8,["modelValue"])])),_:1}),p(v,{label:"遮罩透明度"},{default:s((()=>[p(C,{modelValue:u(c).maskOpacity,"onUpdate:modelValue":t[5]||(t[5]=(e=null)=>u(c).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),p(v,{label:"位置"},{default:s((()=>[p(_,{modelValue:u(c).position,"onUpdate:modelValue":t[6]||(t[6]=(e=null)=>u(c).position=e),width:"200px",data:d},null,8,["modelValue"])])),_:1}),p(v,{label:"按钮风格"},{default:s((()=>[p(_,{modelValue:u(c).buttonType,"onUpdate:modelValue":t[7]||(t[7]=(e=null)=>u(c).buttonType=e),width:"200px",data:x},null,8,["modelValue"])])),_:1}),p(v,{label:"内容"},{default:s((()=>[p(_,{modelValue:u(c).content,"onUpdate:modelValue":t[8]||(t[8]=(e=null)=>u(c).content=e),width:"200px",data:f},null,8,["modelValue"])])),_:1}),p(v,{label:"标题"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).title,"onUpdate:modelValue":t[9]||(t[9]=(e=null)=>u(c).title=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"内容字体"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).contentFont,"onUpdate:modelValue":t[10]||(t[10]=(e=null)=>u(c).contentFont=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"内容颜色"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).contentColor,"onUpdate:modelValue":t[11]||(t[11]=(e=null)=>u(c).contentColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"内容字体大小"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).contentSize,"onUpdate:modelValue":t[12]||(t[12]=(e=null)=>u(c).contentSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"标题字体"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).titleFont,"onUpdate:modelValue":t[13]||(t[13]=(e=null)=>u(c).titleFont=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"标题颜色"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).titleColor,"onUpdate:modelValue":t[14]||(t[14]=(e=null)=>u(c).titleColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"标题字体大小"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).titleSize,"onUpdate:modelValue":t[15]||(t[15]=(e=null)=>u(c).titleSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"确定按钮文字"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).confirmText,"onUpdate:modelValue":t[16]||(t[16]=(e=null)=>u(c).confirmText=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"取消按钮文字"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).cancelText,"onUpdate:modelValue":t[17]||(t[17]=(e=null)=>u(c).cancelText=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"确定按钮字体大小"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).confirmTextSize,"onUpdate:modelValue":t[18]||(t[18]=(e=null)=>u(c).confirmTextSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"确定按钮字体颜色"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).confirmTextColor,"onUpdate:modelValue":t[19]||(t[19]=(e=null)=>u(c).confirmTextColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"取消按钮字体大小"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).cancelTextSize,"onUpdate:modelValue":t[20]||(t[20]=(e=null)=>u(c).cancelTextSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(v,{label:"取消按钮字体颜色"},{default:s((()=>[p(E,{class:"input",modelValue:u(c).cancelTextColor,"onUpdate:modelValue":t[21]||(t[21]=(e=null)=>u(c).cancelTextColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),p(J,{text:"打开",level:"second",type:"primary",onClick:t[22]||(t[22]=(e=null)=>y()),style:{"margin-top":"10px"}})])),_:1},8,["modelValue"])])),_:1}),p(n)])),_:1}),p(D,{ref_key:"modalEle",ref:r,title:u(c).title,content:u(b),buttonType:x[u(c).buttonType].id,position:d[u(c).position].id,showConfirm:u(c).showConfirm,showCancel:u(c).showCancel,maskOpacity:u(c).maskOpacity,disabled:u(c).disabled,maskClose:u(c).maskClose,preventBack:u(c).preventBack,titleSize:u(c).titleSize,titleColor:u(c).titleColor,titleFont:u(c).titleFont,contentSize:u(c).contentSize,contentColor:u(c).contentColor,contentFont:u(c).contentFont,confirmText:u(c).confirmText,cancelText:u(c).cancelText,confirmTextSize:u(c).confirmTextSize,cancelTextSize:u(c).cancelTextSize,confirmTextColor:u(c).confirmTextColor,cancelTextColor:u(c).cancelTextColor},null,8,["title","content","buttonType","position","showConfirm","showCancel","maskOpacity","disabled","maskClose","preventBack","titleSize","titleColor","titleFont","contentSize","contentColor","contentFont","confirmText","cancelText","confirmTextSize","cancelTextSize","confirmTextColor","cancelTextColor"])],64)}}});export{P as default};
