import{b as e,_ as l}from"./sn-topbar.D5ol6wWa.js";import{d as t,$ as o,r as n,c as a,a as i,b as s,e as u,u as r,z as d,m as c,N as m,o as p,f,q as x,t as b,v as y,p as g,j as v,G as C,S as h,g as T,i as V,F as S}from"./index-BDGnenFq.js";import{a as _,r as w}from"./uni-app.es.BfR9KIrQ.js";import{_ as k}from"./sn-gap.DaFvbZ58.js";import{_ as z}from"./sn-switch.C9OcCgtN.js";import{_ as U}from"./sn-form-item.5AoZzHl5.js";import{_ as j}from"./sn-stepper.DswC5NdZ.js";import{_ as B}from"./sn-select.DZA2RrE9.js";import{_ as F}from"./sn-input.CQs-BOzL.js";import{b as O,_ as M,c as A}from"./sn-button.DCeBN0oM.js";import{_ as E}from"./sn-form.uvue_vue_type_script_setup_true_lang.D7WErNjU.js";import{_ as N}from"./com-card.CltZjJtY.js";import{_ as $}from"./sn-page.BIWIogO0.js";import{c as I}from"./longtext.BGk0ymny.js";import"./sn-alert.YjlOp3ma.js";import"./sn-line.CxWqAnnd.js";const J=A(t(Object.assign({name:"sn-modal"},{__name:"sn-modal",props:{title:{type:String,default:""},titleAlign:{type:String,default:"center"},titleSize:{type:String,default:""},titleFont:{type:String,default:"misans-semibold"},titleColor:{type:String,default:""},bgColor:{type:String,default:""},borderRadius:{type:String,default:""},content:{type:String,default:""},contentAlign:{type:String,default:"center"},contentSize:{type:String,default:""},contentColor:{type:String,default:""},contentFont:{type:String,default:"misans-normal"},buttonType:{type:String,default:"embed"},buttonBorder:{type:String,default:""},confirmText:{type:String,default:"确定"},confirmTextColor:{type:String,default:""},confirmTextSize:{type:String,default:""},showCancel:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},cancelText:{type:String,default:"取消"},cancelTextColor:{type:String,default:""},cancelTextSize:{type:String,default:""},position:{type:String,default:"center"},aniTime:{type:String,default:""},maskClose:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},preventBack:{type:Boolean,default:!1},maskOpacity:{type:Number,default:.4},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["open","close","clickMask","confirm","cancel"],setup(l,t){var h=t.expose,T=t.emit;const V=o.colors;o.utils;const S=T,k=l,z=n(!1),U=n(0),j=n(0),B=n(50),F=n(0),A=n(null),E=n(null),N=a((()=>["embed","float"].includes(k.buttonType)?k.buttonType:"embed")),$=a((()=>k.showCancel||k.showConfirm)),I=a((()=>d("aniTime",k.aniTime,o.configs.aniTime.long))),J=a((()=>{let e=parseInt(I.value);return e>100?e-100:e})),P=a((()=>o.configs.app.theme)),R=a((()=>d("font",k.titleSize,"".concat(o.utils.getPx(o.configs.font.size(3))+1,"px")))),D=a((()=>d("color",k.titleColor,V.value.title))),H=a((()=>d("color",k.bgColor,V.value["".concat("light"==P.value?"front":"info")]))),q=a((()=>d("color",k.contentColor,V.value.text))),G=a((()=>d("other",k.buttonBorder,"0.5px solid ".concat(V.value.line)))),W=a((()=>d("color",k.confirmTextColor,V.value.primaryDark))),K=a((()=>d("font",k.confirmTextSize,o.configs.font.size(3)))),L=a((()=>d("color",k.cancelTextColor,V.value.text))),Q=a((()=>d("font",k.cancelTextSize,o.configs.font.size(3)))),X=a((()=>d("font",k.contentSize,"".concat(o.utils.getPx(o.configs.font.baseSize)+1,"px")))),Y=a((()=>d("radius",k.borderRadius,o.configs.radius.normal))),Z=a((()=>["center","top","bottom","left","right"].includes(k.position)?k.position:"center")),ee=a((()=>{let e=new Map;return e.set("max-height","".concat(j.value,"px")),e.set("background",H.value),e.set("border-radius",Y.value),e.set("padding-top","32px"),e.set("transition-duration",I.value),"float"==N.value&&e.set("padding-bottom","5px"),e})),le=a((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(Z.value)?"center":"top"==Z.value?"flex-start":"flex-end"}))),te=a((()=>{let e=new Map;return e.set("animation",parseInt(I.value)>0),e.set("hover",z.value),e.set(Z.value,!0),e})),oe=a((()=>{let e=new Map;return e.set("margin","0px 24px 8px"),e.set("transition-duration","0ms"),e})),ne=a((()=>{let e=new Map;return e.set("margin","8px 24px 0px"),e.set("transition-duration","0ms"),e})),ae=a((()=>{let e=new Map;return e.set("height","".concat(B.value,"px")),e.set("background",H.value),e.set("border-top",G.value),e.set("border-right",G.value),e.set("margin-top","10px"),e.set("transition-duration",o.configs.aniTime.normal),e})),ie=a((()=>{let e=new Map;return e.set("height","".concat(B.value,"px")),e.set("background",H.value),e.set("border-top",G.value),e.set("margin-top","10px"),e.set("transition-duration",o.configs.aniTime.normal),e})),se=a((()=>{let e=new Map;return e.set("height","".concat(B.value,"px")),e.set("padding","0px 15px 7px"),e.set("flex-direction","row"),e.set("align-items","center"),e.set("background",H.value),e})),ue=a((()=>{let e=new Map;return e.set("padding-bottom","10px"),e.set("height","auto"),e.set("max-height","".concat(j.value-B.value-F.value-50,"px")),e}));function re(){var e,l;null===(l=null===(e=E.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e),z.value=!1,S("close")}function de(){z.value=!1,S("clickMask")}function ce(){k.disabled||(S("cancel"),re())}function me(){k.disabled||(S("confirm"),re())}return h({open:function(){var e,l;U.value=0,null===(l=null===(e=E.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),S("open"),c((()=>{z.value=!0,j.value=.8*m().windowHeight,c((()=>{var e,l,t;F.value=null!==(t=null===(l=null===(e=A.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===l?void 0:l.height)&&void 0!==t?t:0}))}))},close:re,confirm:me,cancel:ce}),_((e=>!!z.value&&(k.preventBack||re(),!0))),(t=null,o=null)=>{const n=w(i("sn-text"),O),a=v,d=C,c=w(i("sn-button"),M),m=w(i("sn-overlay"),e);return p(),s(m,{class:"sn-modal-overlay",ref_key:"overlayEle",ref:E,aniTime:"".concat(r(J),"ms"),maskClose:l.maskClose,opacity:l.maskOpacity,onClickMask:de,customStyle:r(le)},{default:u((()=>[f(a,{class:g(["sn-modal",r(te)]),style:x(r(ee))},{default:u((()=>[f(a,{class:"sn-modal-header",ref_key:"headerEle",ref:A,style:x(r(oe))},{default:u((()=>[b(t.$slots,"header",{},(()=>[f(n,{class:"sn-modal-title",text:l.title,font:l.titleFont,align:l.titleAlign,color:r(D),size:r(R)},null,8,["text","font","align","color","size"])]),!0)])),_:3},8,["style"]),f(d,{class:"sn-modal-body","show-scrollbar":!1,bounces:!1,"scroll-top":r(U),style:x(r(ue))},{default:u((()=>[b(t.$slots,"content",{},(()=>[f(n,{text:l.content,font:l.contentFont,align:l.contentAlign,color:r(q),size:r(X),style:x(r(ne))},null,8,["text","font","align","color","size","style"])]),!0)])),_:3},8,["scroll-top","style"]),r($)?b(t.$slots,"actions",{key:0},(()=>["embed"==r(N)?(p(),s(a,{key:0,class:"sn-modal-action-group"},{default:u((()=>[l.showCancel?(p(),s(a,{key:0,class:"sn-modal-action",onClick:ce,style:x(r(ae))},{default:u((()=>[f(n,{font:"misans-normal",align:"center",text:l.cancelText,size:r(Q),color:l.disabled?r(V).disabledText:r(L)},null,8,["text","size","color"])])),_:1},8,["style"])):y("",!0),l.showConfirm?(p(),s(a,{key:1,class:"sn-modal-action",onClick:me,style:x(r(ie))},{default:u((()=>[f(n,{font:"misans-semibold",align:"center",text:l.confirmText,size:r(K),color:l.disabled?r(V).disabledText:r(W)},null,8,["text","size","color"])])),_:1},8,["style"])):y("",!0)])),_:1})):"float"==r(N)?(p(),s(a,{key:1,style:x([r(se)])},{default:u((()=>[l.showCancel?(p(),s(c,{key:0,type:"info",level:"second",long:"",disabled:l.disabled,text:l.cancelText,textSize:r(Q),onClick:ce,style:x(l.showConfirm?"margin-right: 10px":"")},null,8,["disabled","text","textSize","style"])):y("",!0),l.showConfirm?(p(),s(c,{key:1,type:"primary",long:"",disabled:l.disabled,text:l.confirmText,textSize:r(K),onClick:me},null,8,["disabled","text","textSize"])):y("",!0)])),_:1},8,["style"])):y("",!0)]),!0):y("",!0)])),_:3},8,["class","style"])])),_:3},8,["aniTime","maskClose","opacity","customStyle"])}}})),[["__scopeId","data-v-724bf723"]]),P=t({__name:"sn-modal",setup(e){const t=o.utils,s=n(null),d=n({showCancel:!0,showConfirm:!0,disabled:!1,maskClose:!1,preventBack:!1,content:0,title:"标题",contentColor:"",contentSize:"",contentFont:"misans-normal",titleFont:"misans-semibold",titleColor:"",titleSize:"",confirmText:"确定",confirmTextColor:"",confirmTextSize:"",cancelText:"取消",cancelTextColor:"",cancelTextSize:"",buttonType:0,position:1,maskOpacity:.4}),c=[new h({id:"top",text:"顶部"}),new h({id:"center",text:"居中"}),new h({id:"bottom",text:"底部"}),new h({id:"left",text:"左侧"}),new h({id:"right",text:"右侧"})],m=[new h({id:"short",text:"短文本"}),new h({id:"long",text:"长文本（可滚动）"})],x=[new h({id:"embed",text:"嵌入式"}),new h({id:"float",text:"浮动式"})],b=a((()=>{var e;switch(null!==(e=d.value.content)&&void 0!==e?e:0){case 0:default:return"如果需要对话框，那么官方的 uni.showModal 足以满足你的需求。当你需要更自由地控制动画、插槽时，不妨试试本组件。";case 1:return I}}));function y(){t.throttle((()=>{s.value.open()}),50)}function g(e){"run"==e.id&&y()}return(e=null,t=null)=>{const o=w(i("sn-topbar"),l),n=w(i("sn-gap"),k),a=w(i("sn-switch"),z),v=w(i("sn-form-item"),U),C=w(i("sn-stepper"),j),_=w(i("sn-select"),B),O=w(i("sn-input"),F),A=w(i("sn-button"),M),I=w(i("sn-form"),E),P=w(i("com-card"),N),R=w(i("sn-page"),$),D=w(i("sn-modal"),J);return p(),T(S,null,[f(R,null,{default:u((()=>[f(o,{title:"Modal 模态框",features:[new h({id:"run",icon:"play-circle-fill"})],onButtonClick:g}),f(n),f(P,{title:"组件演示",note:"如果需要对话框，那么官方的 uni.showModal 应该足以满足你的需求。\\n当你需要更自由地控制动画、插槽时，不妨试试本组件。"},{default:u((()=>[f(I,{modelValue:r(d),"onUpdate:modelValue":t[23]||(t[23]=(e=null)=>V(d)?d.value=e:null),showBorder:!1},{default:u((()=>[f(v,{label:"显示确认按钮"},{default:u((()=>[f(a,{modelValue:r(d).showConfirm,"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>r(d).showConfirm=e)},null,8,["modelValue"])])),_:1}),f(v,{label:"显示取消按钮"},{default:u((()=>[f(a,{modelValue:r(d).showCancel,"onUpdate:modelValue":t[1]||(t[1]=(e=null)=>r(d).showCancel=e)},null,8,["modelValue"])])),_:1}),f(v,{label:"禁用"},{default:u((()=>[f(a,{modelValue:r(d).disabled,"onUpdate:modelValue":t[2]||(t[2]=(e=null)=>r(d).disabled=e)},null,8,["modelValue"])])),_:1}),f(v,{label:"遮罩关闭"},{default:u((()=>[f(a,{modelValue:r(d).maskClose,"onUpdate:modelValue":t[3]||(t[3]=(e=null)=>r(d).maskClose=e)},null,8,["modelValue"])])),_:1}),f(v,{label:"阻止返回事件"},{default:u((()=>[f(a,{modelValue:r(d).preventBack,"onUpdate:modelValue":t[4]||(t[4]=(e=null)=>r(d).preventBack=e)},null,8,["modelValue"])])),_:1}),f(v,{label:"遮罩透明度"},{default:u((()=>[f(C,{modelValue:r(d).maskOpacity,"onUpdate:modelValue":t[5]||(t[5]=(e=null)=>r(d).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),f(v,{label:"位置"},{default:u((()=>[f(_,{modelValue:r(d).position,"onUpdate:modelValue":t[6]||(t[6]=(e=null)=>r(d).position=e),width:"200px",data:c},null,8,["modelValue"])])),_:1}),f(v,{label:"按钮风格"},{default:u((()=>[f(_,{modelValue:r(d).buttonType,"onUpdate:modelValue":t[7]||(t[7]=(e=null)=>r(d).buttonType=e),width:"200px",data:x},null,8,["modelValue"])])),_:1}),f(v,{label:"内容"},{default:u((()=>[f(_,{modelValue:r(d).content,"onUpdate:modelValue":t[8]||(t[8]=(e=null)=>r(d).content=e),width:"200px",data:m},null,8,["modelValue"])])),_:1}),f(v,{label:"标题"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).title,"onUpdate:modelValue":t[9]||(t[9]=(e=null)=>r(d).title=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"内容字体"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).contentFont,"onUpdate:modelValue":t[10]||(t[10]=(e=null)=>r(d).contentFont=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"内容颜色"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).contentColor,"onUpdate:modelValue":t[11]||(t[11]=(e=null)=>r(d).contentColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"内容字体大小"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).contentSize,"onUpdate:modelValue":t[12]||(t[12]=(e=null)=>r(d).contentSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"标题字体"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).titleFont,"onUpdate:modelValue":t[13]||(t[13]=(e=null)=>r(d).titleFont=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"标题颜色"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).titleColor,"onUpdate:modelValue":t[14]||(t[14]=(e=null)=>r(d).titleColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"标题字体大小"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).titleSize,"onUpdate:modelValue":t[15]||(t[15]=(e=null)=>r(d).titleSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"确定按钮文字"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).confirmText,"onUpdate:modelValue":t[16]||(t[16]=(e=null)=>r(d).confirmText=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"取消按钮文字"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).cancelText,"onUpdate:modelValue":t[17]||(t[17]=(e=null)=>r(d).cancelText=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"确定按钮字体大小"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).confirmTextSize,"onUpdate:modelValue":t[18]||(t[18]=(e=null)=>r(d).confirmTextSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"确定按钮字体颜色"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).confirmTextColor,"onUpdate:modelValue":t[19]||(t[19]=(e=null)=>r(d).confirmTextColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"取消按钮字体大小"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).cancelTextSize,"onUpdate:modelValue":t[20]||(t[20]=(e=null)=>r(d).cancelTextSize=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(v,{label:"取消按钮字体颜色"},{default:u((()=>[f(O,{class:"input",modelValue:r(d).cancelTextColor,"onUpdate:modelValue":t[21]||(t[21]=(e=null)=>r(d).cancelTextColor=e),placeholder:"默认值"},null,8,["modelValue"])])),_:1}),f(A,{text:"打开",level:"second",type:"primary",onClick:t[22]||(t[22]=(e=null)=>y()),style:{"margin-top":"10px"}})])),_:1},8,["modelValue"])])),_:1}),f(n)])),_:1}),f(D,{ref_key:"modalEle",ref:s,title:r(d).title,content:r(b),buttonType:x[r(d).buttonType].id,position:c[r(d).position].id,showConfirm:r(d).showConfirm,showCancel:r(d).showCancel,maskOpacity:r(d).maskOpacity,disabled:r(d).disabled,maskClose:r(d).maskClose,preventBack:r(d).preventBack,titleSize:r(d).titleSize,titleColor:r(d).titleColor,titleFont:r(d).titleFont,contentSize:r(d).contentSize,contentColor:r(d).contentColor,contentFont:r(d).contentFont,confirmText:r(d).confirmText,cancelText:r(d).cancelText,confirmTextSize:r(d).confirmTextSize,cancelTextSize:r(d).cancelTextSize,confirmTextColor:r(d).confirmTextColor,cancelTextColor:r(d).cancelTextColor},null,8,["title","content","buttonType","position","showConfirm","showCancel","maskOpacity","disabled","maskClose","preventBack","titleSize","titleColor","titleFont","contentSize","contentColor","contentFont","confirmText","cancelText","confirmTextSize","cancelTextSize","confirmTextColor","cancelTextColor"])],64)}}});export{P as default};
