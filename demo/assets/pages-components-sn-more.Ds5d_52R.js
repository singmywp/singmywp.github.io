import{_ as e}from"./sn-topbar.DEOjSarq.js";import{d as t,r as l,c as s,k as a,l as o,b as n,e as i,f as r,q as u,o as d,g as f,t as c,I as m,J as p,u as g,p as x,m as b}from"./index-C41ek1zM.js";import{$ as _,r as v}from"./uni-app.es.DMEFtuWf.js";import{b as z,a as y,c as S}from"./sn-button.CpSyIQkh.js";import{u as T}from"./useResize.BWc6k2GD.js";import{_ as j}from"./com-card.DTC2fNbY.js";import{_ as h}from"./sn-gap.88myKfwU.js";import{_ as C}from"./sn-page.Djy77f-h.js";import{b as w,d as k,e as O,f as H,c as I}from"./longtext.BGk0ymny.js";const M=S(t(Object.assign({name:"sn-more"},{__name:"sn-more",props:{minHeight:{type:String,default:"100px"},unfoldText:{type:String,default:"展开查看更多"},foldText:{type:String,default:"收起"},icon:{type:String,default:""},textSize:{type:String,default:""},textColor:{type:String,default:""},bgColor:{type:String,default:""},disabled:{type:Boolean,default:!1},aniTime:{type:Number,default:parseInt(_.configs.aniTime.normal)},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["fold","unfold"],setup(e,t){var S=t.emit;const j=_.utils,h=_.libs.color,C=_.colors,w=S,k=e,O=l(null),H=l(!0),I=l(0),M=s((()=>!j.isEmpty(k.icon))),R=s((()=>""==k.bgColor?C.value.front:k.bgColor)),B=s((()=>""==k.textColor?C.value.textLight:k.textColor)),E=s((()=>""==k.textSize?_.configs.font.size(2):k.textSize)),J=s((()=>h.tinyColor(R.value).setAlpha(.5).toRgbString())),N=s((()=>{let e=new Map;return e.set("height",H.value?k.minHeight:j.addPx(I.value)),e.set("background",R.value),e.set("transition-duration","".concat(k.aniTime,"ms")),e})),$=s((()=>{let e=new Map;return e.set("background-image","linear-gradient(to top, ".concat(R.value,", ").concat(J.value,")")),e}));function q(){var e,t,l;I.value=null!==(l=null===(t=null===(e=O.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.height)&&void 0!==l?l:0}function A(){if(k.disabled)return null;H.value?(H.value=!1,w("unfold")):(H.value=!0,w("fold"))}return a((()=>{o((()=>{q(),T(O.value,(()=>{q()}))}))})),(t=null,l=null)=>{const s=u,a=v(n("sn-text"),z),o=v(n("sn-icon"),y);return d(),i(s,{class:"sn-more-contain"},{default:r((()=>[f(s,{class:"sn-more",style:x([g(N),e.customStyle])},{default:r((()=>[f(s,{class:"sn-more-wrap",ref_key:"wrapEle",ref:O},{default:r((()=>[c(t.$slots,"default",{},void 0,!0)])),_:3},512),m(f(s,{class:"sn-more-mask",style:x([g($)])},null,8,["style"]),[[p,g(H)]])])),_:3},8,["style"]),f(s,{class:b(["sn-more-text-area",e.disabled?"disabled":""]),onClick:A},{default:r((()=>[f(a,{text:g(H)?e.unfoldText:e.foldText,color:e.disabled?g(C).disabledText:g(B),size:g(E)},null,8,["text","color","size"]),f(o,{name:g(M)?e.icon:"arrow-".concat(g(H)?"down":"up","-s-line"),color:e.disabled?g(C).disabledText:g(B),size:g(E),style:{"margin-left":"5px"}},null,8,["name","color","size"])])),_:1},8,["class"])])),_:3})}}})),[["__scopeId","data-v-3ad99f55"]]),R=t({__name:"sn-more",setup:t=>(_.colors,(t=null,l=null)=>{const s=v(n("sn-topbar"),e),a=v(n("sn-text"),z),o=v(n("sn-more"),M),u=v(n("com-card"),j),c=v(n("sn-gap"),h),m=v(n("sn-page"),C);return d(),i(m,null,{default:r((()=>[f(s,{title:"More 查看更多"}),f(u,{title:"基础用法",note:"内容太长可以先收起一部分"},{default:r((()=>[f(o,null,{default:r((()=>[f(a,{text:"　　"+g(w),size:g(_).configs.font.size(3)},null,8,["text","size"])])),_:1})])),_:1}),f(u,{title:"自定义文字"},{default:r((()=>[f(o,{unfoldText:"开",foldText:"关"},{default:r((()=>[f(a,{text:g(k),size:g(_).configs.font.size(3)},null,8,["text","size"])])),_:1})])),_:1}),f(u,{title:"自定义展示高度"},{default:r((()=>[f(o,{minHeight:"250px"},{default:r((()=>[f(a,{text:"　　"+g(O),size:g(_).configs.font.size(3)},null,8,["text","size"])])),_:1})])),_:1}),f(u,{title:"动画时长",note:"如果你在意性能的话，可以关闭动画"},{default:r((()=>[f(o,{aniTime:0},{default:r((()=>[f(a,{text:g(H),size:g(_).configs.font.size(3)},null,8,["text","size"])])),_:1})])),_:1}),f(u,{title:"禁用"},{default:r((()=>[f(o,{unfoldText:"开通大会员畅享百万好文",icon:"vip-crown-line",disabled:""},{default:r((()=>[f(a,{text:g(I),size:g(_).configs.font.size(3)},null,8,["text","size"])])),_:1})])),_:1}),f(c)])),_:1})})});export{R as default};
