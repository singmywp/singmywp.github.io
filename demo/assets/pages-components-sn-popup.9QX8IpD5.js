import{_ as e,a as t}from"./sn-topbar.wm0GzhH3.js";import{d as a,$ as l,r as n,c as s,a as o,e as i,f as p,u,x as r,b as m,g as d,z as c,m as f,A as v,p as _,_ as k,S as y,h as g,i as j,F as b,L as w}from"./index-DYMgrqHp.js";import{o as V,r as x}from"./uni-app.es.DgDfNdgy.js";import{_ as C}from"./sn-switch.CRzEpFQb.js";import{_ as O}from"./sn-form-item.H9V81OhK.js";import{_ as T}from"./sn-select.CIbdfrXO.js";import{_ as S}from"./sn-stepper.CLd4BeEG.js";import{_ as B}from"./sn-button.BjZePiC5.js";import{_ as h}from"./sn-form.uvue_vue_type_script_setup_true_lang.i8bEa9At.js";import{_ as U}from"./com-card.BtLNzB63.js";import{_ as M}from"./sn-gap.2Twkbobz.js";import{_ as I}from"./sn-page.Cf6LEMVT.js";import{_ as N}from"./sn-overlay.CiZFgEyq.js";import{b as J}from"./sn-text.euomPoe8.js";import"./sn-menu-item.DkjoXkWj.js";import"./sn-loading.t5otRKvs.js";import"./sn-alert.B2UqFsTR.js";import"./sn-line.BnKikEoE.js";import"./sn-input.Cq5jBGx5.js";const P=J(a(Object.assign({name:"sn-popup"},{__name:"sn-popup",props:{renderMode:{type:String,default:"v-if"},position:{type:String,default:"center"},aniTime:{type:String,default:l.configs.aniTime.long},preventBack:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!0},maskOpacity:{type:Number,default:.3},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["open","close","clickMask"],setup(e,t){var a=t.expose,y=t.emit;const g=l.utils,j=y,b=e,w=n(!1),C=n(null),O=n(g.randomComId()),T=s((()=>["center","top","bottom","left","right"].includes(b.position)?b.position:"center")),S=s((()=>r("aniTime",b.aniTime,l.configs.aniTime.long))),B=s((()=>{let e=parseInt(S.value);return e>100?e-100:e})),h=s((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(T.value)?"center":"top"==T.value?"flex-start":"flex-end"}))),U=s((()=>{const e=new Map;return e.set("transition-duration",S.value),e.set("zIndex",l.configs.zIndex.popup),e})),M=s((()=>{let e=new Map;return e.set("animation",parseInt(S.value)>0),e.set("hover",w.value),e.set(T.value,!0),e}));function I(){var e,t;w.value=!1,null===(t=null===(e=C.value)||void 0===e?void 0:e.close)||void 0===t||t.call(e),j("close")}function J(){w.value=!1,j("clickMask")}return a({open:function(){var e,t;null===(t=null===(e=C.value)||void 0===e?void 0:e.open)||void 0===t||t.call(e),g.throttle((()=>{w.value=!0}),20,O.value),j("open")},close:I}),V((e=>!!w.value&&(b.preventBack||I(),!0))),(t=null,a=null)=>{const l=k,n=x(o("sn-overlay"),N);return m(),i(n,{ref_key:"overlayEle",ref:C,renderMode:e.renderMode,aniTime:"".concat(u(B),"ms"),opacity:e.maskOpacity,maskClose:e.maskClose,onClickMask:J,customStyle:u(h)},{default:p((()=>[d(l,{class:f(["sn-popup",u(M)]),onClick:a[0]||(a[0]=v((()=>{}),["stop"])),style:_([u(U),e.customStyle])},{default:p((()=>[c(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["renderMode","aniTime","opacity","maskClose","customStyle"])}}})),[["__scopeId","data-v-4ce88115"]]),z=a({__name:"sn-popup",setup(a){const s=l.utils,i=n(null),r=n(new UTSJSONObject({position:1,maskClose:!0,preventBack:!1,aniTime:parseInt(l.configs.aniTime.long),maskOpacity:.3})),c=[new y({id:"top",text:"顶部"}),new y({id:"center",text:"居中"}),new y({id:"bottom",text:"底部"}),new y({id:"left",text:"左侧"}),new y({id:"right",text:"右侧"})];function f(){s.throttle((()=>{i.value.open()}),50)}function v(e){"run"==e.id&&f()}return(a=null,l=null)=>{var n,s;const _=x(o("sn-topbar"),e),k=x(o("sn-switch"),C),V=x(o("sn-form-item"),O),N=x(o("sn-select"),T),J=x(o("sn-stepper"),S),z=x(o("sn-button"),B),D=x(o("sn-form"),h),E=x(o("com-card"),U),F=x(o("sn-gap"),M),L=x(o("sn-page"),I),$=w,A=x(o("sn-row"),t),K=x(o("sn-popup"),P);return m(),g(b,null,[d(L,null,{default:p((()=>[d(_,{title:"Popup 弹出层",features:[new y({id:"run",icon:"play-circle-fill"})],onButtonClick:v}),d(E,{title:"组件演示",note:"需要弹窗？试试它吧。\\n请注意区分 Popup 和 Drawer。Popup 只控制动画和显隐逻辑，UI 需要自己写。而 Drawer 则是在 Popup 的基础上加了一层 UI 模板。"},{default:p((()=>[d(D,{modelValue:u(r),"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>j(r)?r.value=e:null),showBorder:!1},{default:p((()=>[d(V,{label:"遮罩关闭"},{default:p((()=>[d(k,{modelValue:u(r).maskClose,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>u(r).maskClose=e)},null,8,["modelValue"])])),_:1}),d(V,{label:"阻止返回事件"},{default:p((()=>[d(k,{modelValue:u(r).preventBack,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>u(r).preventBack=e)},null,8,["modelValue"])])),_:1}),d(V,{label:"位置"},{default:p((()=>[d(N,{modelValue:u(r).position,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>u(r).position=e),width:"200px",data:c},null,8,["modelValue"])])),_:1}),d(V,{label:"动画时长"},{default:p((()=>[d(J,{modelValue:u(r).aniTime,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>u(r).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),d(V,{label:"遮罩透明度"},{default:p((()=>[d(J,{modelValue:u(r).maskOpacity,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>u(r).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),d(z,{text:"打开",level:"second",type:"primary",onClick:l[5]||(l[5]=(e=null)=>f()),style:{"margin-top":"10px"}})])),_:1},8,["modelValue"])])),_:1}),d(F)])),_:1}),d(K,{ref_key:"popupEle",ref:i,position:null!==(s=c[null!==(n=u(r).position)&&void 0!==n?n:1].id)&&void 0!==s?s:"",aniTime:"".concat(u(r).aniTime,"ms"),maskOpacity:u(r).maskOpacity,maskClose:u(r).maskClose,preventBack:u(r).preventBack},{default:p((()=>[d(A,{justify:"center"},{default:p((()=>[d($,{class:"w-200",mode:"aspectFit",src:"/demo/assets/letter-open-CupCgpkg.png"})])),_:1})])),_:1},8,["position","aniTime","maskOpacity","maskClose","preventBack"])],64)}}});export{z as default};
