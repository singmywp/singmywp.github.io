import{b as e,_ as t,a}from"./sn-topbar.DxKzInQK.js";import{d as l,$ as n,r as s,c as o,a as i,b as p,e as u,u as r,y as m,o as d,f as c,B as f,p as v,A as k,q as _,j as y,S as g,g as j,i as C,F as b,M as w}from"./index-DoInGK9X.js";import{a as V,r as x}from"./uni-app.es.K1mZmM8s.js";import{_ as T}from"./sn-switch.EAkaUVVB.js";import{_ as O}from"./sn-form-item.DQivdfXx.js";import{_ as B}from"./sn-select.BifT2hzZ.js";import{_ as S}from"./sn-stepper.8H8ymVUn.js";import{c as h,_ as M}from"./sn-button.B1LvAG78.js";import{_ as U}from"./sn-form.uvue_vue_type_script_setup_true_lang.ZcEsNHPg.js";import{_ as I}from"./com-card.D8_7_rS9.js";import{_ as P}from"./sn-gap.BM3gA-Sq.js";import{_ as D}from"./sn-page.Nlp4LDKz.js";import"./sn-alert.CWq7Acu6.js";import"./sn-line.DzqrU5y1.js";import"./sn-input.CG5cj0Ye.js";const E=h(l(Object.assign({name:"sn-popup"},{__name:"sn-popup",props:{renderMode:{type:String,default:"v-if"},position:{type:String,default:"center"},aniTime:{type:String,default:n.configs.aniTime.long},preventBack:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!0},maskOpacity:{type:Number,default:.3},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["open","close","clickMask"],setup(t,a){var l=a.expose,g=a.emit;const j=n.utils,C=g,b=t,w=s(!1),T=s(null),O=s(j.randomComId()),B=o((()=>["center","top","bottom","left","right"].includes(b.position)?b.position:"center")),S=o((()=>m("aniTime",b.aniTime,n.configs.aniTime.long))),h=o((()=>{let e=parseInt(S.value);return e>100?e-100:e})),M=o((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(B.value)?"center":"top"==B.value?"flex-start":"flex-end"}))),U=o((()=>{let e=new Map;return e.set("transition-duration",S.value),e.set("zIndex",n.configs.zIndex.popup),e})),I=o((()=>{let e=new Map;return e.set("animation",parseInt(S.value)>0),e.set("hover",w.value),e.set(B.value,!0),e}));function P(){var e,t;w.value=!1,null===(t=null===(e=T.value)||void 0===e?void 0:e.close)||void 0===t||t.call(e),C("close")}function D(){w.value=!1,C("clickMask")}return l({open:function(){var e,t;null===(t=null===(e=T.value)||void 0===e?void 0:e.open)||void 0===t||t.call(e),j.throttle((()=>{w.value=!0}),20,O.value),C("open")},close:P}),V((e=>!!w.value&&(b.preventBack||P(),!0))),(a=null,l=null)=>{const n=y,s=x(i("sn-overlay"),e);return d(),p(s,{ref_key:"overlayEle",ref:T,renderMode:t.renderMode,aniTime:"".concat(r(h),"ms"),opacity:t.maskOpacity,maskClose:t.maskClose,onClickMask:D,customStyle:r(M)},{default:u((()=>[c(n,{class:v(["sn-popup",r(I)]),onClick:l[0]||(l[0]=k((()=>{}),["stop"])),style:_([r(U),t.customStyle])},{default:u((()=>[f(a.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["renderMode","aniTime","opacity","maskClose","customStyle"])}}})),[["__scopeId","data-v-a365497e"]]),N=l({__name:"sn-popup",setup(e){const l=n.utils,o=s(null),p=s({position:1,maskClose:!0,preventBack:!1,aniTime:parseInt(n.configs.aniTime.long),maskOpacity:.3}),m=[new g({id:"top",text:"顶部"}),new g({id:"center",text:"居中"}),new g({id:"bottom",text:"底部"}),new g({id:"left",text:"左侧"}),new g({id:"right",text:"右侧"})];function f(){l.throttle((()=>{o.value.open()}),50)}function v(e){"run"==e.id&&f()}return(e=null,l=null)=>{var n,s;const k=x(i("sn-topbar"),t),_=x(i("sn-switch"),T),y=x(i("sn-form-item"),O),V=x(i("sn-select"),B),h=x(i("sn-stepper"),S),N=x(i("sn-button"),M),z=x(i("sn-form"),U),A=x(i("com-card"),I),F=x(i("sn-gap"),P),J=x(i("sn-page"),D),$=w,q=x(i("sn-row"),a),G=x(i("sn-popup"),E);return d(),j(b,null,[c(J,null,{default:u((()=>[c(k,{title:"Popup 弹出层",features:[new g({id:"run",icon:"play-circle-fill"})],onButtonClick:v}),c(A,{title:"组件演示",note:"需要弹窗？试试它吧。\\n请注意区分 Popup 和 Drawer。Popup 只控制动画和显隐逻辑，UI 需要自己写。而 Drawer 则是在 Popup 的基础上加了一层 UI 模板。"},{default:u((()=>[c(z,{modelValue:r(p),"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>C(p)?p.value=e:null),showBorder:!1},{default:u((()=>[c(y,{label:"遮罩关闭"},{default:u((()=>[c(_,{modelValue:r(p).maskClose,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>r(p).maskClose=e)},null,8,["modelValue"])])),_:1}),c(y,{label:"阻止返回事件"},{default:u((()=>[c(_,{modelValue:r(p).preventBack,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>r(p).preventBack=e)},null,8,["modelValue"])])),_:1}),c(y,{label:"位置"},{default:u((()=>[c(V,{modelValue:r(p).position,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>r(p).position=e),width:"200px",data:m},null,8,["modelValue"])])),_:1}),c(y,{label:"动画时长"},{default:u((()=>[c(h,{modelValue:r(p).aniTime,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>r(p).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),c(y,{label:"遮罩透明度"},{default:u((()=>[c(h,{modelValue:r(p).maskOpacity,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>r(p).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),c(N,{text:"打开",level:"second",type:"primary",onClick:l[5]||(l[5]=(e=null)=>f()),style:{"margin-top":"10px"}})])),_:1},8,["modelValue"])])),_:1}),c(F)])),_:1}),c(G,{ref_key:"popupEle",ref:o,position:null!==(s=m[null!==(n=r(p).position)&&void 0!==n?n:1].id)&&void 0!==s?s:"",aniTime:"".concat(r(p).aniTime,"ms"),maskOpacity:r(p).maskOpacity,maskClose:r(p).maskClose,preventBack:r(p).preventBack},{default:u((()=>[c(q,{justify:"center"},{default:u((()=>[c($,{class:"w-200",mode:"aspectFit",src:"/demo/assets/letter-open-CupCgpkg.png"})])),_:1})])),_:1},8,["position","aniTime","maskOpacity","maskClose","preventBack"])],64)}}});export{N as default};
