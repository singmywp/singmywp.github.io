import{b as e,_ as t,a}from"./sn-topbar.D5ol6wWa.js";import{d as l,$ as n,r as s,c as o,a as i,b as p,e as u,u as r,z as m,o as d,f as c,t as f,p as v,D as k,q as _,j as y,S as g,g as j,i as b,F as w,M as C}from"./index-BDGnenFq.js";import{a as V,r as x}from"./uni-app.es.BfR9KIrQ.js";import{_ as T}from"./sn-switch.C9OcCgtN.js";import{_ as O}from"./sn-form-item.5AoZzHl5.js";import{_ as B}from"./sn-select.DZA2RrE9.js";import{_ as S}from"./sn-stepper.DswC5NdZ.js";import{c as h,_ as M}from"./sn-button.DCeBN0oM.js";import{_ as U}from"./sn-form.uvue_vue_type_script_setup_true_lang.D7WErNjU.js";import{_ as I}from"./com-card.CltZjJtY.js";import{_ as P}from"./sn-gap.DaFvbZ58.js";import{_ as z}from"./sn-page.BIWIogO0.js";import"./sn-alert.YjlOp3ma.js";import"./sn-line.CxWqAnnd.js";import"./sn-input.CQs-BOzL.js";const D=h(l(Object.assign({name:"sn-popup"},{__name:"sn-popup",props:{renderMode:{type:String,default:"v-if"},position:{type:String,default:"center"},aniTime:{type:String,default:n.configs.aniTime.long},preventBack:{type:Boolean,default:!1},maskClose:{type:Boolean,default:!0},maskOpacity:{type:Number,default:.3},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["open","close","clickMask"],setup(t,a){var l=a.expose,g=a.emit;const j=n.utils,b=g,w=t,C=s(!1),T=s(null),O=s(j.randomComId()),B=o((()=>["center","top","bottom","left","right"].includes(w.position)?w.position:"center")),S=o((()=>m("aniTime",w.aniTime,n.configs.aniTime.long))),h=o((()=>{let e=parseInt(S.value);return e>100?e-100:e})),M=o((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(B.value)?"center":"top"==B.value?"flex-start":"flex-end"}))),U=o((()=>{let e=new Map;return e.set("transition-duration",S.value),e.set("zIndex",n.configs.zIndex.popup),e})),I=o((()=>{let e=new Map;return e.set("animation",parseInt(S.value)>0),e.set("hover",C.value),e.set(B.value,!0),e}));function P(){var e,t;C.value=!1,null===(t=null===(e=T.value)||void 0===e?void 0:e.close)||void 0===t||t.call(e),b("close")}function z(){C.value=!1,b("clickMask")}return l({open:function(){var e,t;null===(t=null===(e=T.value)||void 0===e?void 0:e.open)||void 0===t||t.call(e),j.throttle((()=>{C.value=!0}),20,O.value),b("open")},close:P}),V((e=>!!C.value&&(w.preventBack||P(),!0))),(a=null,l=null)=>{const n=y,s=x(i("sn-overlay"),e);return d(),p(s,{ref_key:"overlayEle",ref:T,renderMode:t.renderMode,aniTime:"".concat(r(h),"ms"),opacity:t.maskOpacity,maskClose:t.maskClose,onClickMask:z,customStyle:r(M)},{default:u((()=>[c(n,{class:v(["sn-popup",r(I)]),onClick:l[0]||(l[0]=k((()=>{}),["stop"])),style:_([r(U),t.customStyle])},{default:u((()=>[f(a.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["renderMode","aniTime","opacity","maskClose","customStyle"])}}})),[["__scopeId","data-v-6b4ada8e"]]),E=l({__name:"sn-popup",setup(e){const l=n.utils,o=s(null),p=s({position:1,maskClose:!0,preventBack:!1,aniTime:parseInt(n.configs.aniTime.long),maskOpacity:.3}),m=[new g({id:"top",text:"顶部"}),new g({id:"center",text:"居中"}),new g({id:"bottom",text:"底部"}),new g({id:"left",text:"左侧"}),new g({id:"right",text:"右侧"})];function f(){l.throttle((()=>{o.value.open()}),50)}function v(e){"run"==e.id&&f()}return(e=null,l=null)=>{var n,s;const k=x(i("sn-topbar"),t),_=x(i("sn-switch"),T),y=x(i("sn-form-item"),O),V=x(i("sn-select"),B),h=x(i("sn-stepper"),S),E=x(i("sn-button"),M),J=x(i("sn-form"),U),N=x(i("com-card"),I),F=x(i("sn-gap"),P),$=x(i("sn-page"),z),q=C,A=x(i("sn-row"),a),H=x(i("sn-popup"),D);return d(),j(w,null,[c($,null,{default:u((()=>[c(k,{title:"Popup 弹出层",features:[new g({id:"run",icon:"play-circle-fill"})],onButtonClick:v}),c(N,{title:"组件演示",note:"需要弹窗？试试它吧。\\n请注意区分 Popup 和 Drawer。Popup 只控制动画和显隐逻辑，UI 需要自己写。而 Drawer 则是在 Popup 的基础上加了一层 UI 模板。"},{default:u((()=>[c(J,{modelValue:r(p),"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>b(p)?p.value=e:null),showBorder:!1},{default:u((()=>[c(y,{label:"遮罩关闭"},{default:u((()=>[c(_,{modelValue:r(p).maskClose,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>r(p).maskClose=e)},null,8,["modelValue"])])),_:1}),c(y,{label:"阻止返回事件"},{default:u((()=>[c(_,{modelValue:r(p).preventBack,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>r(p).preventBack=e)},null,8,["modelValue"])])),_:1}),c(y,{label:"位置"},{default:u((()=>[c(V,{modelValue:r(p).position,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>r(p).position=e),width:"200px",data:m},null,8,["modelValue"])])),_:1}),c(y,{label:"动画时长"},{default:u((()=>[c(h,{modelValue:r(p).aniTime,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>r(p).aniTime=e),step:100,min:100},null,8,["modelValue"])])),_:1}),c(y,{label:"遮罩透明度"},{default:u((()=>[c(h,{modelValue:r(p).maskOpacity,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>r(p).maskOpacity=e),step:.1,min:0,max:1},null,8,["modelValue"])])),_:1}),c(E,{text:"打开",level:"second",type:"primary",onClick:l[5]||(l[5]=(e=null)=>f()),style:{"margin-top":"10px"}})])),_:1},8,["modelValue"])])),_:1}),c(F)])),_:1}),c(H,{ref_key:"popupEle",ref:o,position:null!==(s=m[null!==(n=r(p).position)&&void 0!==n?n:1].id)&&void 0!==s?s:"",aniTime:"".concat(r(p).aniTime,"ms"),maskOpacity:r(p).maskOpacity,maskClose:r(p).maskClose,preventBack:r(p).preventBack},{default:u((()=>[c(A,{justify:"center"},{default:u((()=>[c(q,{class:"w-200",mode:"aspectFit",src:"/demo/assets/letter-open-CupCgpkg.png"})])),_:1})])),_:1},8,["position","aniTime","maskOpacity","maskClose","preventBack"])],64)}}});export{E as default};
