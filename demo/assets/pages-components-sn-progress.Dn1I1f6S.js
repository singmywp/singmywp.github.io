import{_ as e,a as l}from"./sn-topbar.wm0GzhH3.js";import{d as t,$ as a,r as o,c as s,w as u,o as n,n as i,a as r,e as d,f as m,x as c,_ as p,b as g,g as v,p as h,u as x,B as f,i as V}from"./index-DYMgrqHp.js";import{r as y}from"./uni-app.es.DgDfNdgy.js";import{a as T,b as S}from"./sn-text.euomPoe8.js";import{u as b}from"./useResize.Cfi37DcV.js";import{_}from"./com-card.BtLNzB63.js";import{_ as w}from"./sn-button.BjZePiC5.js";import{_ as j}from"./sn-gap.2Twkbobz.js";import{_ as C}from"./sn-page.Cf6LEMVT.js";import"./sn-menu-item.DkjoXkWj.js";import"./sn-overlay.CiZFgEyq.js";import"./sn-loading.t5otRKvs.js";const U=S(t(Object.assign({name:"sn-progress"},{__name:"sn-progress",props:{modelValue:{type:Number,default:0},showValueText:{type:Boolean,default:!1},valueTextPosition:{type:String,default:"outside"},valueTextSize:{type:String,default:""},valueTextWidth:{type:String,default:"40px"},height:{type:String,default:"6px"},bgColor:{type:String,default:""},activeColor:{type:String,default:""},textColor:{type:String,default:""},borderRadius:{type:String,default:""},aniTime:{type:String,default:a.configs.aniTime.normal},customStyle:{type:Object,default:new UTSJSONObject({})},customTextStyle:{type:Object,default:new UTSJSONObject({})},customActiveStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change"],setup(e,l){var t=l.emit;const V=a.utils,S=a.colors,_=t,w=e,j=o(0),C=o(null),U=s({get:()=>w.modelValue,set:e=>{let l=Math.min(100,Math.max(0,e));_("update:modelValue",l),_("change",l)}});u((()=>w.modelValue),(e=>{U.value=e}),{immediate:!0});const k=s((()=>c("color",w.bgColor,S.value.line))),$=s((()=>c("color",w.activeColor,S.value.primary))),O=s((()=>["inside","outside"].includes(w.valueTextPosition)?w.valueTextPosition:"outside")),z=s((()=>c("color",w.textColor,"inside"==O.value?"#fff":S.value.text))),P=s((()=>c("radius",w.borderRadius,a.configs.radius.circle))),M=s((()=>c("aniTime",w.aniTime,a.configs.aniTime.normal))),R=s((()=>V.getPx(w.height))),J=s((()=>c("other",w.valueTextSize,V.addPx(.6*R.value)))),N=s((()=>c("other",w.valueTextSize,a.configs.font.size(2)))),B=s((()=>U.value/100*j.value)),H=s((()=>{const e=new Map;return e.set("height",w.height),e.set("background",k.value),e.set("border-radius",P.value),e.set("transition-duration",a.configs.aniTime.normal),e})),W=s((()=>{const e=new Map;return e.set("width",V.addPx(B.value)),e.set("height",w.height),e.set("border-radius",P.value),e.set("background",$.value),e.set("transition-property","width,height,background-color,border-radius"),e.set("transition-duration",M.value),e})),A=s((()=>{const e=new Map;return e.set("right","6px"),e})),E=s((()=>{const e=new Map;return e.set("width",w.valueTextWidth),e}));function I(){var e,l,t;j.value=null!==(t=null===(l=null===(e=C.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===l?void 0:l.width)&&void 0!==t?t:0}return n((()=>{i((()=>{I()})),b(C.value,(()=>{I()}))})),(l=null,t=null)=>{const a=y(r("sn-text"),T),o=p;return g(),d(o,{class:"sn-progress-contain"},{default:m((()=>[v(o,{class:"sn-progress",ref_key:"progressEle",ref:C,style:h([x(H),e.customStyle])},{default:m((()=>[v(o,{class:"sn-progress-active",style:h([x(W),e.customStyle])},{default:m((()=>[e.showValueText&&"inside"==x(O)?(g(),d(a,{key:0,class:"sn-progress-inside-text",text:"".concat(x(U),"%"),lineHeight:e.height,color:x(z),size:x(J),style:h([x(A),e.customTextStyle])},null,8,["text","lineHeight","color","size","style"])):f("",!0)])),_:1},8,["style"])])),_:1},8,["style"]),e.showValueText&&"outside"==x(O)?(g(),d(a,{key:0,class:"sn-progress-outside-text",align:"right",text:"".concat(x(U),"%"),color:x(z),size:x(N),style:h([x(E),e.customTextStyle])},null,8,["text","color","size","style"])):f("",!0)])),_:1})}}})),[["__scopeId","data-v-05217f4a"]]),k=t({__name:"sn-progress",setup(t){a.colors,a.utils;const s=o(30),u=o(50),n=o(70),i=o(10),c=o(30);return(t=null,a=null)=>{const o=y(r("sn-topbar"),e),p=y(r("sn-progress"),U),h=y(r("com-card"),_),f=y(r("sn-button"),w),T=y(r("sn-row"),l),S=y(r("sn-gap"),j),b=y(r("sn-page"),C);return g(),d(b,null,{default:m((()=>[v(o,{title:"Progress 进度条"}),v(h,{title:"基础用法"},{default:m((()=>[v(p,{class:"m-t-10",modelValue:x(s),"onUpdate:modelValue":a[0]||(a[0]=(e=null)=>V(s)?s.value=e:null)},null,8,["modelValue"])])),_:1}),v(h,{title:"高度",note:"可以自定义进度条的高度，灵活百变"},{default:m((()=>[v(p,{class:"m-t-10",modelValue:x(u),"onUpdate:modelValue":a[1]||(a[1]=(e=null)=>V(u)?u.value=e:null),height:"3px"},null,8,["modelValue"]),v(p,{class:"m-t-20",modelValue:x(n),"onUpdate:modelValue":a[2]||(a[2]=(e=null)=>V(n)?n.value=e:null),height:"15px"},null,8,["modelValue"])])),_:1}),v(h,{title:"颜色",note:"百变颜色，随心所欲"},{default:m((()=>[v(p,{class:"m-t-10",modelValue:x(u),"onUpdate:modelValue":a[3]||(a[3]=(e=null)=>V(u)?u.value=e:null),height:"6px",activeColor:"$error"},null,8,["modelValue"]),v(p,{class:"m-t-10",modelValue:x(s),"onUpdate:modelValue":a[4]||(a[4]=(e=null)=>V(s)?s.value=e:null),height:"6px",activeColor:"$warning"},null,8,["modelValue"]),v(p,{class:"m-t-10",modelValue:x(n),"onUpdate:modelValue":a[5]||(a[5]=(e=null)=>V(n)?n.value=e:null),height:"6px",activeColor:"$primary"},null,8,["modelValue"]),v(p,{class:"m-t-10",modelValue:x(s),"onUpdate:modelValue":a[6]||(a[6]=(e=null)=>V(s)?s.value=e:null),height:"6px",activeColor:"$success"},null,8,["modelValue"])])),_:1}),v(h,{title:"动画时长",note:"支持双向绑定，动态赋值，可自由设置值变化时的动画时长"},{default:m((()=>[v(p,{class:"m-t-10",modelValue:x(i),"onUpdate:modelValue":a[7]||(a[7]=(e=null)=>V(i)?i.value=e:null)},null,8,["modelValue"]),v(p,{class:"m-t-10",modelValue:x(i),"onUpdate:modelValue":a[8]||(a[8]=(e=null)=>V(i)?i.value=e:null),aniTime:"$short",activeColor:"$warning"},null,8,["modelValue"]),v(p,{class:"m-t-10",modelValue:x(i),"onUpdate:modelValue":a[9]||(a[9]=(e=null)=>V(i)?i.value=e:null),aniTime:"$xlong",activeColor:"$success"},null,8,["modelValue"]),v(T,{class:"m-t-10"},{default:m((()=>[v(f,{text:"增加",onClick:a[10]||(a[10]=(e=null)=>i.value+=10)}),v(f,{class:"m-l-10",text:"减少",onClick:a[11]||(a[11]=(e=null)=>i.value-=10)})])),_:1})])),_:1}),v(h,{title:"文本",note:"支持显示当前值的文本，提供两种位置：内部和外部。"},{default:m((()=>[v(p,{class:"m-t-10",modelValue:x(c),"onUpdate:modelValue":a[12]||(a[12]=(e=null)=>V(c)?c.value=e:null),showValueText:""},null,8,["modelValue"]),v(p,{class:"m-t-10",modelValue:x(c),"onUpdate:modelValue":a[13]||(a[13]=(e=null)=>V(c)?c.value=e:null),height:"20px",showValueText:"",valueTextPosition:"inside",textColor:"black",activeColor:"$warning"},null,8,["modelValue"]),v(T,{class:"m-t-10"},{default:m((()=>[v(f,{text:"增加",onClick:a[14]||(a[14]=(e=null)=>c.value+=10)}),v(f,{class:"m-l-10",text:"减少",onClick:a[15]||(a[15]=(e=null)=>c.value-=10)})])),_:1})])),_:1}),v(S)])),_:1})}}});export{k as default};
