import{_ as e}from"./sn-topbar.A9l38UY4.js";import{d as l,r as t,c as a,w as o,k as s,l as u,b as n,e as i,f as r,p as d,o as m,g as c,m as p,u as v,v as g,i as f}from"./index-BV7wVSs2.js";import{$ as x,r as h}from"./uni-app.es.BzKMvEv9.js";import{b as V,c as y,_ as T}from"./sn-button.68-4Ol7n.js";import{u as C}from"./useResize.uG7lV8L1.js";import{_ as b}from"./com-card.YVwaER4k.js";import{_ as S}from"./sn-row.BXkLUWPG.js";import{_}from"./sn-gap.DH4zRrCY.js";import{_ as w}from"./sn-page.Jy_rsgwA.js";const j=y(l(Object.assign({name:"sn-progress"},{__name:"sn-progress",props:{modelValue:{type:Number,default:0},showValueText:{type:Boolean,default:!1},valueTextPosition:{type:String,default:"outside"},valueTextSize:{type:String,default:""},valueTextWidth:{type:String,default:"40px"},height:{type:String,default:"6px"},bgColor:{type:String,default:""},activeColor:{type:String,default:""},textColor:{type:String,default:""},borderRadius:{type:String,default:""},aniTime:{type:Number,default:parseInt(x.configs.aniTime.normal)},customStyle:{type:Object,default:new UTSJSONObject({})},customTextStyle:{type:Object,default:new UTSJSONObject({})},customActiveStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change"],setup(e,l){var f=l.emit;const y=x.utils,T=x.colors,b=f,S=e,_=t(0),w=t(null),j=a({get:()=>S.modelValue,set:e=>{let l=Math.min(100,Math.max(0,e));b("update:modelValue",l),b("change",l)}});o((()=>S.modelValue),(e=>{j.value=e}),{immediate:!0});const U=a((()=>""==S.bgColor?T.value.line:S.bgColor)),k=a((()=>""==S.activeColor?T.value.primary:S.activeColor)),z=a((()=>["inside","outside"].includes(S.valueTextPosition)?S.valueTextPosition:"outside")),O=a((()=>""==S.textColor?"inside"==z.value?"#fff":T.value.text:S.textColor)),P=a((()=>""==S.borderRadius?x.configs.radius.circle:S.borderRadius)),I=a((()=>S.aniTime==parseInt(x.configs.aniTime.normal)?parseInt(x.configs.aniTime.normal):S.aniTime)),M=a((()=>y.getPx(S.height))),N=a((()=>""==S.valueTextSize?y.addPx(.6*M.value):S.valueTextSize)),R=a((()=>""==S.valueTextSize?x.configs.font.size(2):S.valueTextSize)),J=a((()=>j.value/100*_.value)),B=a((()=>{let e=new Map;return e.set("height",S.height),e.set("background",U.value),e.set("border-radius",P.value),e.set("transition-duration",x.configs.aniTime.normal),e})),H=a((()=>{let e=new Map;return e.set("width",y.addPx(J.value)),e.set("height",S.height),e.set("border-radius",P.value),e.set("background",k.value),e.set("transition-property","width,height,background-color,border-radius"),e.set("transition-duration","".concat(I.value,"ms")),e})),W=a((()=>{let e=new Map;return e.set("right","6px"),e})),A=a((()=>{let e=new Map;return e.set("width",S.valueTextWidth),e}));function E(){var e,l,t;_.value=null!==(t=null===(l=null===(e=w.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===l?void 0:l.width)&&void 0!==t?t:0}return s((()=>{u((()=>{E(),C(w.value,(()=>{E()}))}))})),(l=null,t=null)=>{const a=h(n("sn-text"),V),o=d;return m(),i(o,{class:"sn-progress-contain"},{default:r((()=>[c(o,{class:"sn-progress",ref_key:"progressEle",ref:w,style:p([v(B),e.customStyle])},{default:r((()=>[c(o,{class:"sn-progress-active",style:p([v(H),e.customStyle])},{default:r((()=>[e.showValueText&&"inside"==v(z)?(m(),i(a,{key:0,class:"sn-progress-inside-text",text:"".concat(v(j),"%"),lineHeight:e.height,color:v(O),size:v(N),style:p([v(W),e.customTextStyle])},null,8,["text","lineHeight","color","size","style"])):g("",!0)])),_:1},8,["style"])])),_:1},8,["style"]),e.showValueText&&"outside"==v(z)?(m(),i(a,{key:0,class:"sn-progress-outside-text",align:"right",text:"".concat(v(j),"%"),color:v(O),size:v(R),style:p([v(A),e.customTextStyle])},null,8,["text","color","size","style"])):g("",!0)])),_:1})}}})),[["__scopeId","data-v-fa4c458c"]]),U=l({__name:"sn-progress",setup(l){const a=x.colors;x.utils;const o=t(30),s=t(50),u=t(70),d=t(10),p=t(30);return(l=null,t=null)=>{const g=h(n("sn-topbar"),e),V=h(n("sn-progress"),j),y=h(n("com-card"),b),C=h(n("sn-button"),T),U=h(n("sn-row"),S),k=h(n("sn-gap"),_),z=h(n("sn-page"),w);return m(),i(z,null,{default:r((()=>[c(g,{title:"Progress 进度条"}),c(y,{title:"基础用法"},{default:r((()=>[c(V,{class:"m-t-10",modelValue:v(o),"onUpdate:modelValue":t[0]||(t[0]=(e=null)=>f(o)?o.value=e:null)},null,8,["modelValue"])])),_:1}),c(y,{title:"高度",note:"可以自定义进度条的高度，灵活百变"},{default:r((()=>[c(V,{class:"m-t-10",modelValue:v(s),"onUpdate:modelValue":t[1]||(t[1]=(e=null)=>f(s)?s.value=e:null),height:"3px"},null,8,["modelValue"]),c(V,{class:"m-t-20",modelValue:v(u),"onUpdate:modelValue":t[2]||(t[2]=(e=null)=>f(u)?u.value=e:null),height:"15px"},null,8,["modelValue"])])),_:1}),c(y,{title:"颜色",note:"百变颜色，随心所欲"},{default:r((()=>[c(V,{class:"m-t-10",modelValue:v(s),"onUpdate:modelValue":t[3]||(t[3]=(e=null)=>f(s)?s.value=e:null),height:"6px",activeColor:v(a).error},null,8,["modelValue","activeColor"]),c(V,{class:"m-t-10",modelValue:v(o),"onUpdate:modelValue":t[4]||(t[4]=(e=null)=>f(o)?o.value=e:null),height:"6px",activeColor:v(a).warning},null,8,["modelValue","activeColor"]),c(V,{class:"m-t-10",modelValue:v(u),"onUpdate:modelValue":t[5]||(t[5]=(e=null)=>f(u)?u.value=e:null),height:"6px",activeColor:v(a).primary},null,8,["modelValue","activeColor"]),c(V,{class:"m-t-10",modelValue:v(o),"onUpdate:modelValue":t[6]||(t[6]=(e=null)=>f(o)?o.value=e:null),height:"6px",activeColor:v(a).success},null,8,["modelValue","activeColor"])])),_:1}),c(y,{title:"动画时长",note:"支持双向绑定，动态赋值，可自由设置值变化时的动画时长"},{default:r((()=>[c(V,{class:"m-t-10",modelValue:v(d),"onUpdate:modelValue":t[7]||(t[7]=(e=null)=>f(d)?d.value=e:null)},null,8,["modelValue"]),c(V,{class:"m-t-10",modelValue:v(d),"onUpdate:modelValue":t[8]||(t[8]=(e=null)=>f(d)?d.value=e:null),activeColor:v(a).warning,aniTime:parseInt(v(x).configs.aniTime.short)},null,8,["modelValue","activeColor","aniTime"]),c(V,{class:"m-t-10",modelValue:v(d),"onUpdate:modelValue":t[9]||(t[9]=(e=null)=>f(d)?d.value=e:null),activeColor:v(a).success,aniTime:parseInt(v(x).configs.aniTime.xlong)},null,8,["modelValue","activeColor","aniTime"]),c(U,{class:"m-t-10"},{default:r((()=>[c(C,{text:"增加",onClick:t[10]||(t[10]=(e=null)=>d.value+=10)}),c(C,{class:"m-l-10",text:"减少",onClick:t[11]||(t[11]=(e=null)=>d.value-=10)})])),_:1})])),_:1}),c(y,{title:"文本",note:"支持显示当前值的文本，提供两种位置：内部和外部。"},{default:r((()=>[c(V,{class:"m-t-10",modelValue:v(p),"onUpdate:modelValue":t[12]||(t[12]=(e=null)=>f(p)?p.value=e:null),showValueText:""},null,8,["modelValue"]),c(V,{class:"m-t-10",modelValue:v(p),"onUpdate:modelValue":t[13]||(t[13]=(e=null)=>f(p)?p.value=e:null),height:"20px",showValueText:"",valueTextPosition:"inside",textColor:"black",activeColor:v(a).warning},null,8,["modelValue","activeColor"]),c(U,{class:"m-t-10"},{default:r((()=>[c(C,{text:"增加",onClick:t[14]||(t[14]=(e=null)=>p.value+=10)}),c(C,{class:"m-l-10",text:"减少",onClick:t[15]||(t[15]=(e=null)=>p.value-=10)})])),_:1})])),_:1}),c(k)])),_:1})}}});export{U as default};
