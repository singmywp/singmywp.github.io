import{d as e,a as l,w as n,b as o,o as a,e as t,f as s,g as u,u as i,i as d,T as m,n as c}from"./index-D82xabMX.js";import{_ as r}from"./sn-topbar.DGNmRcUY.js";import{S as p,r as f,$ as V,p as b}from"./uni-app.es.Cv0ss-rw.js";import{_ as w}from"./sn-alert.IFfoCHl2.js";import{b as _,_ as h}from"./sn-button.CJ0ZsVkl.js";import{_ as S}from"./sn-select.B1heSqvw.js";import{_ as x}from"./sn-form-item.D3fgF-ip.js";import{_ as y}from"./sn-switch.B79Tps6Q.js";import{_ as g}from"./sn-input.OLyd3D9e.js";import{_ as U}from"./sn-stepper.Q3yYL--b.js";import{_ as j}from"./sn-form.uvue_vue_type_script_setup_true_lang.CZfQ0e94.js";import{_ as O}from"./com-card.2Ru7Wd6o.js";import{_ as T}from"./sn-page.CIc3m52K.js";import"./sn-line.C1IVPNnk.js";const A=e({__name:"sn-scan",setup(e){const A=l({enableDing:!0,showTorch:!0,showAlbum:!0,showBackButton:!0,showAni:!0,enableZoom:!0,title:"扫一扫",initZoomScale:0,continuousSleep:100,scanOnlyOnce:!1,continuous:!1,scanType:0,dingFileSrc:0}),B=[new p({id:"all",text:"全部"}),new p({id:"barcode",text:"仅条码"}),new p({id:"qrcode",text:"仅二维码"})],Z=[new p({id:"default",text:"默认"}),new p({id:"scannedSuccessF",text:"女声:扫码成功"}),new p({id:"scannedSuccessM",text:"男声:扫码成功"}),new p({id:"jump",text:"(轻快)嘟"}),new p({id:"processing",text:"(长)biubiubiu~"})];function k(){let e=m();if("app"!=e.uniPlatform||"android"!=e.osName)return V.utils.showToast(new UTSJSONObject({title:"扫码组件暂时只支持 Android 平台"})),null;let l=new b({enableDing:A.enableDing,dingFileSrc:0!=A.dingFileSrc?"static/media/".concat(Z[A.dingFileSrc].id,".mp3"):"",scanType:B[A.scanType].id,scanOnlyOnce:A.scanOnlyOnce,continuous:A.continuous,title:A.title,showTorch:A.showTorch,showAlbum:A.showAlbum,showBackButton:A.showBackButton,showAni:A.showAni,enableZoom:A.enableZoom,initZoomScale:A.initZoomScale,continuousSleep:A.continuousSleep});V.store.set("demo-scan-params",l),c({url:"/pages/components/sn-scan__view"})}function v(e){"run"==e.id&&k()}return n(A,(e=>{1==e.scanOnlyOnce&&(A.continuous=!1)})),(e=null,l=null)=>{const n=f(o("sn-topbar"),r),m=f(o("sn-alert"),w),c=f(o("sn-text"),_),V=f(o("sn-select"),S),b=f(o("sn-form-item"),x),F=f(o("sn-switch"),y),D=f(o("sn-input"),g),I=f(o("sn-stepper"),U),C=f(o("sn-form"),j),M=f(o("sn-button"),h),N=f(o("com-card"),O),P=f(o("sn-page"),T);return a(),t(P,null,{default:s((()=>[u(n,{title:"Scan 扫码",features:[new p({id:"run",icon:"play-circle-fill"})],onButtonClick:v}),u(m,{type:"primary",text:"　注意，本插件分为两部分：\n　• sn-scan-provider\n　　这是组件的核心部分，负责摄像头预览、扫码解析等基础工作，并向外部提供接口。\n　• sn-scan\n　　这是组件的界面部分，主要负责在界面中处理用户操作并调用相应的API。应当将该组件放置在独立的页面中，template 下只放这一个组件，并设置其flex: 1。如果您有自定义界面的需求，可参考此组件源码实现，重写UI。"}),u(m,{type:"error",text:"　　本插件核心 sn-scan-provider 属于扩展组件，需要您另外在插件市场下载。\n　　sn-scan 则属于 SinleUI 基础组件的一部分，无需您额外下载。"}),u(N,{title:"组件演示"},{default:s((()=>[u(c,{class:"introduction",text:"　　一款基于 Google MLKit 的 UTS扫码插件。"}),u(C,{modelValue:i(A),"onUpdate:modelValue":l[13]||(l[13]=(e=null)=>d(A)?A.value=e:null),showBorder:!1},{default:s((()=>[u(b,{label:"扫码类型"},{default:s((()=>[u(V,{modelValue:i(A).scanType,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>i(A).scanType=e),width:"150px",data:B},null,8,["modelValue"])])),_:1}),u(b,{label:"自定义提示声"},{default:s((()=>[u(V,{modelValue:i(A).dingFileSrc,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>i(A).dingFileSrc=e),width:"150px",data:Z},null,8,["modelValue"])])),_:1}),u(b,{label:"只扫一次"},{default:s((()=>[u(F,{modelValue:i(A).scanOnlyOnce,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>i(A).scanOnlyOnce=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"连续扫描"},{default:s((()=>[u(F,{modelValue:i(A).continuous,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>i(A).continuous=e),disabled:i(A).scanOnlyOnce},null,8,["modelValue","disabled"])])),_:1}),u(b,{label:"显示动画"},{default:s((()=>[u(F,{modelValue:i(A).showAni,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>i(A).showAni=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"显示手电筒"},{default:s((()=>[u(F,{modelValue:i(A).showTorch,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>i(A).showTorch=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"显示相册选择"},{default:s((()=>[u(F,{modelValue:i(A).showAlbum,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>i(A).showAlbum=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"显示返回按钮"},{default:s((()=>[u(F,{modelValue:i(A).showBackButton,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>i(A).showBackButton=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"启用手势缩放"},{default:s((()=>[u(F,{modelValue:i(A).enableZoom,"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>i(A).enableZoom=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"启用成功提示声"},{default:s((()=>[u(F,{modelValue:i(A).enableDing,"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>i(A).enableDing=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"界面标题"},{default:s((()=>[u(D,{modelValue:i(A).title,"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>i(A).title=e)},null,8,["modelValue"])])),_:1}),u(b,{label:"初始焦距"},{default:s((()=>[u(I,{modelValue:i(A).initZoomScale,"onUpdate:modelValue":l[11]||(l[11]=(e=null)=>i(A).initZoomScale=e),min:0,max:1,step:.1},null,8,["modelValue"])])),_:1}),u(b,{label:"连续扫描间隔(ms)"},{default:s((()=>[u(I,{modelValue:i(A).continuousSleep,"onUpdate:modelValue":l[12]||(l[12]=(e=null)=>i(A).continuousSleep=e),min:100,step:100},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),u(M,{class:"m-t-10",text:"扫码",level:"second",type:"primary",onClick:l[14]||(l[14]=(e=null)=>k())})])),_:1})])),_:1})}}});export{A as default};
