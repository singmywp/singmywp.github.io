import{d as e,af as l,S as n,w as a,a as o,o as t,b as s,e as u,f as i,u as d,i as m,ag as c,$ as r,ah as p,n as f}from"./index-BDGnenFq.js";import{_ as b}from"./sn-topbar.D5ol6wWa.js";import{r as V}from"./uni-app.es.BfR9KIrQ.js";import{_ as w}from"./sn-alert.YjlOp3ma.js";import{b as _,_ as h}from"./sn-button.DCeBN0oM.js";import{_ as S}from"./sn-select.DZA2RrE9.js";import{_ as x}from"./sn-form-item.5AoZzHl5.js";import{_ as y}from"./sn-switch.C9OcCgtN.js";import{_ as O}from"./sn-input.CQs-BOzL.js";import{_ as U}from"./sn-stepper.DswC5NdZ.js";import{_ as g}from"./sn-form.uvue_vue_type_script_setup_true_lang.D7WErNjU.js";import{_ as j}from"./com-card.CltZjJtY.js";import{_ as T}from"./sn-page.BIWIogO0.js";import"./sn-line.CxWqAnnd.js";const A=e({__name:"sn-scan",setup(e){const A=l(new UTSJSONObject({enableDing:!0,showTorch:!0,showAlbum:!0,showBackButton:!0,showAni:!0,enableZoom:!0,title:"扫一扫",initZoomScale:0,continuousSleep:100,scanOnlyOnce:!1,continuous:!1,scanType:0,dingFileSrc:0})),B=[new n({id:"all",text:"全部"}),new n({id:"barcode",text:"仅条码"}),new n({id:"qrcode",text:"仅二维码"})],Z=[new n({id:"default",text:"默认"}),new n({id:"scannedSuccessF",text:"女声:扫码成功"}),new n({id:"scannedSuccessM",text:"男声:扫码成功"}),new n({id:"jump",text:"(轻快)嘟"}),new n({id:"processing",text:"(长)biubiubiu~"})];function v(){let e=c();if("app"!=e.uniPlatform||"android"!=e.osName)return r.utils.showToast(new UTSJSONObject({title:"扫码组件暂时只支持 Android 平台"})),null;let l=new p({enableDing:A.enableDing,dingFileSrc:0!=A.dingFileSrc?"static/media/".concat(Z[A.dingFileSrc].id,".mp3"):"",scanType:B[A.scanType].id,scanOnlyOnce:A.scanOnlyOnce,continuous:A.continuous,title:A.title,showTorch:A.showTorch,showAlbum:A.showAlbum,showBackButton:A.showBackButton,showAni:A.showAni,enableZoom:A.enableZoom,initZoomScale:A.initZoomScale,continuousSleep:A.continuousSleep});r.store.set("demo-scan-params",l),f({url:"/pages/components/sn-scan__view"})}function k(e){"run"==e.id&&v()}return a(A,(e=>{1==e.scanOnlyOnce&&(A.continuous=!1)})),(e=null,l=null)=>{const a=V(o("sn-topbar"),b),c=V(o("sn-alert"),w),r=V(o("sn-text"),_),p=V(o("sn-select"),S),f=V(o("sn-form-item"),x),F=V(o("sn-switch"),y),D=V(o("sn-input"),O),I=V(o("sn-stepper"),U),J=V(o("sn-form"),g),N=V(o("sn-button"),h),P=V(o("com-card"),j),C=V(o("sn-page"),T);return t(),s(C,null,{default:u((()=>[i(a,{title:"Scan 扫码",features:[new n({id:"run",icon:"play-circle-fill"})],onButtonClick:k}),i(c,{type:"primary",text:"　注意，本插件分为两部分：\n　• sn-scan-provider\n　　这是组件的核心部分，负责摄像头预览、扫码解析等基础工作，并向外部提供接口。\n　• sn-scan\n　　这是组件的界面部分，主要负责在界面中处理用户操作并调用相应的API。应当将该组件放置在独立的页面中，template 下只放这一个组件，并设置其flex: 1。如果您有自定义界面的需求，可参考此组件源码实现，重写UI。"}),i(c,{type:"error",text:"　　本插件核心 sn-scan-provider 属于扩展组件，需要您另外在插件市场下载。\n　　sn-scan 则属于 SinleUI 基础组件的一部分，无需您额外下载。"}),i(P,{title:"组件演示"},{default:u((()=>[i(r,{class:"introduction",text:"　　一款基于 Google MLKit 的 UTS扫码插件。"}),i(J,{modelValue:d(A),"onUpdate:modelValue":l[13]||(l[13]=(e=null)=>m(A)?A.value=e:null),showBorder:!1},{default:u((()=>[i(f,{label:"扫码类型"},{default:u((()=>[i(p,{modelValue:d(A).scanType,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>d(A).scanType=e),width:"150px",data:B},null,8,["modelValue"])])),_:1}),i(f,{label:"自定义提示声"},{default:u((()=>[i(p,{modelValue:d(A).dingFileSrc,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>d(A).dingFileSrc=e),width:"150px",data:Z},null,8,["modelValue"])])),_:1}),i(f,{label:"只扫一次"},{default:u((()=>[i(F,{modelValue:d(A).scanOnlyOnce,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>d(A).scanOnlyOnce=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"连续扫描"},{default:u((()=>[i(F,{modelValue:d(A).continuous,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>d(A).continuous=e),disabled:d(A).scanOnlyOnce},null,8,["modelValue","disabled"])])),_:1}),i(f,{label:"显示动画"},{default:u((()=>[i(F,{modelValue:d(A).showAni,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>d(A).showAni=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"显示手电筒"},{default:u((()=>[i(F,{modelValue:d(A).showTorch,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>d(A).showTorch=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"显示相册选择"},{default:u((()=>[i(F,{modelValue:d(A).showAlbum,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>d(A).showAlbum=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"显示返回按钮"},{default:u((()=>[i(F,{modelValue:d(A).showBackButton,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>d(A).showBackButton=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"启用手势缩放"},{default:u((()=>[i(F,{modelValue:d(A).enableZoom,"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>d(A).enableZoom=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"启用成功提示声"},{default:u((()=>[i(F,{modelValue:d(A).enableDing,"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>d(A).enableDing=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"界面标题"},{default:u((()=>[i(D,{modelValue:d(A).title,"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>d(A).title=e)},null,8,["modelValue"])])),_:1}),i(f,{label:"初始焦距"},{default:u((()=>[i(I,{modelValue:d(A).initZoomScale,"onUpdate:modelValue":l[11]||(l[11]=(e=null)=>d(A).initZoomScale=e),min:0,max:1,step:.1},null,8,["modelValue"])])),_:1}),i(f,{label:"连续扫描间隔(ms)"},{default:u((()=>[i(I,{modelValue:d(A).continuousSleep,"onUpdate:modelValue":l[12]||(l[12]=(e=null)=>d(A).continuousSleep=e),min:100,step:100},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),i(N,{class:"m-t-10",text:"扫码",level:"second",type:"primary",onClick:l[14]||(l[14]=(e=null)=>v())})])),_:1})])),_:1})}}});export{A as default};
