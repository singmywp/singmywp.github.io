import{d as e,a as l,w as n,b as o,o as a,e as t,f as s,g as u,u as i,i as d,R as m,n as c}from"./index-DNTc1GxZ.js";import{_ as r}from"./sn-topbar.CX0rMkKy.js";import{S as p,r as f,$ as b,p as V}from"./uni-app.es.D9ZkitmT.js";import{_ as w}from"./sn-alert.BVqfDC3L.js";import{b as _,_ as h}from"./sn-button.BaZjRh9m.js";import{_ as S}from"./sn-select.CSb66Fnx.js";import{_ as g}from"./sn-form-item.iui4qf57.js";import{_ as x}from"./sn-switch.C3UtPu7N.js";import{_ as y}from"./sn-input.ojC213jP.js";import{_ as U}from"./sn-stepper.D3yVS7uF.js";import{_ as j}from"./sn-form.uvue_vue_type_script_setup_true_lang.CpEqESxD.js";import{_ as O}from"./com-card.22LSjaaf.js";import{_ as T}from"./sn-page.CEVOSUw5.js";import"./sn-line.BJRaATTn.js";const B=e({__name:"sn-scan",setup(e){const B=l(new UTSJSONObject({enableDing:!0,showTorch:!0,showAlbum:!0,showBackButton:!0,showAni:!0,enableZoom:!0,title:"扫一扫",initZoomScale:0,continuousSleep:100,scanOnlyOnce:!1,continuous:!1,scanType:0,dingFileSrc:0})),A=[new p({id:"all",text:"全部"}),new p({id:"barcode",text:"仅条码"}),new p({id:"qrcode",text:"仅二维码"})],Z=[new p({id:"default",text:"默认"}),new p({id:"scannedSuccessF",text:"女声:扫码成功"}),new p({id:"scannedSuccessM",text:"男声:扫码成功"}),new p({id:"jump",text:"(轻快)嘟"}),new p({id:"processing",text:"(长)biubiubiu~"})];function k(){let e=m();if("app"!=e.uniPlatform||"android"!=e.osName)return b.utils.showToast(new UTSJSONObject({title:"扫码组件暂时只支持 Android 平台"})),null;let l=new V({enableDing:B.enableDing,dingFileSrc:0!=B.dingFileSrc?"static/media/".concat(Z[B.dingFileSrc].id,".mp3"):"",scanType:A[B.scanType].id,scanOnlyOnce:B.scanOnlyOnce,continuous:B.continuous,title:B.title,showTorch:B.showTorch,showAlbum:B.showAlbum,showBackButton:B.showBackButton,showAni:B.showAni,enableZoom:B.enableZoom,initZoomScale:B.initZoomScale,continuousSleep:B.continuousSleep});b.store.set("demo-scan-params",l),c({url:"/pages/components/sn-scan__view"})}function v(e){"run"==e.id&&k()}return n(B,(e=>{1==e.scanOnlyOnce&&(B.continuous=!1)})),(e=null,l=null)=>{const n=f(o("sn-topbar"),r),m=f(o("sn-alert"),w),c=f(o("sn-text"),_),b=f(o("sn-select"),S),V=f(o("sn-form-item"),g),F=f(o("sn-switch"),x),D=f(o("sn-input"),y),I=f(o("sn-stepper"),U),N=f(o("sn-form"),j),q=f(o("sn-button"),h),C=f(o("com-card"),O),J=f(o("sn-page"),T);return a(),t(J,null,{default:s((()=>[u(n,{title:"Scan 扫码",features:[new p({id:"run",icon:"play-circle-fill"})],onButtonClick:v}),u(m,{type:"primary",text:"　注意，本插件分为两部分：\n　• sn-scan-provider\n　　这是组件的核心部分，负责摄像头预览、扫码解析等基础工作，并向外部提供接口。\n　• sn-scan\n　　这是组件的界面部分，主要负责在界面中处理用户操作并调用相应的API。应当将该组件放置在独立的页面中，template 下只放这一个组件，并设置其flex: 1。如果您有自定义界面的需求，可参考此组件源码实现，重写UI。"}),u(m,{type:"error",text:"　　本插件核心 sn-scan-provider 属于扩展组件，需要您另外在插件市场下载。\n　　sn-scan 则属于 SinleUI 基础组件的一部分，无需您额外下载。"}),u(C,{title:"组件演示"},{default:s((()=>[u(c,{class:"introduction",text:"　　一款基于 Google MLKit 的 UTS扫码插件。"}),u(N,{modelValue:i(B),"onUpdate:modelValue":l[13]||(l[13]=(e=null)=>d(B)?B.value=e:null),showBorder:!1},{default:s((()=>[u(V,{label:"扫码类型"},{default:s((()=>[u(b,{modelValue:i(B).scanType,"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>i(B).scanType=e),width:"150px",data:A},null,8,["modelValue"])])),_:1}),u(V,{label:"自定义提示声"},{default:s((()=>[u(b,{modelValue:i(B).dingFileSrc,"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>i(B).dingFileSrc=e),width:"150px",data:Z},null,8,["modelValue"])])),_:1}),u(V,{label:"只扫一次"},{default:s((()=>[u(F,{modelValue:i(B).scanOnlyOnce,"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>i(B).scanOnlyOnce=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"连续扫描"},{default:s((()=>[u(F,{modelValue:i(B).continuous,"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>i(B).continuous=e),disabled:i(B).scanOnlyOnce},null,8,["modelValue","disabled"])])),_:1}),u(V,{label:"显示动画"},{default:s((()=>[u(F,{modelValue:i(B).showAni,"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>i(B).showAni=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"显示手电筒"},{default:s((()=>[u(F,{modelValue:i(B).showTorch,"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>i(B).showTorch=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"显示相册选择"},{default:s((()=>[u(F,{modelValue:i(B).showAlbum,"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>i(B).showAlbum=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"显示返回按钮"},{default:s((()=>[u(F,{modelValue:i(B).showBackButton,"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>i(B).showBackButton=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"启用手势缩放"},{default:s((()=>[u(F,{modelValue:i(B).enableZoom,"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>i(B).enableZoom=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"启用成功提示声"},{default:s((()=>[u(F,{modelValue:i(B).enableDing,"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>i(B).enableDing=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"界面标题"},{default:s((()=>[u(D,{modelValue:i(B).title,"onUpdate:modelValue":l[10]||(l[10]=(e=null)=>i(B).title=e)},null,8,["modelValue"])])),_:1}),u(V,{label:"初始焦距"},{default:s((()=>[u(I,{modelValue:i(B).initZoomScale,"onUpdate:modelValue":l[11]||(l[11]=(e=null)=>i(B).initZoomScale=e),min:0,max:1,step:.1},null,8,["modelValue"])])),_:1}),u(V,{label:"连续扫描间隔(ms)"},{default:s((()=>[u(I,{modelValue:i(B).continuousSleep,"onUpdate:modelValue":l[12]||(l[12]=(e=null)=>i(B).continuousSleep=e),min:100,step:100},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),u(q,{class:"m-t-10",text:"扫码",level:"second",type:"primary",onClick:l[14]||(l[14]=(e=null)=>k())})])),_:1})])),_:1})}}});export{B as default};
