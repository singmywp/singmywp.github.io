import{d as e,r as l,c as o,b as t,e as a,f as n,q as r,k as u,o as d,g as i,t as s,u as c,i as p,v as f,s as m}from"./index-DNTc1GxZ.js";import{_ as g}from"./sn-topbar.CX0rMkKy.js";import{$ as y,r as C}from"./uni-app.es.D9ZkitmT.js";import{_ as x}from"./sn-input.ojC213jP.js";import{b,c as h}from"./sn-button.BaZjRh9m.js";import{_ as v}from"./com-card.22LSjaaf.js";import{_ as S}from"./sn-gap.B2D2kaQK.js";import{_ as V}from"./sn-page.CEVOSUw5.js";const B=h(e(Object.assign({name:"sn-search"},{__name:"sn-search",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"请输入搜索内容"},type:{type:String,default:"text"},inputmode:{type:String,default:"text"},padding:{type:String,default:"4px 10px"},textColor:{type:String,default:""},textSize:{type:String,default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showBorder:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},fixCancel:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},cancelTextSize:{type:String,default:""},cancelTextColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},activeBorderColor:{type:String,default:"transparent"},borderRadius:{type:String,default:""},borderColor:{type:String,default:"transparent"},borderWidth:{type:String,default:"2px"},activeBorder:{type:String,default:"transparent"},cursorColor:{type:String,default:""},prefixIcon:{type:String,default:"search-2-line"},suffixIcon:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})},customInputStyle:{type:Object,default:new UTSJSONObject({})},customCancelStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","suffix-click","focus","blur","confirm","cancel"],setup(e,m){var g=m.emit;const h=y.utils,v=y.colors,S=g,V=e,B=l(!1),w=o({get:()=>V.modelValue,set:e=>{S("update:modelValue",e),S("change",e)}}),_=o((()=>""==V.bgColor?v.value.info:V.bgColor)),j=o((()=>""==V.cursorColor?v.value.primary:V.cursorColor)),I=o((()=>""==V.activeBgColor?v.value.info:V.activeBgColor)),T=o((()=>""==V.cancelTextSize?y.configs.font.size(2):V.cancelTextSize)),U=o((()=>""==V.cancelTextColor?v.value.primaryDark:V.cancelTextColor)),z=o((()=>h.getPx(T.value)*V.cancelText.length*1.5)),O=o((()=>{let e=new Map;return e.set("flex","1"),e.set("transition-duration",y.configs.aniTime.normal),e})),k=o((()=>{let e=new Map;return e.set("transition-property","width, color, size, transform"),B.value||V.fixCancel?(e.set("width",h.addPx(z.value)),e.set("transform","scale(1)")):(e.set("transform","scale(0.001)"),e.set("width","0px")),e}));function R(){S("suffix-click")}function A(){w.value="",S("cancel")}function W(e){B.value=!0,S("focus",e)}function J(e){B.value=!1,S("blur",e)}function N(e){S("confirm",e)}return(l=null,o=null)=>{const m=C(t("sn-input"),x),g=C(t("sn-text"),b),y=u;return d(),a(y,{class:"sn-search-contain",style:r([e.customStyle])},{default:n((()=>[i(m,{modelValue:c(w),"onUpdate:modelValue":o[0]||(o[0]=(e=null)=>p(w)?w.value=e:null),confirmType:"search",type:e.type,padding:e.padding,inputmode:e.inputmode,placeholder:e.placeholder,bgColor:c(_),textColor:e.textColor,clearable:e.clearable,disabled:e.disabled,loading:e.loading,readonly:e.readonly,textSize:e.textSize,activeBgColor:c(I),activeBorderColor:e.activeBorderColor,showBorder:e.showBorder,showActiveBorder:e.showActiveBorder,borderRadius:e.borderRadius,borderColor:e.borderColor,borderWidth:e.borderWidth,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,cursorColor:c(j),onSuffixClick:R,onFocus:W,onBlur:J,onConfirm:N,style:r([c(O),e.customInputStyle])},{prefix:n((()=>[s(l.$slots,"prefix",{},void 0,!0)])),suffix:n((()=>[s(l.$slots,"suffix",{},void 0,!0)])),_:3},8,["modelValue","type","padding","inputmode","placeholder","bgColor","textColor","clearable","disabled","loading","readonly","textSize","activeBgColor","activeBorderColor","showBorder","showActiveBorder","borderRadius","borderColor","borderWidth","prefixIcon","suffixIcon","cursorColor","style"]),e.showCancel?(d(),a(g,{key:0,align:"center",ellipsis:"clip",lines:1,text:e.cancelText,size:c(T),color:c(U),onClick:A,style:r([c(k),e.customCancelStyle])},null,8,["text","size","color","style"])):f("",!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-367f7dfd"]]),w=e({__name:"sn-search",setup(e){const o=y.colors,r=l(""),u=l(""),s=l(""),f=l(""),x=l("此搜索框已被禁用"),b=l("此搜索框只读"),h=l(""),w=l("支持一键清除"),_=l(""),j=l("");function I(){m({title:"提示",content:"点击了拍照按钮",showCancel:!1})}return(e=null,l=null)=>{const m=C(t("sn-topbar"),g),T=C(t("sn-search"),B),U=C(t("com-card"),v),z=C(t("sn-gap"),S),O=C(t("sn-page"),V);return d(),a(O,null,{default:n((()=>[i(m,{title:"Search 搜索框"}),i(U,{title:"基础使用",note:"Search 是基于 Input 的二次封装，比 Input 更为简洁，更方便实现一个搜索框"},{default:n((()=>[i(T,{modelValue:c(r),"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>p(r)?r.value=e:null)},null,8,["modelValue"])])),_:1}),i(U,{title:"不显示取消按钮",note:"如果你不需要右侧的取消按钮，可以关闭"},{default:n((()=>[i(T,{modelValue:c(u),"onUpdate:modelValue":l[1]||(l[1]=(e=null)=>p(u)?u.value=e:null),showCancel:!1},null,8,["modelValue"])])),_:1}),i(U,{title:"固定取消按钮",note:"如果你需要一直显示右侧的取消按钮，可以固定"},{default:n((()=>[i(T,{modelValue:c(j),"onUpdate:modelValue":l[2]||(l[2]=(e=null)=>p(j)?j.value=e:null),fixCancel:""},null,8,["modelValue"])])),_:1}),i(U,{title:"提示文本",note:"支持自由设置搜索框的提示文本"},{default:n((()=>[i(T,{modelValue:c(s),"onUpdate:modelValue":l[3]||(l[3]=(e=null)=>p(s)?s.value=e:null),placeholder:"歌曲名/歌手/专辑"},null,8,["modelValue"])])),_:1}),i(U,{title:"图标",note:"支持自由修改前置图标，提供支持点击反馈的后置图标"},{default:n((()=>[i(T,{modelValue:c(f),"onUpdate:modelValue":l[4]||(l[4]=(e=null)=>p(f)?f.value=e:null),prefixIcon:"menu-search-line",suffixIcon:"camera-line",placeholder:"搜索你想要的商品",showCancel:!1,onSuffixClick:I},null,8,["modelValue"])])),_:1}),i(U,{title:"禁用/只读/加载/清除"},{default:n((()=>[i(T,{modelValue:c(x),"onUpdate:modelValue":l[5]||(l[5]=(e=null)=>p(x)?x.value=e:null),disabled:"",showCancel:!1},null,8,["modelValue"]),i(T,{class:"m-t-10",modelValue:c(b),"onUpdate:modelValue":l[6]||(l[6]=(e=null)=>p(b)?b.value=e:null),readonly:"",showCancel:!1},null,8,["modelValue"]),i(T,{class:"m-t-10",modelValue:c(h),"onUpdate:modelValue":l[7]||(l[7]=(e=null)=>p(h)?h.value=e:null),loading:"",showCancel:!1},null,8,["modelValue"]),i(T,{class:"m-t-10",modelValue:c(w),"onUpdate:modelValue":l[8]||(l[8]=(e=null)=>p(w)?w.value=e:null),clearable:"",showCancel:!1},null,8,["modelValue"])])),_:1}),i(U,{title:"自定义样式"},{default:n((()=>[i(T,{modelValue:c(_),"onUpdate:modelValue":l[9]||(l[9]=(e=null)=>p(_)?_.value=e:null),padding:"10px 20px",showCancel:!1,borderRadius:c(y).configs.radius.circle,bgColor:c(o).info,activeBgColor:c(o).front,activeBorderColor:c(o).primary,placeholder:"请输入搜索内容"},null,8,["modelValue","borderRadius","bgColor","activeBgColor","activeBorderColor"])])),_:1}),i(z)])),_:1})}}});export{w as default};
