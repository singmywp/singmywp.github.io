import{_ as t}from"./sn-topbar.D5ol6wWa.js";import{d as e,$ as o,r as a,c as l,l as n,b as r,e as s,q as i,z as p,ai as c,m as u,j as d,o as g,f,t as m,u as x,x as h,a as b}from"./index-BDGnenFq.js";import{r as v}from"./uni-app.es.BfR9KIrQ.js";import{c as y,a as _,_ as S,b as w}from"./sn-button.DCeBN0oM.js";import{_ as j}from"./com-card.CltZjJtY.js";import{_ as O}from"./sn-gap.DaFvbZ58.js";import{_ as T}from"./sn-page.BIWIogO0.js";const X=y(e(Object.assign({name:"sn-tooltip"},{__name:"sn-tooltip",props:{width:{type:String,default:""},height:{type:String,default:""},borderRadius:{type:String,default:"12px"},position:{type:String,default:"top-start"},padding:{type:String,default:"10px 10px"},bgColor:{type:String,default:""},boxShadow:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})},customTooltipStyle:{type:Object,default:new UTSJSONObject({})},customTriggerStyle:{type:Object,default:new UTSJSONObject({})}},setup(t){const e=o.utils,b=o.colors,v=h(),y=t,_=a({}),S=a({}),w=a(null),j=a(null),O=a(!1),T=l((()=>p("color",y.bgColor,b.value.info))),X=l((()=>p("other",y.boxShadow,"0px 2px 10px 0px ".concat(b.value.infoDark)))),Y=l((()=>y.width)),C=l((()=>y.height));l((()=>!e.isEmpty(y.width))),l((()=>!e.isEmpty(y.height)));const k=l((()=>{var t;let e=new UTSJSONObject({});const o=t=>Math.max(0,t);if(null!=S.value.height&&null!=S.value.width){let t=S.value.height,a=S.value.width,l=_.value.height,n=_.value.width,r=new UTSJSONObject({"bottom-top-start":-o(a-n),"bottom-top":o((a-n)/10),"bottom-top-end":o(a-n),"left-x":-o(a-n)-n,"right-x":o(a-n)+n});e["top-start"]="translateX(".concat(r["bottom-top-start"],"px) translateY(").concat(-l-5,"px)"),e.top="translateX(".concat(r["bottom-top"],"px) translateY(").concat(-l-5,"px)"),e["top-end"]="translateX(".concat(r["bottom-top-end"],"px) translateY(").concat(-l-5,"px)"),e["bottom-start"]="translateX(".concat(r["bottom-top-start"],"px) translateY(").concat(t+5,"px)"),e.bottom="translateX(".concat(r["bottom-top"],"px) translateY(").concat(t+5,"px)"),e["bottom-end"]="translateX(".concat(r["bottom-top-end"],"px) translateY(").concat(t+5,"px)"),e["left-start"]="translateX(".concat(r["left-x"],"px) translateY(").concat(-l-5,"px)"),e.left="translateX(".concat(r["left-x"],"px)  translateY(").concat((t-l)/2,"px)"),e["left-end"]="translateX(".concat(r["left-x"],"px) translateY(").concat(t,"px)"),e["right-start"]="translateX(".concat(r["right-x"],"px) translateY(").concat(-l-5,"px)"),e.right="translateX(".concat(r["right-x"],"px) translateY(").concat((t-l)/2,"px)"),e["right-end"]="translateX(".concat(r["right-x"],"px) translateY(").concat(t,"px)")}return null!=e[y.position]?e[y.position]:null!==(t=e["top-start"])&&void 0!==t?t:""})),N=l((()=>{let t=new Map;return t.set("width",Y.value),t.set("height",C.value),t.set("background",T.value),t.set("border-radius",y.borderRadius),t.set("padding",y.padding),t.set("box-shadow",X.value),t.set("zIndex",o.configs.zIndex.float),t.set("transform","scale(".concat(O.value?1:"0.000001",") ").concat(k.value)),t.set("transition-duration",o.configs.aniTime.normal),t}));function $(){setTimeout((()=>{c().in(v.proxy).select(".sn-tooltip").boundingClientRect().exec((t=>{let e=t[0];_.value={width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}))}),100),u((()=>{e.reArray(w.value.children).forEach((t=>{if(e.reArray(t.classList).includes("sn-tooltip-trigger")){let e=t.getBoundingClientRect();S.value={width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}}))}))}function E(){O.value=!O.value,O.value&&$()}return n((()=>{$()})),(e=null,o=null)=>{const a=d;return g(),r(a,{class:"sn-tooltip-contain",ref_key:"containEle",ref:w,style:i([t.customStyle])},{default:s((()=>[f(a,{class:"sn-tooltip-trigger",onClick:E,style:i([t.customTriggerStyle])},{default:s((()=>[m(e.$slots,"trigger",{},void 0,!0)])),_:3},8,["style"]),f(a,{class:"sn-tooltip",ref_key:"tooltipEle",ref:j,style:i([x(N),t.customTooltipStyle])},{default:s((()=>[m(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-8e218e39"]]),Y=e({__name:"sn-tooltip",setup(e){o.colors;const l=a(0),n=a(0),i=a("top-start");function p(){let t=["top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];l.value++,l.value>=2&&(l.value=0,n.value<t.length-1?(n.value++,i.value=t[n.value]):(n.value=0,i.value=t[0]))}return(e=null,o=null)=>{const a=v(b("sn-topbar"),t),l=v(b("sn-icon"),_),n=v(b("sn-button"),S),c=v(b("sn-text"),w),u=v(b("sn-tooltip"),X),d=v(b("com-card"),j),m=v(b("sn-gap"),O),h=v(b("sn-page"),T);return g(),r(h,null,{default:s((()=>[f(a,{title:"Tooltip 弹出提示"}),f(d,{title:"基础用法",note:"也许当你想要动态介绍某个按钮的用途时会用到它"},{default:s((()=>[f(u,null,{trigger:s((()=>[f(n,{type:"error",level:"second",round:""},{default:s((()=>[f(l,{name:"fire-fill",color:"$error"})])),_:1})])),default:s((()=>[f(c,{text:"⚠️ WARNING: 发射核武器"})])),_:1})])),_:1}),f(d,{title:"位置",note:"诶，怎……怎么会在这儿 (#ﾟДﾟ)"},{default:s((()=>[f(u,{position:x(i),customStyle:{margin:"50px"}},{trigger:s((()=>[f(n,{level:"second",text:"Click Me",onClick:p})])),default:s((()=>[f(c,{text:"Hello!"})])),_:1},8,["position"])])),_:1}),f(d,{title:"插槽",note:"你可以放点更多别的东西"},{default:s((()=>[f(u,{position:"bottom",padding:"70px"},{trigger:s((()=>[f(n,{level:"second",round:""},{default:s((()=>[f(l,{name:"number-1",color:"$primary"})])),_:1})])),default:s((()=>[f(u,{position:"top",width:"100px",bgColor:"$front"},{trigger:s((()=>[f(n,{type:"error",level:"second",round:""},{default:s((()=>[f(l,{name:"number-2",color:"$error"})])),_:1})])),default:s((()=>[f(c,{text:"嵌套第三层 (●'◡'●)"})])),_:1})])),_:1}),f(m,{height:"200px"})])),_:1})])),_:1})}}});export{Y as default};
