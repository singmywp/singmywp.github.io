import{_ as t}from"./sn-topbar.DEOjSarq.js";import{d as e,r as o,c as a,k as l,e as n,f as r,p as s,a8 as i,l as p,q as c,o as u,g as d,t as g,u as f,x as h,b as m}from"./index-C41ek1zM.js";import{$ as x,r as b}from"./uni-app.es.DMEFtuWf.js";import{c as v,a as y,_,b as S}from"./sn-button.CpSyIQkh.js";import{_ as w}from"./com-card.DTC2fNbY.js";import{_ as j}from"./sn-gap.88myKfwU.js";import{_ as X}from"./sn-page.Djy77f-h.js";const Y=v(e(Object.assign({name:"sn-tooltip"},{__name:"sn-tooltip",props:{width:{type:String,default:""},height:{type:String,default:""},borderRadius:{type:String,default:"12px"},position:{type:String,default:"top-start"},padding:{type:String,default:"10px 10px"},bgColor:{type:String,default:""},boxShadow:{type:String,default:""},customStyle:{type:Object,default:{}},customTooltipStyle:{type:Object,default:{}},customTriggerStyle:{type:Object,default:{}}},setup(t){const e=x.utils,m=x.colors,b=h(),v=t,y=o({}),_=o({}),S=o(null),w=o(null),j=o(!1),X=a((()=>""==v.bgColor?m.value.info:v.bgColor)),Y=a((()=>""==v.boxShadow?"0px 2px 10px 0px ".concat(m.value.infoDark):v.boxShadow)),C=a((()=>""==v.width?"":v.width)),T=a((()=>""==v.height?"":v.height));a((()=>!e.isEmpty(v.width))),a((()=>!e.isEmpty(v.height)));const k=a((()=>{var t;let e=new UTSJSONObject({});const o=t=>Math.max(0,t);if(null!=_.value.height&&null!=_.value.width){let t=_.value.height,a=_.value.width,l=y.value.height,n=y.value.width,r=new UTSJSONObject({"bottom-top-start":-o(a-n),"bottom-top":o((a-n)/10),"bottom-top-end":o(a-n),"left-x":-o(a-n)-n,"right-x":o(a-n)+n});e["top-start"]="translateX(".concat(r["bottom-top-start"],"px) translateY(").concat(-l-5,"px)"),e.top="translateX(".concat(r["bottom-top"],"px) translateY(").concat(-l-5,"px)"),e["top-end"]="translateX(".concat(r["bottom-top-end"],"px) translateY(").concat(-l-5,"px)"),e["bottom-start"]="translateX(".concat(r["bottom-top-start"],"px) translateY(").concat(t+5,"px)"),e.bottom="translateX(".concat(r["bottom-top"],"px) translateY(").concat(t+5,"px)"),e["bottom-end"]="translateX(".concat(r["bottom-top-end"],"px) translateY(").concat(t+5,"px)"),e["left-start"]="translateX(".concat(r["left-x"],"px) translateY(").concat(-l-5,"px)"),e.left="translateX(".concat(r["left-x"],"px)  translateY(").concat((t-l)/2,"px)"),e["left-end"]="translateX(".concat(r["left-x"],"px) translateY(").concat(t,"px)"),e["right-start"]="translateX(".concat(r["right-x"],"px) translateY(").concat(-l-5,"px)"),e.right="translateX(".concat(r["right-x"],"px) translateY(").concat((t-l)/2,"px)"),e["right-end"]="translateX(".concat(r["right-x"],"px) translateY(").concat(t,"px)")}return null!=e[v.position]?e[v.position]:null!==(t=e["top-start"])&&void 0!==t?t:""})),O=a((()=>{let t=new Map;return t.set("width",C.value),t.set("height",T.value),t.set("background",X.value),t.set("border-radius",v.borderRadius),t.set("padding",v.padding),t.set("box-shadow",Y.value),t.set("zIndex",x.configs.zIndex.float),t.set("transform","scale(".concat(j.value?1:"0.000001",") ").concat(k.value)),t.set("transition-duration",x.configs.aniTime.normal),t}));function E(){setTimeout((()=>{i().in(b.proxy).select(".sn-tooltip").boundingClientRect().exec((t=>{let e=t[0];y.value={width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}))}),100),p((()=>{e.reArray(S.value.children).forEach((t=>{if(e.reArray(t.classList).includes("sn-tooltip-trigger")){let e=t.getBoundingClientRect();_.value={width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom}}}))}))}function R(){j.value=!j.value,j.value&&E()}return l((()=>{E()})),(e=null,o=null)=>{const a=c;return u(),n(a,{class:"sn-tooltip-contain",ref_key:"containEle",ref:S,style:s([t.customStyle])},{default:r((()=>[d(a,{class:"sn-tooltip-trigger",onClick:R,style:s([t.customTriggerStyle])},{default:r((()=>[g(e.$slots,"trigger",{},void 0,!0)])),_:3},8,["style"]),d(a,{class:"sn-tooltip",ref_key:"tooltipEle",ref:w,style:s([f(O),t.customTooltipStyle])},{default:r((()=>[g(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-e255dbd5"]]),C=e({__name:"sn-tooltip",setup(e){const a=x.colors,l=o(0),s=o(0),i=o("top-start");function p(){let t=["top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];l.value++,l.value>=2&&(l.value=0,s.value<t.length-1?(s.value++,i.value=t[s.value]):(s.value=0,i.value=t[0]))}return(e=null,o=null)=>{const l=b(m("sn-topbar"),t),s=b(m("sn-icon"),y),c=b(m("sn-button"),_),g=b(m("sn-text"),S),h=b(m("sn-tooltip"),Y),x=b(m("com-card"),w),v=b(m("sn-gap"),j),C=b(m("sn-page"),X);return u(),n(C,null,{default:r((()=>[d(l,{title:"Tooltip 弹出提示"}),d(x,{title:"基础用法",note:"也许当你想要动态介绍某个按钮的用途时会用到它"},{default:r((()=>[d(h,null,{trigger:r((()=>[d(c,{type:"error",level:"second",round:""},{default:r((()=>[d(s,{name:"fire-fill",color:f(a).error},null,8,["color"])])),_:1})])),default:r((()=>[d(g,{text:"⚠️ WARNING: 发射核武器"})])),_:1})])),_:1}),d(x,{title:"位置",note:"诶，怎……怎么会在这儿 (#ﾟДﾟ)"},{default:r((()=>[d(h,{position:f(i),customStyle:{margin:"50px"}},{trigger:r((()=>[d(c,{level:"second",text:"Click Me",onClick:p})])),default:r((()=>[d(g,{text:"Hello!"})])),_:1},8,["position"])])),_:1}),d(x,{title:"插槽",note:"你可以放点更多别的东西"},{default:r((()=>[d(h,{position:"bottom",padding:"70px"},{trigger:r((()=>[d(c,{level:"second",round:""},{default:r((()=>[d(s,{name:"number-1",color:f(a).primary},null,8,["color"])])),_:1})])),default:r((()=>[d(h,{position:"top",width:"100px",bgColor:f(a).front},{trigger:r((()=>[d(c,{type:"error",level:"second",round:""},{default:r((()=>[d(s,{name:"number-2",color:f(a).error},null,8,["color"])])),_:1})])),default:r((()=>[d(g,{text:"嵌套第三层 (●'◡'●)"})])),_:1},8,["bgColor"])])),_:1}),d(v,{height:"200px"})])),_:1})])),_:1})}}});export{C as default};
