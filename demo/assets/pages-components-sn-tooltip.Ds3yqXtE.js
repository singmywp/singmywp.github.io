import{_ as t}from"./sn-topbar.wm0GzhH3.js";import{d as e,$ as o,r as a,c as n,o as l,e as s,f as r,p as i,x as p,Y as c,n as u,_ as d,b as g,g as f,z as m,u as x,q as h,a as b}from"./index-DYMgrqHp.js";import{r as v}from"./uni-app.es.DgDfNdgy.js";import{b as S,_ as y,a as _}from"./sn-text.euomPoe8.js";import{_ as w}from"./sn-button.BjZePiC5.js";import{_ as j}from"./com-card.BtLNzB63.js";import{_ as O}from"./sn-gap.2Twkbobz.js";import{_ as T}from"./sn-page.Cf6LEMVT.js";import"./sn-menu-item.DkjoXkWj.js";import"./sn-overlay.CiZFgEyq.js";import"./sn-loading.t5otRKvs.js";const Y=S(e(Object.assign({name:"sn-tooltip"},{__name:"sn-tooltip",props:{width:{type:String,default:""},height:{type:String,default:""},borderRadius:{type:String,default:"12px"},position:{type:String,default:"top-start"},padding:{type:String,default:"10px 10px"},bgColor:{type:String,default:""},boxShadow:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})},customTooltipStyle:{type:Object,default:new UTSJSONObject({})},customTriggerStyle:{type:Object,default:new UTSJSONObject({})}},setup(t){const e=o.utils,b=o.colors,v=h(),S=t,y=a(new UTSJSONObject({})),_=a(new UTSJSONObject({})),w=a(null),j=a(null),O=a(!1),T=n((()=>p("color",S.bgColor,b.value.info))),Y=n((()=>p("other",S.boxShadow,"0px 2px 10px 0px ".concat(b.value.infoDark)))),X=n((()=>S.width)),N=n((()=>S.height));n((()=>!e.isEmpty(S.width))),n((()=>!e.isEmpty(S.height)));const J=n((()=>{var t;let e=new UTSJSONObject({});const o=t=>Math.max(0,t);if(null!=_.value.height&&null!=_.value.width){let t=_.value.height,a=_.value.width,n=y.value.height,l=y.value.width,s=new UTSJSONObject({"bottom-top-start":-o(a-l),"bottom-top":o((a-l)/10),"bottom-top-end":o(a-l),"left-x":-o(a-l)-l,"right-x":o(a-l)+l});e["top-start"]="translateX(".concat(s["bottom-top-start"],"px) translateY(").concat(-n-5,"px)"),e.top="translateX(".concat(s["bottom-top"],"px) translateY(").concat(-n-5,"px)"),e["top-end"]="translateX(".concat(s["bottom-top-end"],"px) translateY(").concat(-n-5,"px)"),e["bottom-start"]="translateX(".concat(s["bottom-top-start"],"px) translateY(").concat(t+5,"px)"),e.bottom="translateX(".concat(s["bottom-top"],"px) translateY(").concat(t+5,"px)"),e["bottom-end"]="translateX(".concat(s["bottom-top-end"],"px) translateY(").concat(t+5,"px)"),e["left-start"]="translateX(".concat(s["left-x"],"px) translateY(").concat(-n-5,"px)"),e.left="translateX(".concat(s["left-x"],"px)  translateY(").concat((t-n)/2,"px)"),e["left-end"]="translateX(".concat(s["left-x"],"px) translateY(").concat(t,"px)"),e["right-start"]="translateX(".concat(s["right-x"],"px) translateY(").concat(-n-5,"px)"),e.right="translateX(".concat(s["right-x"],"px) translateY(").concat((t-n)/2,"px)"),e["right-end"]="translateX(".concat(s["right-x"],"px) translateY(").concat(t,"px)")}return null!=e[S.position]?e[S.position]:null!==(t=e["top-start"])&&void 0!==t?t:""})),U=n((()=>{const t=new Map;return t.set("width",X.value),t.set("height",N.value),t.set("background",T.value),t.set("border-radius",S.borderRadius),t.set("padding",S.padding),t.set("box-shadow",Y.value),t.set("zIndex",o.configs.zIndex.float),t.set("transform","scale(".concat(O.value?1:"0.000001",") ").concat(J.value)),t.set("transition-duration",o.configs.aniTime.normal),t}));function C(){setTimeout((()=>{c().in(v.proxy).select(".sn-tooltip").boundingClientRect().exec((t=>{let e=t[0];y.value=new UTSJSONObject({width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom})}))}),100),u((()=>{e.reArray(w.value.children).forEach((t=>{if(e.reArray(t.classList).includes("sn-tooltip-trigger")){let e=t.getBoundingClientRect();_.value=new UTSJSONObject({width:e.width,height:e.height,top:e.top,left:e.left,right:e.right,bottom:e.bottom})}}))}))}function k(){O.value=!O.value,O.value&&C()}return l((()=>{C()})),(e=null,o=null)=>{const a=d;return g(),s(a,{class:"sn-tooltip-contain",ref_key:"containEle",ref:w,style:i([t.customStyle])},{default:r((()=>[f(a,{class:"sn-tooltip-trigger",onClick:k,style:i([t.customTriggerStyle])},{default:r((()=>[m(e.$slots,"trigger",{},void 0,!0)])),_:3},8,["style"]),f(a,{class:"sn-tooltip",ref_key:"tooltipEle",ref:j,style:i([x(U),t.customTooltipStyle])},{default:r((()=>[m(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-a40697c0"]]),X=e({__name:"sn-tooltip",setup(e){o.colors;const n=a(0),l=a(0),i=a("top-start");function p(){let t=["top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];n.value++,n.value>=2&&(n.value=0,l.value<t.length-1?(l.value++,i.value=t[l.value]):(l.value=0,i.value=t[0]))}return(e=null,o=null)=>{const a=v(b("sn-topbar"),t),n=v(b("sn-icon"),y),l=v(b("sn-button"),w),c=v(b("sn-text"),_),u=v(b("sn-tooltip"),Y),d=v(b("com-card"),j),m=v(b("sn-gap"),O),h=v(b("sn-page"),T);return g(),s(h,null,{default:r((()=>[f(a,{title:"Tooltip 弹出提示"}),f(d,{title:"基础用法",note:"也许当你想要动态介绍某个按钮的用途时会用到它"},{default:r((()=>[f(u,null,{trigger:r((()=>[f(l,{type:"error",level:"second",round:""},{default:r((()=>[f(n,{name:"fire-fill",color:"$error"})])),_:1})])),default:r((()=>[f(c,{text:"⚠️ WARNING: 发射核武器"})])),_:1})])),_:1}),f(d,{title:"位置",note:"诶，怎……怎么会在这儿 (#ﾟДﾟ)"},{default:r((()=>[f(u,{position:x(i),customStyle:{margin:"50px"}},{trigger:r((()=>[f(l,{level:"second",text:"Click Me",onClick:p})])),default:r((()=>[f(c,{text:"Hello!"})])),_:1},8,["position"])])),_:1}),f(d,{title:"插槽",note:"你可以放点更多别的东西"},{default:r((()=>[f(u,{position:"bottom",padding:"70px"},{trigger:r((()=>[f(l,{level:"second",round:""},{default:r((()=>[f(n,{name:"number-1",color:"$primary"})])),_:1})])),default:r((()=>[f(u,{position:"top",width:"100px",bgColor:"$front"},{trigger:r((()=>[f(l,{type:"error",level:"second",round:""},{default:r((()=>[f(n,{name:"number-2",color:"$error"})])),_:1})])),default:r((()=>[f(c,{text:"嵌套第三层 (●'◡'●)"})])),_:1})])),_:1}),f(m,{height:"200px"})])),_:1})])),_:1})}}});export{X as default};
