import{d as e,$ as t,a as l,o as s,b as n,e as o,f as a,u as r,n as i}from"./index-DoInGK9X.js";import{_ as m,a as c}from"./sn-topbar.DxKzInQK.js";import{r as u}from"./uni-app.es.K1mZmM8s.js";import{_ as p}from"./sn-alert.CWq7Acu6.js";import{_ as y}from"./com-card.D8_7_rS9.js";import{_ as d}from"./sn-button.B1LvAG78.js";import{_ as f}from"./sn-gap.BM3gA-Sq.js";import{_ as k}from"./sn-page.Nlp4LDKz.js";const v=e({__name:"sn-store",setup(e){t.colors;const v=t.store;function _(){i({url:"/pages/libs/sn-store-sub"})}return(e=null,t=null)=>{const i=u(l("sn-topbar"),m),C=u(l("sn-alert"),p),g=u(l("com-card"),y),x=u(l("sn-button"),d),b=u(l("sn-row"),c),j=u(l("sn-gap"),f),$=u(l("sn-page"),k);return s(),n($,null,{default:o((()=>[a(i,{title:"Store 状态管理"}),a(C,{type:"primary",icon:"database-2-fill",text:"一个轻量简洁的全局响应式状态管理库。支持持久化数据储存、过期机制。"}),a(g,{title:"基础用法",note:"全局响应式存储，重启应用自动销毁"},{default:o((()=>{var e;return[a(g,{bgColor:"$info",title:"key1：".concat(null!==(e=r(v).get("key1"))&&void 0!==e?e:"")},null,8,["title"]),a(b,null,{default:o((()=>[a(x,{class:"m-t-10",type:"primary",level:"second",text:"设置",onClick:t[0]||(t[0]=(e=null)=>r(v).set("key1","数据1"))}),a(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"删除",onClick:t[1]||(t[1]=(e=null)=>r(v).delete("key1"))}),a(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"子页面",onClick:_})])),_:1})]})),_:1}),a(g,{title:"持久化数据",note:"全局响应式存储，同步将数据存储在本地 Storage 中，应用重启后保持原状态"},{default:o((()=>{var e;return[a(g,{bgColor:"$info",title:"key2：".concat(null!==(e=r(v).get("key2"))&&void 0!==e?e:"")},null,8,["title"]),a(b,null,{default:o((()=>[a(x,{class:"m-t-10",type:"primary",level:"second",text:"设置",onClick:t[2]||(t[2]=(e=null)=>r(v).set("key2","数据2",!0))}),a(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"删除",onClick:t[3]||(t[3]=(e=null)=>r(v).delete("key2"))}),a(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"子页面",onClick:_})])),_:1})]})),_:1}),a(g,{title:"过期机制",note:"采用惰性删除策略，在对数据读写前检查是否过期。一方面避免了定期删除和定时删除对 CPU 资源的过度占用，另一方面，用户端不需要像服务端那样缓存庞大的数据，因此惰性删除导致的内存资源占用也不会过多。"},{default:o((()=>{var e;return[a(g,{bgColor:"$info",title:"key3：".concat(null!==(e=r(v).get("key3"))&&void 0!==e?e:"")},null,8,["title"]),a(b,null,{default:o((()=>[a(x,{class:"m-t-10",type:"primary",level:"second",text:"获取",onClick:t[4]||(t[4]=(e=null)=>r(v).get("key3"))}),a(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"设置(3s后点获取)",onClick:t[5]||(t[5]=(e=null)=>r(v).set("key3","数据3",!0,3))}),a(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"删除",onClick:t[6]||(t[6]=(e=null)=>r(v).delete("key3"))})])),_:1})]})),_:1}),a(j)])),_:1})}}});export{v as default};
