import{d as e,b as t,o as l,e as s,f as o,g as n,u as r,n as a}from"./index-D82xabMX.js";import{_ as i}from"./sn-topbar.DGNmRcUY.js";import{$ as m,r as c}from"./uni-app.es.Cv0ss-rw.js";import{_ as p}from"./sn-alert.IFfoCHl2.js";import{_ as u}from"./com-card.2Ru7Wd6o.js";import{_ as y}from"./sn-button.CJ0ZsVkl.js";import{_ as d}from"./sn-row.DBw4p-E_.js";import{_ as f}from"./sn-gap.BFzalOT1.js";import{_ as k}from"./sn-page.CIc3m52K.js";const g=e({__name:"sn-store",setup(e){const g=m.colors,C=m.store;function _(){a({url:"/pages/libs/sn-store-sub"})}return(e=null,a=null)=>{const m=c(t("sn-topbar"),i),v=c(t("sn-alert"),p),b=c(t("com-card"),u),x=c(t("sn-button"),y),j=c(t("sn-row"),d),w=c(t("sn-gap"),f),S=c(t("sn-page"),k);return l(),s(S,null,{default:o((()=>[n(m,{title:"Store 状态管理"}),n(v,{type:"primary",icon:"database-2-fill",text:"一个轻量简洁的全局响应式状态管理库。支持持久化数据储存、过期机制。"}),n(b,{title:"基础用法",note:"全局响应式存储，重启应用自动销毁"},{default:o((()=>{var e;return[n(b,{bgColor:r(g).info,title:"key1：".concat(null!==(e=r(C).get("key1"))&&void 0!==e?e:"")},null,8,["bgColor","title"]),n(j,null,{default:o((()=>[n(x,{class:"m-t-10",type:"primary",level:"second",text:"设置",onClick:a[0]||(a[0]=(e=null)=>r(C).set("key1","数据1"))}),n(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"删除",onClick:a[1]||(a[1]=(e=null)=>r(C).delete("key1"))}),n(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"子页面",onClick:_})])),_:1})]})),_:1}),n(b,{title:"持久化数据",note:"全局响应式存储，同步将数据存储在本地 Storage 中，应用重启后保持原状态"},{default:o((()=>{var e;return[n(b,{bgColor:r(g).info,title:"key2：".concat(null!==(e=r(C).get("key2"))&&void 0!==e?e:"")},null,8,["bgColor","title"]),n(j,null,{default:o((()=>[n(x,{class:"m-t-10",type:"primary",level:"second",text:"设置",onClick:a[2]||(a[2]=(e=null)=>r(C).set("key2","数据2",!0))}),n(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"删除",onClick:a[3]||(a[3]=(e=null)=>r(C).delete("key2"))}),n(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"子页面",onClick:_})])),_:1})]})),_:1}),n(b,{title:"过期机制",note:"采用惰性删除策略，在对数据读写前检查是否过期。一方面避免了定期删除和定时删除对 CPU 资源的过度占用，另一方面，用户端不需要像服务端那样缓存庞大的数据，因此惰性删除导致的内存资源占用也不会过多。"},{default:o((()=>{var e;return[n(b,{bgColor:r(g).info,title:"key3：".concat(null!==(e=r(C).get("key3"))&&void 0!==e?e:"")},null,8,["bgColor","title"]),n(j,null,{default:o((()=>[n(x,{class:"m-t-10",type:"primary",level:"second",text:"获取",onClick:a[4]||(a[4]=(e=null)=>r(C).get("key3"))}),n(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"设置(3s后点获取)",onClick:a[5]||(a[5]=(e=null)=>r(C).set("key3","数据3",!0,3))}),n(x,{class:"m-t-10 m-l-10",type:"primary",level:"second",text:"删除",onClick:a[6]||(a[6]=(e=null)=>r(C).delete("key3"))})])),_:1})]})),_:1}),n(w)])),_:1})}}});export{g as default};
