import{a as e,c as t}from"./sn-button.DCeBN0oM.js";import{d as a,$ as l,r as s,c as n,l as i,m as o,a as r,b as u,e as c,p as d,q as f,u as p,z as g,j as m,o as v,f as b,x as y}from"./index-BDGnenFq.js";import{r as x}from"./uni-app.es.BfR9KIrQ.js";const h=t(a(Object.assign({name:"sn-backtop"},{__name:"sn-backtop",props:{icon:{type:String,default:"skip-up-line"},shape:{type:String,default:"circle"},bgColor:{type:String,default:""},zIndex:{type:Number,default:l.configs.zIndex.float},aniTime:{type:String,default:l.configs.aniTime.normal},size:{type:String,default:"50px"},top:{type:Number,default:400},right:{type:Number,default:30},bottom:{type:Number,default:100},iconSize:{type:String,default:""},iconColor:{type:String,default:""},type:{type:String,default:"primary"},level:{type:String,default:"first"},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["click"],setup(t,a){var h=a.emit;const z=l.utils,S=l.colors,k=y(),T=h,I=t,j=s(!1),w=s(null),C=s(null),_=n((()=>I.zIndex==l.configs.zIndex.float?l.configs.zIndex.float:I.zIndex)),N=n((()=>g("font",l.configs.font.size(5),I.iconSize))),B=n((()=>g("aniTime",l.configs.aniTime.normal,I.aniTime))),E=n((()=>["first","second","third","least"].includes(I.level)?I.level:"first")),O=n((()=>["info","warning","error","success","primary"].includes(I.type)?I.type:"info")),M=n((()=>{if(I.disabled)return S.value.disabled;if(!z.isEmpty(I.bgColor))return I.bgColor;if("info"==O.value&&"least"!=E.value)return S.value.info;switch(E.value){case"first":default:return S.value["".concat(O.value)];case"second":return S.value["".concat(O.value,"Light")];case"third":return S.value.info}})),P=n((()=>I.disabled?S.value.disabledText:z.isEmpty(I.iconColor)?"info"==O.value?S.value.infoText:"first"==E.value?S.value["".concat(O.value,"Text")]:S.value["".concat(O.value,"LightText")]:I.iconColor)),U=n((()=>{let e=new Map;return e.set("border-radius","square"==I.shape?l.configs.radius.small:l.configs.radius.circle),e.set("background",M.value),e.set("width",z.addUnit(I.size)),e.set("height",z.addUnit(I.size)),e.set("right",z.addPx(I.right)),e.set("bottom",z.addPx(I.bottom)),e.set("zIndex",_.value.toString()),e.set("transform","scale(".concat(j.value?1:.001,")")),e.set("transition-duration",B.value),e}));function $(e){I.disabled||(j.value=!1,C.value.$callMethod("scrollTo",0,0),T("click",e))}function q(e){j.value=e>=I.top}return i((()=>{o((()=>{if(C.value=z.findBrother(k.proxy,["sn-longlist","sn-scroll","sn-page"]),null==C.value&&(C.value=z.findParent(k.proxy,["sn-longlist","sn-scroll","sn-page"])),null==C.value)throw new Error("sn-backtop: Backtop 组件同级或父级必须为 sn-scroll/sn-longlist/sn-page");C.value.$callMethod("registerBacktop",q)}))})),(a=null,l=null)=>{const s=x(r("sn-icon"),e),n=m;return v(),u(n,{class:d(["sn-backtop",t.disabled?"disabled":""]),ref_key:"backtopEle",ref:w,onClick:$,style:f([p(U),t.customStyle])},{default:c((()=>[b(s,{name:t.icon,size:p(N),color:p(P)},null,8,["name","size","color"])])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-f2259402"]]);export{h as _};
