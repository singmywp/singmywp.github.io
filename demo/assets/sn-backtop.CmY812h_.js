import{a as e,c as t}from"./sn-button.B1LvAG78.js";import{d as a,$ as l,r as s,c as n,l as i,m as o,a as r,b as u,e as c,p as d,q as f,u as p,y as g,j as m,o as v,f as b,t as y}from"./index-DoInGK9X.js";import{r as x}from"./uni-app.es.K1mZmM8s.js";const h=t(a(Object.assign({name:"sn-backtop"},{__name:"sn-backtop",props:{icon:{type:String,default:"skip-up-line"},shape:{type:String,default:"circle"},bgColor:{type:String,default:""},zIndex:{type:Number,default:l.configs.zIndex.float},aniTime:{type:String,default:l.configs.aniTime.normal},size:{type:String,default:"50px"},top:{type:Number,default:400},right:{type:Number,default:30},bottom:{type:Number,default:100},iconSize:{type:String,default:""},iconColor:{type:String,default:""},type:{type:String,default:"primary"},level:{type:String,default:"first"},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["click"],setup(t,a){var h=a.emit;const S=l.utils,z=l.colors,k=y(),T=h,I=t,j=s(!1),w=s(null),C=s(null),_=n((()=>I.zIndex==l.configs.zIndex.float?l.configs.zIndex.float:I.zIndex)),B=n((()=>g("font",l.configs.font.size(5),I.iconSize))),N=n((()=>g("aniTime",l.configs.aniTime.normal,I.aniTime))),E=n((()=>["first","second","third","least"].includes(I.level)?I.level:"first")),O=n((()=>["info","warning","error","success","primary"].includes(I.type)?I.type:"info")),M=n((()=>{if(I.disabled)return z.value.disabled;if(!S.isEmpty(I.bgColor))return I.bgColor;if("info"==O.value&&"least"!=E.value)return z.value.info;switch(E.value){case"first":default:return z.value["".concat(O.value)];case"second":return z.value["".concat(O.value,"Light")];case"third":return z.value.info}})),P=n((()=>I.disabled?z.value.disabledText:S.isEmpty(I.iconColor)?"info"==O.value?z.value.infoText:"first"==E.value?z.value["".concat(O.value,"Text")]:z.value["".concat(O.value,"LightText")]:I.iconColor)),U=n((()=>{let e=new Map;return e.set("border-radius","square"==I.shape?l.configs.radius.small:l.configs.radius.circle),e.set("background",M.value),e.set("width",S.addUnit(I.size)),e.set("height",S.addUnit(I.size)),e.set("right",S.addPx(I.right)),e.set("bottom",S.addPx(I.bottom)),e.set("zIndex",_.value.toString()),e.set("transform","scale(".concat(j.value?1:.001,")")),e.set("transition-duration",N.value),e}));function $(e){I.disabled||(j.value=!1,C.value.$callMethod("scrollTo",0,0),T("click",e))}function q(e){j.value=e>=I.top}return i((()=>{o((()=>{if(C.value=S.findBrother(k.proxy,["sn-longlist","sn-scroll","sn-page"]),null==C.value&&(C.value=S.findParent(k.proxy,["sn-longlist","sn-scroll","sn-page"])),null==C.value)throw new Error("sn-backtop: Backtop 组件同级或父级必须为 sn-scroll/sn-longlist/sn-page");C.value.$callMethod("registerBacktop",q)}))})),(a=null,l=null)=>{const s=x(r("sn-icon"),e),n=m;return v(),u(n,{class:d(["sn-backtop",t.disabled?"disabled":""]),ref_key:"backtopEle",ref:w,onClick:$,style:f([p(U),t.customStyle])},{default:c((()=>[b(s,{name:t.icon,size:p(B),color:p(P)},null,8,["name","size","color"])])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-f2259402"]]);export{h as _};
