import{a as e,c as t}from"./sn-button.68-4Ol7n.js";import{d as a,r as n,c as l,k as s,l as i,b as o,e as r,f as u,m as c,u as d,p as f,o as p,g as m,x as g}from"./index-BV7wVSs2.js";import{$ as v,r as b}from"./uni-app.es.BzKMvEv9.js";const y=t(a(Object.assign({name:"sn-backtop"},{__name:"sn-backtop",props:{icon:{type:String,default:"skip-up-line"},shape:{type:String,default:"circle"},bgColor:{type:String,default:""},zIndex:{type:Number,default:v.configs.zIndex.float},aniTime:{type:Number,default:parseInt(v.configs.aniTime.normal)},size:{type:String,default:"50px"},top:{type:Number,default:400},right:{type:Number,default:30},bottom:{type:Number,default:100},iconSize:{type:String,default:""},iconColor:{type:String,default:""},type:{type:String,default:"primary"},level:{type:String,default:"first"},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:{}}},emits:["click"],setup(t,a){var y=a.emit;const x=v.utils,h=v.colors,z=g(),k=y,S=t,I=n(!1),T=n(null),C=n(null),_=l((()=>S.zIndex==v.configs.zIndex.float?v.configs.zIndex.float:S.zIndex)),w=l((()=>""==S.iconSize?v.configs.font.size(5):S.iconSize)),j=l((()=>S.aniTime==parseInt(v.configs.aniTime.normal)?parseInt(v.configs.aniTime.normal):S.aniTime)),N=l((()=>["first","second","third","least"].includes(S.level)?S.level:"first")),B=l((()=>["info","warning","error","success","primary"].includes(S.type)?S.type:"info")),E=l((()=>{if(S.disabled)return h.value.disabled;if(!x.isEmpty(S.bgColor))return S.bgColor;if("info"==B.value&&"least"!=N.value)return h.value.info;switch(N.value){case"first":default:return h.value["".concat(B.value)];case"second":return h.value["".concat(B.value,"Light")];case"third":return h.value.info}})),M=l((()=>S.disabled?h.value.disabledText:x.isEmpty(S.iconColor)?"info"==B.value?h.value.infoText:"first"==N.value?h.value["".concat(B.value,"Text")]:h.value["".concat(B.value,"LightText")]:S.iconColor)),P=l((()=>{let e=new Map;return e.set("border-radius","square"==S.shape?v.configs.radius.small:v.configs.radius.circle),e.set("background",E.value),e.set("width",x.addUnit(S.size)),e.set("height",x.addUnit(S.size)),e.set("right",x.addPx(S.right)),e.set("bottom",x.addPx(S.bottom)),e.set("zIndex",_.value.toString()),e.set("transform","scale(".concat(I.value?1:.001,")")),e.set("transition-duration","".concat(j.value,"ms")),e}));function $(e){S.disabled||(I.value=!1,C.value.$callMethod("scrollTo",0,0),k("click",e))}function L(e){I.value=e>=S.top}return s((()=>{i((()=>{if(C.value=x.findBrother(z.proxy,["sn-longlist","sn-scroll","sn-page"]),null==C.value&&(C.value=x.findParent(z.proxy,["sn-longlist","sn-scroll","sn-page"])),null==C.value)throw new Error("sn-backtop: Backtop 组件同级或父级必须为 sn-scroll/sn-longlist/sn-page");C.value.$callMethod("registerBacktop",L)}))})),(a=null,n=null)=>{const l=b(o("sn-icon"),e),s=f;return p(),r(s,{class:"sn-backtop",ref_key:"backtopEle",ref:T,onClick:$,style:c([d(P),t.customStyle])},{default:u((()=>[m(l,{name:t.icon,size:d(w),color:d(M)},null,8,["name","size","color"])])),_:1},8,["style"])}}})),[["__scopeId","data-v-8b676adb"]]);export{y as _};
