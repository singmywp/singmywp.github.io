import{a as e,c as t}from"./sn-button.CpSyIQkh.js";import{d as a,r as s,c as l,k as n,l as i,b as o,e as r,f as u,m as c,p as d,u as f,q as p,o as m,g,x as v}from"./index-C41ek1zM.js";import{$ as b,r as y}from"./uni-app.es.DMEFtuWf.js";const x=t(a(Object.assign({name:"sn-backtop"},{__name:"sn-backtop",props:{icon:{type:String,default:"skip-up-line"},shape:{type:String,default:"circle"},bgColor:{type:String,default:""},zIndex:{type:Number,default:b.configs.zIndex.float},aniTime:{type:Number,default:parseInt(b.configs.aniTime.normal)},size:{type:String,default:"50px"},top:{type:Number,default:400},right:{type:Number,default:30},bottom:{type:Number,default:100},iconSize:{type:String,default:""},iconColor:{type:String,default:""},type:{type:String,default:"primary"},level:{type:String,default:"first"},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:{}}},emits:["click"],setup(t,a){var x=a.emit;const h=b.utils,z=b.colors,k=v(),S=x,I=t,T=s(!1),C=s(null),_=s(null),w=l((()=>I.zIndex==b.configs.zIndex.float?b.configs.zIndex.float:I.zIndex)),j=l((()=>""==I.iconSize?b.configs.font.size(5):I.iconSize)),N=l((()=>I.aniTime==parseInt(b.configs.aniTime.normal)?parseInt(b.configs.aniTime.normal):I.aniTime)),B=l((()=>["first","second","third","least"].includes(I.level)?I.level:"first")),E=l((()=>["info","warning","error","success","primary"].includes(I.type)?I.type:"info")),M=l((()=>{if(I.disabled)return z.value.disabled;if(!h.isEmpty(I.bgColor))return I.bgColor;if("info"==E.value&&"least"!=B.value)return z.value.info;switch(B.value){case"first":default:return z.value["".concat(E.value)];case"second":return z.value["".concat(E.value,"Light")];case"third":return z.value.info}})),P=l((()=>I.disabled?z.value.disabledText:h.isEmpty(I.iconColor)?"info"==E.value?z.value.infoText:"first"==B.value?z.value["".concat(E.value,"Text")]:z.value["".concat(E.value,"LightText")]:I.iconColor)),$=l((()=>{let e=new Map;return e.set("border-radius","square"==I.shape?b.configs.radius.small:b.configs.radius.circle),e.set("background",M.value),e.set("width",h.addUnit(I.size)),e.set("height",h.addUnit(I.size)),e.set("right",h.addPx(I.right)),e.set("bottom",h.addPx(I.bottom)),e.set("zIndex",w.value.toString()),e.set("transform","scale(".concat(T.value?1:.001,")")),e.set("transition-duration","".concat(N.value,"ms")),e}));function q(e){I.disabled||(T.value=!1,_.value.$callMethod("scrollTo",0,0),S("click",e))}function L(e){T.value=e>=I.top}return n((()=>{i((()=>{if(_.value=h.findBrother(k.proxy,["sn-longlist","sn-scroll","sn-page"]),null==_.value&&(_.value=h.findParent(k.proxy,["sn-longlist","sn-scroll","sn-page"])),null==_.value)throw new Error("sn-backtop: Backtop 组件同级或父级必须为 sn-scroll/sn-longlist/sn-page");_.value.$callMethod("registerBacktop",L)}))})),(a=null,s=null)=>{const l=y(o("sn-icon"),e),n=p;return m(),r(n,{class:c(["sn-backtop",t.disabled?"disabled":""]),ref_key:"backtopEle",ref:C,onClick:q,style:d([f($),t.customStyle])},{default:u((()=>[g(l,{name:t.icon,size:f(j),color:f(P)},null,8,["name","size","color"])])),_:1},8,["class","style"])}}})),[["__scopeId","data-v-df0fdeac"]]);export{x as _};
