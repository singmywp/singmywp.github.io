import{b as e,c as a}from"./sn-button.CpSyIQkh.js";import{d as t,r as l,c as s,k as r,b as n,e as i,f as o,p as u,q as m,o as c,g as b,u as d,v as f,t as p,x as y}from"./index-C41ek1zM.js";import{$ as g,h as v,i as k,r as x,j as S}from"./uni-app.es.DMEFtuWf.js";import{_ as h}from"./sn-alert.gmx33OKx.js";import{_ as j}from"./sn-line.DfmIoOpX.js";const _=g.utils;const w=a(t(Object.assign({name:"sn-form-item"},{__name:"sn-form-item",props:{type:{type:String,default:""},field:{type:String,default:""},rule:{type:Object,default:()=>new k({})},label:{type:String,default:""},labelColor:{type:String,default:""},labelSize:{type:String,default:""},labelWidth:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(a,t){var k=t.expose;const w=g.utils,z=g.colors,C=y(),N=a,T=l(!0),U=l("ã€€"),q=l("embed"),G=l(z.value.textLight),I=l(g.configs.font.size(3)),O=l(!1),P=l(!0),L=s((()=>""==N.type?q.value:N.type)),$=s((()=>{var e;return null!==(e=N.rule.required)&&void 0!==e&&e})),A=s((()=>""==N.labelColor?G.value:N.labelColor)),E=s((()=>""==N.labelSize?I.value:N.labelSize)),M=s((()=>{let e=new Map;return"float"==L.value?(e.set("padding","10px 15px"),e.set("background",z.value.infoLight),e.set("border-radius",g.configs.radius.circle)):(e.set("padding","0px"),e.set("background",z.value.transparent),e.set("border-radius","")),e.set("transition-duration",g.configs.aniTime.normal),e})),Q=s((()=>{let e=new Map;return e.set("width",N.labelWidth),e}));return k({setProps:function(e){q.value=UTS.mapGet(e,"type"),G.value=UTS.mapGet(e,"labelColor"),I.value=UTS.mapGet(e,"labelSize"),O.value=UTS.mapGet(e,"showBorder"),P.value=UTS.mapGet(e,"showError")},verify:function(e=null,a){return function(e,a,t,l,s=null,r){let n=l,i=n.type,o=!0,u=n.message,m=!1;if("string"==typeof s?""==s&&(m=!0):Array.isArray(s)&&0==s.length&&(m=!0),null!=n.transform&&(s=n.transform(s)),null!=n.valid){let e=n.valid(s);o=""==e.trim(),u=o?u:e}if(null!=n.pattern&&"string"==typeof s&&(n.pattern.test(s)||(o=!1)),1==n.required&&"string"==typeof s&&_.isEmpty(s)&&(o=!1),null!=i){let e=function(e){typeof s!=e&&(o=!1)};switch(i){case"string":e("string");break;case"number":_.isNumber(s)||(o=!1);break;case"boolean":e("boolean");break;case"object":e("object");break;case"array":e("array");break;case"integer":_.isNumber(s)&&_.isInteger(s)||(o=!1);break;case"float":_.isNumber(s)&&_.isFloat(s)||(o=!1);break;case"enum":null==n.enum||n.enum.includes(s)||(o=!1);break;case"url":m||_.isURL(s)||(o=!1);break;case"email":m||_.isEmail(s)||(o=!1);break;case"idcard":m||_.isIDCard(s)||(o=!1);break;case"phone":m||_.isPhone(s)||(o=!1);break;case"landline":m||_.isLandline(s)||(o=!1);break;case"qqnumber":m||_.isQQNumber(s)||(o=!1);break;case"abc":m||_.isAbc(s)||(o=!1);break;case"chinese":m||_.isChinese(s)||(o=!1);break;case"carnumber":m||_.isCarNumber(s)||(o=!1);break;case"ipv4":m||_.isIPv4(s)||(o=!1);break;case"ipv6":m||_.isIPv6(s)||(o=!1)}}"string"==typeof s&&(null!=n.min&&s.length<n.min&&(o=!1),null!=n.max&&s.length>n.max&&(o=!1),null!=n.len&&(o=s.length==n.len)),_.isNumber(s)&&(null!=n.min&&s<n.min&&(o=!1),null!=n.max&&s>n.max&&(o=!1)),e.value=o,a.value=null!=u?u:"",r(new v({message:u,valid:o,field:t}))}(T,U,N.field,N.rule,e,a)}}),r((()=>{!function(){let e=C.proxy,a=w.findParent(e,["sn-form"]),t=new S({field:N.field,instance:e});null!=a&&a.$callMethod("register",t)}()})),(t=null,l=null)=>{const s=x(n("sn-text"),e),r=m,y=x(n("sn-alert"),h),g=x(n("sn-line"),j);return c(),i(r,{class:"sn-form-item",style:u([a.customStyle])},{default:o((()=>[b(r,{class:"sn-form-item-body",style:u(d(M))},{default:o((()=>[b(r,{class:"sn-form-item-label",style:u(d(Q))},{default:o((()=>[d($)?(c(),i(s,{key:0,class:"sn-form-item-label-required",text:"*",color:d(z).error,size:d(E)},null,8,["color","size"])):f("",!0),b(s,{text:a.label,color:d(A),size:d(E)},null,8,["text","color","size"])])),_:1},8,["style"]),b(r,{class:"sn-form-item-content"},{default:o((()=>[p(t.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["style"]),d(P)&&!d(T)?p(t.$slots,"error",{key:0},(()=>[b(y,{type:"error",class:"sn-form-item-error",text:d(U)},null,8,["text"])]),!0):f("",!0),d(O)&&"embed"==d(L)?(c(),i(g,{key:1,margin:"15px 0 0 0"})):f("",!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-0b3883e0"]]);export{w as _};
