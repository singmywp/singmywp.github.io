import{a as e,b as a}from"./sn-text.euomPoe8.js";import{$ as s,ag as t,d as r,ah as l,r as n,l as i,c as o,o as u,a as c,e as m,f as b,p as d,x as f,ai as p,_ as y,b as g,g as k,u as v,B as x,z as h,q as S}from"./index-DYMgrqHp.js";import{r as _}from"./uni-app.es.DgDfNdgy.js";import{_ as j}from"./sn-alert.B2UqFsTR.js";import{_ as w}from"./sn-line.BnKikEoE.js";const z=s.utils;const N=a(r(Object.assign({name:"sn-form-item"},{__name:"sn-form-item",props:{type:{type:String,default:""},field:{type:String,default:""},rule:{type:Object,default:()=>new l({})},label:{type:String,default:""},labelColor:{type:String,default:""},labelSize:{type:String,default:""},labelWidth:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(a,r){var l=r.expose;const N=s.utils,q=s.colors,C=S(),I=a,O=n(!0),$=n("ã€€"),L=i("type",n("embed")),M=i("labelColor",o((()=>q.value.textLight))),P=i("labelSize",o((()=>s.configs.font.size(3)))),A=i("showBorder",n(!1)),E=i("showError",n(!0)),B=o((()=>f("other",I.type,L.value))),J=o((()=>{var e;return null!==(e=I.rule.required)&&void 0!==e&&e})),Q=o((()=>f("color",I.labelColor,M.value))),T=o((()=>f("font",I.labelSize,P.value))),U=o((()=>{const e=new Map;return"float"==B.value?(e.set("padding","10px 15px"),e.set("background",q.value.infoLight),e.set("border-radius",s.configs.radius.circle)):(e.set("padding","0px"),e.set("background",q.value.transparent),e.set("border-radius","")),e.set("transition-duration",s.configs.aniTime.normal),e})),W=o((()=>{const e=new Map;return e.set("width",I.labelWidth),e}));return l({verify:function(e=null,a){return function(e,a,s,r,l=null,n){let i=r,o=i.type,u=!0,c=i.message,m=!1;if("string"==typeof l?""==l&&(m=!0):Array.isArray(l)&&0==l.length&&(m=!0),null!=i.transform&&(l=i.transform(l)),null!=i.valid){let e=i.valid(l);u=""==e.trim(),c=u?c:e}if(null!=i.pattern&&"string"==typeof l&&(i.pattern.test(l)||(u=!1)),1==i.required&&"string"==typeof l&&z.isEmpty(l)&&(u=!1),null!=o){let e=function(e){typeof l!=e&&(u=!1)};switch(o){case"string":e("string");break;case"number":z.isNumber(l)||(u=!1);break;case"boolean":e("boolean");break;case"object":e("object");break;case"array":e("array");break;case"integer":z.isNumber(l)&&z.isInteger(l)||(u=!1);break;case"float":z.isNumber(l)&&z.isFloat(l)||(u=!1);break;case"enum":null==i.enum||i.enum.includes(l)||(u=!1);break;case"url":m||z.isURL(l)||(u=!1);break;case"email":m||z.isEmail(l)||(u=!1);break;case"idcard":m||z.isIDCard(l)||(u=!1);break;case"phone":m||z.isPhone(l)||(u=!1);break;case"landline":m||z.isLandline(l)||(u=!1);break;case"qqnumber":m||z.isQQNumber(l)||(u=!1);break;case"abc":m||z.isAbc(l)||(u=!1);break;case"chinese":m||z.isChinese(l)||(u=!1);break;case"carnumber":m||z.isCarNumber(l)||(u=!1);break;case"ipv4":m||z.isIPv4(l)||(u=!1);break;case"ipv6":m||z.isIPv6(l)||(u=!1)}}"string"==typeof l&&(null!=i.min&&l.length<i.min&&(u=!1),null!=i.max&&l.length>i.max&&(u=!1),null!=i.len&&(u=l.length==i.len)),z.isNumber(l)&&(null!=i.min&&l<i.min&&(u=!1),null!=i.max&&l>i.max&&(u=!1)),e.value=u,a.value=null!=c?c:"",n(new t({message:c,valid:u,field:s}))}(O,$,I.field,I.rule,e,a)}}),u((()=>{!function(){let e=C.proxy,a=N.findParent(e,["sn-form"]),s=new p({field:I.field,instance:e});null!=a&&a.$callMethod("register",s)}()})),(s=null,t=null)=>{const r=_(c("sn-text"),e),l=y,n=_(c("sn-alert"),j),i=_(c("sn-line"),w);return g(),m(l,{class:"sn-form-item",style:d([a.customStyle])},{default:b((()=>[k(l,{class:"sn-form-item-body",style:d(v(U))},{default:b((()=>[k(l,{class:"sn-form-item-label",style:d(v(W))},{default:b((()=>[v(J)?(g(),m(r,{key:0,class:"sn-form-item-label-required",text:"*",color:"$error",size:v(T)},null,8,["size"])):x("",!0),k(r,{text:a.label,color:v(Q),size:v(T)},null,8,["text","color","size"])])),_:1},8,["style"]),k(l,{class:"sn-form-item-content"},{default:b((()=>[h(s.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["style"]),v(E)&&!v(O)?h(s.$slots,"error",{key:0},(()=>[k(n,{type:"error",class:"sn-form-item-error",text:v($)},null,8,["text"])]),!0):x("",!0),v(A)&&"embed"==v(B)?(g(),m(i,{key:1,margin:"15px 0 0 0"})):x("",!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-02c4833c"]]);export{N as _};
