import{d as e,R as l,$ as t,T as s,r as a,c as o,C as n,w as u,e as r,f as i,p as c,x as d,ak as f,_ as p,b,z as m}from"./index-DYMgrqHp.js";const y=e(Object.assign({name:"sn-form"},{__name:"sn-form",props:l(new UTSJSONObject({type:{type:String,default:"embed"},showError:{type:Boolean,default:!0},labelColor:{type:String,default:""},labelSize:{type:String,default:""},labelWidth:{type:String,default:"auto"},showBorder:{type:Boolean,default:!0},triggerChange:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})}}),new UTSJSONObject({modelValue:{type:Object,default:new UTSJSONObject({})},modelModifiers:{}})),emits:l(["submited","change"],["update:modelValue"]),setup(e,l){var y=l.expose,S=l.emit;t.utils;const h=t.colors,g=S,w=s(e,"modelValue"),O=e,v=a([]),j=a([]),B=o((()=>["embed","float"].includes(O.type)?O.type:"embed")),C=o((()=>d("color",O.labelColor,h.value.textLight))),T=o((()=>d("font",O.labelSize,t.configs.font.size(3)))),x=o((()=>O.showBorder)),z=o((()=>O.showError));function U(e){let l=!0,t=[];v.value.forEach((e=>{let s=e.field,a=w.value[s];if(null!=a){null!=UTS.arrayFind(v.value,(e=>e.field==s))&&e.instance.$callMethod("verify",a,(e=>{e.valid||(l=!1,t.push(e))}))}else l=!1})),l?null!=e.success&&e.success():null!=e.fail&&e.fail(t)}return n("type",B),n("labelColor",C),n("labelSize",T),n("showBorder",x),n("showError",z),y({submit:function(e){U(new f({success:()=>{null!=e.success&&(g("submited"),e.success())},fail:l=>{null!=e.fail&&e.fail(l)}}))},register:function(e){v.value.push(e),j.value.push(e.instance)}}),u(w,(e=>{g("change",e),O.triggerChange&&U(new f({}))}),{deep:!0}),(l=null,t=null)=>{const s=p;return b(),r(s,{class:"sn-form",style:c([e.customStyle])},{default:i((()=>[m(l.$slots,"default")])),_:3},8,["style"])}}}));export{y as _};
