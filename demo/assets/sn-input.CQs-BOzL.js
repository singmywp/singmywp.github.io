import{a as e,d as t,c as o}from"./sn-button.DCeBN0oM.js";import{d as l,$ as a,r as n,c as s,a as r,b as i,e as u,p as d,q as c,u as p,z as f,j as y,o as m,f as g,t as S,v as b,a8 as x}from"./index-BDGnenFq.js";import{r as h}from"./uni-app.es.BfR9KIrQ.js";const v=o(l(Object.assign({name:"sn-input"},{__name:"sn-input",props:{modelValue:{type:String,default:""},name:{type:String,default:""},showBorder:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},borderColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},iconColor:{type:String,default:""},activeBorderColor:{type:String,default:""},cursor:{type:Number,default:0},cursorColor:{type:String,default:""},cursorSpacing:{type:Number,default:0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},type:{type:String,default:"text"},password:{type:Boolean,default:!1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},inputmode:{type:String,default:"text"},autoFocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},borderRadius:{type:String,default:""},borderWidth:{type:String,default:"2px"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},iconSize:{type:String,default:""},padding:{type:String,default:"8px 13px"},maxlength:{type:Number,default:-1},textSize:{type:String,default:""},textFont:{type:String,default:""},textColor:{type:String,default:""},align:{type:String,default:"left"},customPrefixIconStyle:{type:Object,default:new UTSJSONObject({})},customSuffixIconStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","input","confirm","blur","focus","keyboardheightchange","prefix-click","suffix-click"],setup(o,l){var v=l.emit;const C=a.colors,w=a.utils,B=v,j=o,k=w.randomComId(),z=n(!1),I=s({get:()=>j.modelValue,set:e=>{B("update:modelValue",e)}}),O=s((()=>a.store.get("sn-input:FocusId")==k)),_=s((()=>a.configs.app.theme)),T=s((()=>!w.isEmpty(j.prefixIcon))),F=s((()=>!w.isEmpty(j.suffixIcon))),N=s((()=>!w.isEmpty(I.value))),E=s((()=>f("color",j.textColor,C.value.text))),J=s((()=>f("color",j.borderColor,C.value.line))),P=s((()=>f("color",j.bgColor,C.value.front))),U=s((()=>f("color",j.activeBgColor,C.value.front))),H=s((()=>f("color",j.disabledBgColor,C.value.disabled))),M=s((()=>f("color",j.disabledTextColor,C.value.disabledText))),R=s((()=>f("color",j.iconColor,C.value.text))),V=s((()=>f("color",j.activeBorderColor,C.value.primary))),A=s((()=>f("font",j.iconSize,a.configs.font.size(4)))),K=s((()=>f("radius",j.borderRadius,a.configs.radius.small))),$=s((()=>f("font",j.textSize,a.configs.font.baseSize))),W=s((()=>{let e=new Map;return e.set("border-radius",K.value),e})),q=s((()=>{let e=new Map;return e.set("border-radius",K.value),e.set("padding",j.padding),e.set("background",j.disabled?H.value:O.value?U.value:P.value),j.showBorder&&(e.set("border-style","solid"),e.set("border-width",j.borderWidth),e.set("border-color",j.showActiveBorder&&O.value?V.value:J.value)),e.set("transition-duration",a.configs.aniTime.normal),e})),D=s((()=>{let e=new Map;return e.set("fontSize",$.value),e.set("textAlign",j.align),e.set("fontFamily",j.textFont),e.set("color",j.disabled?M.value:E.value),e.set("transition-duration",a.configs.aniTime.normal),e})),G=s((()=>{let e=new Map;return e.set("transform","scale(".concat(N.value?1:0,")")),e.set("transition-duration",a.configs.aniTime.normal),e}));function L(){I.value=""}function Q(e){I.value=e.detail.value,B("input",e)}function X(e){a.store.set("sn-input:FocusId",k),B("focus",e)}function Y(e){a.store.set("sn-input:FocusId",""),B("blur",e)}function Z(e){a.store.set("sn-input:FocusId",""),B("confirm",e)}function ee(e){B("keyboardheightchange",e)}function te(){B("suffix-click")}function oe(){B("prefix-click")}return(l=null,a=null)=>{const n=h(r("sn-icon"),e),s=x,f=h(r("sn-loading"),t),v=y;return m(),i(v,{class:d(["sn-input-contain",new UTSJSONObject({disabled:o.disabled,loading:o.loading})]),style:c([p(W),o.customContainStyle])},{default:u((()=>[g(v,{class:"sn-input",ref:"sn-input",style:c(p(q))},{default:u((()=>[S(l.$slots,"prefix",{},(()=>[p(T)?(m(),i(n,{key:0,class:"sn-input__prefixIcon",name:o.prefixIcon,color:p(R),size:p(A),"custom-style":o.customPrefixIconStyle,onClick:oe,style:c([new UTSJSONObject({marginRight:"10px"})])},null,8,["name","color","size","custom-style"])):b("",!0)]),!0),g(s,{class:"sn-input__input",name:o.name,value:p(I),autoFocus:o.autoFocus,type:"password"!=o.type?o.type:"text",cursorColor:o.cursorColor,confirmType:o.confirmType,focus:o.focus,adjustPosition:o.adjustPosition,cursor:o.cursor,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd,"hold-keyboard":o.holdKeyboard,cursorSpacing:o.cursorSpacing,confirmHold:o.confirmHold,disabled:o.disabled||o.readonly,inputmode:o.inputmode,maxlength:o.maxlength,password:o.password&&!p(z),placeholder:o.placeholder,placeholderStyle:o.placeholderStyle,placeholderClass:o.placeholderClass,onInput:Q,onKeyboardheightchange:ee,onFocus:X,onBlur:Y,onConfirm:Z,style:c([p(D),o.customStyle])},null,8,["name","value","autoFocus","type","cursorColor","confirmType","focus","adjustPosition","cursor","selectionStart","selectionEnd","hold-keyboard","cursorSpacing","confirmHold","disabled","inputmode","maxlength","password","placeholder","placeholderStyle","placeholderClass","style"]),S(l.$slots,"suffix",{},(()=>[p(F)?(m(),i(n,{key:0,class:"sn-input__suffixIcon",name:o.suffixIcon,color:p(R),size:p(A),"custom-style":o.customSuffixIconStyle,onClick:te,style:c([new UTSJSONObject({marginRight:"5px"})])},null,8,["name","color","size","custom-style"])):b("",!0)]),!0),o.loading?(m(),i(f,{key:0,class:"sn-input__loading",iconSize:p(A),iconColor:p(R)},null,8,["iconSize","iconColor"])):b("",!0),o.clearable?(m(),i(n,{key:1,class:"sn-input__clearBtn",name:"close-circle-fill",size:p(A),color:p(C)["light"==p(_)?"infoDark":"dark"],onClick:L,style:c(p(G))},null,8,["size","color","style"])):b("",!0),o.password?(m(),i(n,{key:2,class:"sn-input__viewPwd",name:p(z)?"eye-fill":"eye-off-fill",color:p(C)[p(z)?"primary":"info"],size:p(A),onClick:a[0]||(a[0]=(e=null)=>z.value=!p(z))},null,8,["name","color","size"])):b("",!0)])),_:3},8,["style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-1f31af66"]]);export{v as _};
