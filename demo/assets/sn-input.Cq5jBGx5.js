import{_ as e,b as t}from"./sn-text.euomPoe8.js";import{d as o,R as l,$ as n,T as a,r as s,c as r,a as i,e as u,f as c,m as d,p,u as f,x as y,_ as m,b as g,g as S,z as b,B as x,aj as h}from"./index-DYMgrqHp.js";import{r as v}from"./uni-app.es.DgDfNdgy.js";import{_ as C}from"./sn-loading.t5otRKvs.js";const w=t(o(Object.assign({name:"sn-input"},{__name:"sn-input",props:l(new UTSJSONObject({name:{type:String,default:""},showBorder:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},borderColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},iconColor:{type:String,default:""},activeBorderColor:{type:String,default:""},cursor:{type:Number,default:0},cursorColor:{type:String,default:""},cursorSpacing:{type:Number,default:0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},type:{type:String,default:"text"},password:{type:Boolean,default:!1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},inputmode:{type:String,default:"text"},autoFocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},borderRadius:{type:String,default:""},borderWidth:{type:String,default:"2px"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},iconSize:{type:String,default:""},padding:{type:String,default:"8px 13px"},maxlength:{type:Number,default:-1},textSize:{type:String,default:""},textFont:{type:String,default:""},textColor:{type:String,default:""},align:{type:String,default:"left"},customPrefixIconStyle:{type:Object,default:new UTSJSONObject({})},customSuffixIconStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}}),new UTSJSONObject({modelValue:{type:String,default:""},modelModifiers:{}})),emits:l(["input","confirm","blur","focus","keyboardheightchange","prefix-click","suffix-click"],["update:modelValue"]),setup(t,o){var l=o.emit;const w=n.colors,B=n.utils,j=l,O=a(t,"modelValue"),_=t,k=B.randomComId(),T=s(!1),I=r((()=>n.store.get("sn-input:FocusId")==k)),z=r((()=>n.configs.app.theme)),N=r((()=>!B.isEmpty(_.prefixIcon))),F=r((()=>!B.isEmpty(_.suffixIcon))),J=r((()=>!B.isEmpty(O.value))),U=r((()=>y("color",_.textColor,w.value.text))),E=r((()=>y("color",_.borderColor,w.value.line))),P=r((()=>y("color",_.bgColor,w.value.front))),M=r((()=>y("color",_.activeBgColor,w.value.front))),R=r((()=>y("color",_.disabledBgColor,w.value.disabled))),H=r((()=>y("color",_.disabledTextColor,w.value.disabledText))),A=r((()=>y("color",_.iconColor,w.value.text))),K=r((()=>y("color",_.activeBorderColor,w.value.primary))),V=r((()=>y("font",_.iconSize,n.configs.font.size(4)))),$=r((()=>y("radius",_.borderRadius,n.configs.radius.small))),W=r((()=>y("font",_.textSize,n.configs.font.baseSize))),D=r((()=>{const e=new Map;return e.set("border-radius",$.value),e})),q=r((()=>{const e=new Map;return e.set("border-radius",$.value),e.set("padding",_.padding),e.set("background",_.disabled?R.value:I.value?M.value:P.value),_.showBorder&&(e.set("border-style","solid"),e.set("border-width",_.borderWidth),e.set("border-color",_.showActiveBorder&&I.value?K.value:E.value)),e.set("transition-duration",n.configs.aniTime.normal),e})),G=r((()=>{const e=new Map;return e.set("fontSize",W.value),e.set("textAlign",_.align),e.set("fontFamily",_.textFont),e.set("color",_.disabled?H.value:U.value),e.set("transition-duration",n.configs.aniTime.normal),e})),L=r((()=>{const e=new Map;return e.set("transform","scale(".concat(J.value?1:0,")")),e.set("transition-duration",n.configs.aniTime.normal),e}));function Q(){O.value=""}function X(e){O.value=e.detail.value,j("input",e)}function Y(e){n.store.set("sn-input:FocusId",k),j("focus",e)}function Z(e){n.store.set("sn-input:FocusId",""),j("blur",e)}function ee(e){n.store.set("sn-input:FocusId",""),j("confirm",e)}function te(e){j("keyboardheightchange",e)}function oe(){j("suffix-click")}function le(){j("prefix-click")}return(o=null,l=null)=>{const n=v(i("sn-icon"),e),a=h,s=v(i("sn-loading"),C),r=m;return g(),u(r,{class:d(["sn-input-contain",new UTSJSONObject({disabled:t.disabled,loading:t.loading})]),style:p([f(D),t.customContainStyle])},{default:c((()=>[S(r,{class:"sn-input",ref:"sn-input",style:p(f(q))},{default:c((()=>[b(o.$slots,"prefix",{},(()=>[f(N)?(g(),u(n,{key:0,class:"sn-input__prefixIcon",name:t.prefixIcon,color:f(A),size:f(V),"custom-style":t.customPrefixIconStyle,onClick:le,style:p([new UTSJSONObject({marginRight:"10px"})])},null,8,["name","color","size","custom-style"])):x("",!0)]),!0),S(a,{class:"sn-input__input",name:t.name,value:O.value,autoFocus:t.autoFocus,type:"password"!=t.type?t.type:"text",cursorColor:t.cursorColor,confirmType:t.confirmType,focus:t.focus,adjustPosition:t.adjustPosition,cursor:t.cursor,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd,"hold-keyboard":t.holdKeyboard,cursorSpacing:t.cursorSpacing,confirmHold:t.confirmHold,disabled:t.disabled||t.readonly,inputmode:t.inputmode,maxlength:t.maxlength,password:t.password&&!f(T),placeholder:t.placeholder,placeholderStyle:t.placeholderStyle,placeholderClass:t.placeholderClass,onInput:X,onKeyboardheightchange:te,onFocus:Y,onBlur:Z,onConfirm:ee,style:p([f(G),t.customStyle])},null,8,["name","value","autoFocus","type","cursorColor","confirmType","focus","adjustPosition","cursor","selectionStart","selectionEnd","hold-keyboard","cursorSpacing","confirmHold","disabled","inputmode","maxlength","password","placeholder","placeholderStyle","placeholderClass","style"]),b(o.$slots,"suffix",{},(()=>[f(F)?(g(),u(n,{key:0,class:"sn-input__suffixIcon",name:t.suffixIcon,color:f(A),size:f(V),"custom-style":t.customSuffixIconStyle,onClick:oe,style:p([new UTSJSONObject({marginRight:"5px"})])},null,8,["name","color","size","custom-style"])):x("",!0)]),!0),t.loading?(g(),u(s,{key:0,class:"sn-input__loading",iconSize:f(V),iconColor:f(A)},null,8,["iconSize","iconColor"])):x("",!0),t.clearable?(g(),u(n,{key:1,class:"sn-input__clearBtn",name:"close-circle-fill",size:f(V),color:f(w)["light"==f(z)?"infoDark":"dark"],onClick:Q,style:p(f(L))},null,8,["size","color","style"])):x("",!0),t.password?(g(),u(n,{key:2,class:"sn-input__viewPwd",name:f(T)?"eye-fill":"eye-off-fill",color:f(w)[f(T)?"primary":"info"],size:f(V),onClick:l[0]||(l[0]=(e=null)=>T.value=!f(T))},null,8,["name","color","size"])):x("",!0)])),_:3},8,["style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-860c9f11"]]);export{w as _};
