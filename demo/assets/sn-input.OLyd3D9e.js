import{a as e,d as t,c as o}from"./sn-button.CJ0ZsVkl.js";import{d as l,r as a,c as n,b as r,e as s,f as i,m as u,u as d,p as c,o as p,g as f,t as y,v as m,a6 as g}from"./index-D82xabMX.js";import{$ as S,r as b}from"./uni-app.es.Cv0ss-rw.js";const x=o(l(Object.assign({name:"sn-input"},{__name:"sn-input",props:{modelValue:{type:String,default:""},name:{type:String,default:""},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},iconColor:{type:String,default:""},activeBorderColor:{type:String,default:""},cursor:{type:Number,default:0},cursorColor:{type:String,default:""},cursorSpacing:{type:Number,default:0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},type:{type:String,default:"text"},password:{type:Boolean,default:!1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},inputmode:{type:String,default:"text"},autoFocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},borderRadius:{type:String,default:""},borderWidth:{type:String,default:"2px"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},iconSize:{type:String,default:""},padding:{type:String,default:"8px 13px"},maxlength:{type:Number,default:-1},textSize:{type:String,default:""},textFont:{type:String,default:""},textColor:{type:String,default:""},align:{type:String,default:"flex-start"},customPrefixIconStyle:{type:Object,default:{}},customSuffixIconStyle:{type:Object,default:{}},customContainStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["update:modelValue","input","confirm","blur","focus","keyboardheightchange","prefix-click","suffix-click"],setup(o,l){var x=l.emit;const C=S.colors,h=S.utils,v=x,B=o,k=h.randomComId(),w=a(!1),z=n({get:()=>B.modelValue,set:e=>{v("update:modelValue",e)}}),I=n((()=>S.store.get("sn-input:FocusId")==k)),_=n((()=>S.configs.app.theme)),j=n((()=>!h.isEmpty(B.prefixIcon))),T=n((()=>!h.isEmpty(B.suffixIcon))),F=n((()=>!h.isEmpty(z.value))),O=n((()=>""==B.textColor?C.value.text:B.textColor)),N=n((()=>""==B.borderColor?C.value.line:B.borderColor)),E=n((()=>""==B.bgColor?C.value.front:B.bgColor)),P=n((()=>""==B.activeBgColor?C.value.front:B.activeBgColor)),R=n((()=>""==B.disabledBgColor?C.value.disabled:B.disabledBgColor)),H=n((()=>""==B.disabledTextColor?C.value.disabledText:B.disabledTextColor)),V=n((()=>""==B.iconColor?C.value.text:B.iconColor)),A=n((()=>""==B.activeBorderColor?C.value.primary:B.activeBorderColor)),J=n((()=>""==B.iconSize?S.configs.font.size(4):B.iconSize)),K=n((()=>""==B.borderRadius?S.configs.radius.small:B.borderRadius)),M=n((()=>""==B.textSize?S.configs.font.baseSize:B.textSize)),U=n((()=>{let e=new Map;return e.set("border-radius",K.value),e.set("padding",B.padding),e.set("background",B.disabled?R.value:I.value?P.value:E.value),B.showBorder&&(e.set("border-style","solid"),e.set("border-width",B.borderWidth),e.set("border-color",B.showActiveBorder&&I.value?A.value:N.value)),e.set("transition-duration",S.configs.aniTime.normal),e})),$=n((()=>{let e=new Map;return e.set("fontSize",M.value),e.set("textAlign",B.align),e.set("fontFamily",B.textFont),e.set("color",B.disabled?H.value:O.value),e.set("transition-duration",S.configs.aniTime.normal),e})),W=n((()=>{let e=new Map;return e.set("transform","scale(".concat(F.value?1:0,")")),e.set("transition-duration",S.configs.aniTime.normal),e}));function D(){z.value=""}function q(e){z.value=e.detail.value,v("input",e)}function G(e){S.store.set("sn-input:FocusId",k),v("focus",e)}function L(e){S.store.set("sn-input:FocusId",""),v("blur",e)}function Q(e){S.store.set("sn-input:FocusId",""),v("confirm",e)}function X(e){v("keyboardheightchange",e)}function Y(){v("suffix-click")}function Z(){v("prefix-click")}return(l=null,a=null)=>{const n=b(r("sn-icon"),e),S=g,x=b(r("sn-loading"),t),h=c;return p(),s(h,{class:"sn-input-contain",style:u([new UTSJSONObject({borderRadius:d(K)}),o.customContainStyle])},{default:i((()=>[f(h,{class:"sn-input",ref:"sn-input",style:u(d(U))},{default:i((()=>[y(l.$slots,"prefix",{},(()=>[d(j)?(p(),s(n,{key:0,class:"sn-input__prefixIcon",name:o.prefixIcon,color:d(V),size:d(J),"custom-style":o.customPrefixIconStyle,onClick:Z,style:u([new UTSJSONObject({marginRight:"10px"})])},null,8,["name","color","size","custom-style"])):m("",!0)]),!0),f(S,{class:"sn-input__input",name:o.name,value:d(z),autoFocus:o.autoFocus,type:"password"!=o.type?o.type:"text",cursorColor:o.cursorColor,confirmType:o.confirmType,focus:o.focus,adjustPosition:o.adjustPosition,cursor:o.cursor,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd,"hold-keyboard":o.holdKeyboard,cursorSpacing:o.cursorSpacing,confirmHold:o.confirmHold,disabled:o.disabled||o.readonly,inputmode:o.inputmode,maxlength:o.maxlength,password:o.password&&!d(w),placeholder:o.placeholder,placeholderStyle:o.placeholderStyle,placeholderClass:o.placeholderClass,onInput:q,onKeyboardheightchange:X,onFocus:G,onBlur:L,onConfirm:Q,style:u([d($),o.customStyle])},null,8,["name","value","autoFocus","type","cursorColor","confirmType","focus","adjustPosition","cursor","selectionStart","selectionEnd","hold-keyboard","cursorSpacing","confirmHold","disabled","inputmode","maxlength","password","placeholder","placeholderStyle","placeholderClass","style"]),y(l.$slots,"suffix",{},(()=>[d(T)?(p(),s(n,{key:0,class:"sn-input__suffixIcon",name:o.suffixIcon,color:d(V),size:d(J),"custom-style":o.customSuffixIconStyle,onClick:Y,style:u([new UTSJSONObject({marginRight:"5px"})])},null,8,["name","color","size","custom-style"])):m("",!0)]),!0),o.loading?(p(),s(x,{key:0,class:"sn-input__loading",iconSize:d(J),iconColor:d(V)},null,8,["iconSize","iconColor"])):m("",!0),o.clearable?(p(),s(n,{key:1,class:"sn-input__clearBtn",name:"close-circle-fill",size:d(J),color:d(C)["light"==d(_)?"infoDark":"dark"],onClick:D,style:u(d(W))},null,8,["size","color","style"])):m("",!0),o.password?(p(),s(n,{key:2,class:"sn-input__viewPwd",name:d(w)?"eye-fill":"eye-off-fill",color:d(C)[d(w)?"primary":"info"],size:d(J),onClick:a[0]||(a[0]=(e=null)=>w.value=!d(w))},null,8,["name","color","size"])):m("",!0)])),_:3},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-e905e08e"]]);export{x as _};
