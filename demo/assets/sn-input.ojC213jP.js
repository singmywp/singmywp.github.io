import{a as e,d as t,c as o}from"./sn-button.BaZjRh9m.js";import{d as l,r as a,c as n,b as s,e as r,f as i,p as u,q as d,u as c,k as p,o as f,g as y,t as m,v as g,a6 as S}from"./index-DNTc1GxZ.js";import{$ as b,r as x}from"./uni-app.es.D9ZkitmT.js";const C=o(l(Object.assign({name:"sn-input"},{__name:"sn-input",props:{modelValue:{type:String,default:""},name:{type:String,default:""},showBorder:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},borderColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},iconColor:{type:String,default:""},activeBorderColor:{type:String,default:""},cursor:{type:Number,default:0},cursorColor:{type:String,default:""},cursorSpacing:{type:Number,default:0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},type:{type:String,default:"text"},password:{type:Boolean,default:!1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},confirmType:{type:String,default:"done"},inputmode:{type:String,default:"text"},autoFocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},borderRadius:{type:String,default:""},borderWidth:{type:String,default:"2px"},prefixIcon:{type:String,default:""},suffixIcon:{type:String,default:""},iconSize:{type:String,default:""},padding:{type:String,default:"8px 13px"},maxlength:{type:Number,default:-1},textSize:{type:String,default:""},textFont:{type:String,default:""},textColor:{type:String,default:""},align:{type:String,default:"flex-start"},customPrefixIconStyle:{type:Object,default:{}},customSuffixIconStyle:{type:Object,default:{}},customContainStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["update:modelValue","input","confirm","blur","focus","keyboardheightchange","prefix-click","suffix-click"],setup(o,l){var C=l.emit;const h=b.colors,v=b.utils,B=C,k=o,w=v.randomComId(),z=a(!1),I=n({get:()=>k.modelValue,set:e=>{B("update:modelValue",e)}}),_=n((()=>b.store.get("sn-input:FocusId")==w)),j=n((()=>b.configs.app.theme)),T=n((()=>!v.isEmpty(k.prefixIcon))),F=n((()=>!v.isEmpty(k.suffixIcon))),O=n((()=>!v.isEmpty(I.value))),N=n((()=>""==k.textColor?h.value.text:k.textColor)),E=n((()=>""==k.borderColor?h.value.line:k.borderColor)),P=n((()=>""==k.bgColor?h.value.front:k.bgColor)),R=n((()=>""==k.activeBgColor?h.value.front:k.activeBgColor)),H=n((()=>""==k.disabledBgColor?h.value.disabled:k.disabledBgColor)),M=n((()=>""==k.disabledTextColor?h.value.disabledText:k.disabledTextColor)),V=n((()=>""==k.iconColor?h.value.text:k.iconColor)),A=n((()=>""==k.activeBorderColor?h.value.primary:k.activeBorderColor)),J=n((()=>""==k.iconSize?b.configs.font.size(4):k.iconSize)),K=n((()=>""==k.borderRadius?b.configs.radius.small:k.borderRadius)),U=n((()=>""==k.textSize?b.configs.font.baseSize:k.textSize)),$=n((()=>{let e=new Map;return e.set("border-radius",K.value),e})),W=n((()=>{let e=new Map;return e.set("border-radius",K.value),e.set("padding",k.padding),e.set("background",k.disabled?H.value:_.value?R.value:P.value),k.showBorder&&(e.set("border-style","solid"),e.set("border-width",k.borderWidth),e.set("border-color",k.showActiveBorder&&_.value?A.value:E.value)),e.set("transition-duration",b.configs.aniTime.normal),e})),q=n((()=>{let e=new Map;return e.set("fontSize",U.value),e.set("textAlign",k.align),e.set("fontFamily",k.textFont),e.set("color",k.disabled?M.value:N.value),e.set("transition-duration",b.configs.aniTime.normal),e})),D=n((()=>{let e=new Map;return e.set("transform","scale(".concat(O.value?1:0,")")),e.set("transition-duration",b.configs.aniTime.normal),e}));function G(){I.value=""}function L(e){I.value=e.detail.value,B("input",e)}function Q(e){b.store.set("sn-input:FocusId",w),B("focus",e)}function X(e){b.store.set("sn-input:FocusId",""),B("blur",e)}function Y(e){b.store.set("sn-input:FocusId",""),B("confirm",e)}function Z(e){B("keyboardheightchange",e)}function ee(){B("suffix-click")}function te(){B("prefix-click")}return(l=null,a=null)=>{const n=x(s("sn-icon"),e),b=S,C=x(s("sn-loading"),t),v=p;return f(),r(v,{class:u(["sn-input-contain",new UTSJSONObject({disabled:o.disabled,loading:o.loading})]),style:d([c($),o.customContainStyle])},{default:i((()=>[y(v,{class:"sn-input",ref:"sn-input",style:d(c(W))},{default:i((()=>[m(l.$slots,"prefix",{},(()=>[c(T)?(f(),r(n,{key:0,class:"sn-input__prefixIcon",name:o.prefixIcon,color:c(V),size:c(J),"custom-style":o.customPrefixIconStyle,onClick:te,style:d([new UTSJSONObject({marginRight:"10px"})])},null,8,["name","color","size","custom-style"])):g("",!0)]),!0),y(b,{class:"sn-input__input",name:o.name,value:c(I),autoFocus:o.autoFocus,type:"password"!=o.type?o.type:"text",cursorColor:o.cursorColor,confirmType:o.confirmType,focus:o.focus,adjustPosition:o.adjustPosition,cursor:o.cursor,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd,"hold-keyboard":o.holdKeyboard,cursorSpacing:o.cursorSpacing,confirmHold:o.confirmHold,disabled:o.disabled||o.readonly,inputmode:o.inputmode,maxlength:o.maxlength,password:o.password&&!c(z),placeholder:o.placeholder,placeholderStyle:o.placeholderStyle,placeholderClass:o.placeholderClass,onInput:L,onKeyboardheightchange:Z,onFocus:Q,onBlur:X,onConfirm:Y,style:d([c(q),o.customStyle])},null,8,["name","value","autoFocus","type","cursorColor","confirmType","focus","adjustPosition","cursor","selectionStart","selectionEnd","hold-keyboard","cursorSpacing","confirmHold","disabled","inputmode","maxlength","password","placeholder","placeholderStyle","placeholderClass","style"]),m(l.$slots,"suffix",{},(()=>[c(F)?(f(),r(n,{key:0,class:"sn-input__suffixIcon",name:o.suffixIcon,color:c(V),size:c(J),"custom-style":o.customSuffixIconStyle,onClick:ee,style:d([new UTSJSONObject({marginRight:"5px"})])},null,8,["name","color","size","custom-style"])):g("",!0)]),!0),o.loading?(f(),r(C,{key:0,class:"sn-input__loading",iconSize:c(J),iconColor:c(V)},null,8,["iconSize","iconColor"])):g("",!0),o.clearable?(f(),r(n,{key:1,class:"sn-input__clearBtn",name:"close-circle-fill",size:c(J),color:c(h)["light"==c(j)?"infoDark":"dark"],onClick:G,style:d(c(D))},null,8,["size","color","style"])):g("",!0),o.password?(f(),r(n,{key:2,class:"sn-input__viewPwd",name:c(z)?"eye-fill":"eye-off-fill",color:c(h)[c(z)?"primary":"info"],size:c(J),onClick:a[0]||(a[0]=(e=null)=>z.value=!c(z))},null,8,["name","color","size"])):g("",!0)])),_:3},8,["style"])])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-e0c28ff6"]]);export{C as _};
