import{d as e,t,$ as l,r as s,c as o,o as a,n as i,a as n,e as r,f as u,p as c,u as d,x as y,_ as f,b as p,g as m,z as S,B as g,q as v,C as b,y as x}from"./index-DYMgrqHp.js";import{_ as O}from"./sn-avatar.agEpuNt-.js";import{r as h}from"./uni-app.es.DgDfNdgy.js";import{_ as w,a as j,b as T}from"./sn-text.euomPoe8.js";import{_ as z}from"./sn-line.BnKikEoE.js";import{u as C}from"./useResize.Cfi37DcV.js";const _=T(e(Object.assign({name:"sn-list-item"},{__name:"sn-list-item",props:{ellipsis:{type:Number,default:0},disabled:{type:Boolean,default:!1},title:{type:String,default:""},titleSize:{type:String,default:""},titleColor:{type:String,default:""},note:{type:String,default:""},noteSize:{type:String,default:""},noteColor:{type:String,default:""},rightText:{type:String,default:""},rightTextSize:{type:String,default:""},rightTextColor:{type:String,default:""},avatarConfig:{type:Object,default:new t({})},icon:{type:String,default:""},iconSize:{type:String,default:""},iconColor:{type:String,default:""},showArrow:{type:Boolean,default:!1},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},padding:{type:String,default:"13px 15px"},customTitleStyle:{type:Object,default:new UTSJSONObject({})},customNoteStyle:{type:Object,default:new UTSJSONObject({})},customRightTextStyle:{type:Object,default:new UTSJSONObject({})},customAvatarStyle:{type:Object,default:new UTSJSONObject({})},customIconStyle:{type:Object,default:new UTSJSONObject({})},customBodyStyle:{type:Object,default:new UTSJSONObject({})},customHeaderStyle:{type:Object,default:new UTSJSONObject({})},customFooterStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["click"],setup(e,t){var b=t.expose,x=t.emit;const T=l.colors,_=l.utils,N=v(),B=x,k=e;_.randomComId();const J=s(!1),U=s(null),R=s(0),$=s(!1),M=o((()=>y("color",k.titleColor,T.value.title))),E=o((()=>y("color",k.noteColor,T.value.textLight))),I=o((()=>y("color",k.rightTextColor,T.value.textLight))),A=o((()=>y("color",k.iconColor,T.value.title))),L=o((()=>y("color",k.disabledBgColor,T.value.disabled))),F=o((()=>y("color",k.disabledTextColor,T.value.disabledText))),H=o((()=>y("color",k.activeBgColor,T.value.info))),P=o((()=>{let e=y("color",k.bgColor,T.value.transparent);return k.disabled?L.value:J.value?H.value:e})),q=o((()=>{var e,t;return!_.isEmpty(null!==(t=null===(e=k.avatarConfig)||void 0===e?void 0:e.src)&&void 0!==t?t:"")})),X=o((()=>!q.value&&!_.isEmpty(k.icon))),D=o((()=>y("font",k.titleSize,l.configs.font.size(2)))),G=o((()=>y("font",k.noteSize,l.configs.font.size(1)))),K=o((()=>y("font",k.rightTextSize,l.configs.font.size(1)))),Q=o((()=>y("font",k.iconSize,l.configs.font.size(4)))),V=o((()=>{const e=new Map;return e.set("background",P.value),e.set("transition-duration",l.configs.aniTime.normal),e})),W=o((()=>{const e=new Map;return e.set("padding",k.padding),e}));function Y(e){if(k.disabled)return null;B("click",{id:R.value,event:e})}function Z(){if(!$.value)return null}return b({setOrder:function(e,t){$.value=t,R.value=e,Z()}}),a((()=>{window.addEventListener("mouseup",(()=>{J.value=!1})),i((()=>{var e;let t=N.proxy;null===(e=_.findParent(t,["sn-list"]))||void 0===e||e.$callMethod("register",t)})),C(U.value,(()=>{Z()}))})),(t=null,l=null)=>{const s=f,o=h(n("sn-avatar"),O),a=h(n("sn-icon"),w),i=h(n("sn-text"),j),y=h(n("sn-line"),z);return p(),r(s,{class:"sn-list-item",ref_key:"itemEle",ref:U,onClick:Y,onMousedown:l[0]||(l[0]=(e=null)=>J.value=!0),onTouchstart:l[1]||(l[1]=(e=null)=>J.value=!0),onTouchend:l[2]||(l[2]=(e=null)=>J.value=!1),onTouchcancel:l[3]||(l[3]=(e=null)=>J.value=!1),style:c([d(V),e.customStyle])},{default:u((()=>[m(s,{class:"sn-list-item-web-wrap",style:c([d(W)])},{default:u((()=>[d(q)||d(X)||null!=t.$slots.header?(p(),r(s,{key:0,class:"sn-list-item-header",style:c([new UTSJSONObject({marginRight:d(q)||d(X)?"5px":""}),e.customHeaderStyle])},{default:u((()=>[S(t.$slots,"header",{},(()=>{var t,l,i,n,u,y;return[e.disabled&&d(q)?(p(),r(s,{key:0,class:"sn-list-item-avatar-overlay",style:c(new UTSJSONObject({width:null!==(t=e.avatarConfig.size)&&void 0!==t?t:"30px",height:null!==(l=e.avatarConfig.size)&&void 0!==l?l:"30px",borderRadius:null!==(i=e.avatarConfig.borderRadius)&&void 0!==i?i:"10px",background:d(L)}))},null,8,["style"])):g("",!0),d(q)?(p(),r(o,{key:1,size:null!==(n=e.avatarConfig.size)&&void 0!==n?n:"30px",src:null!==(u=e.avatarConfig.src)&&void 0!==u?u:"",borderRadius:null!==(y=e.avatarConfig.borderRadius)&&void 0!==y?y:"10px",customStyle:e.customAvatarStyle},null,8,["size","src","borderRadius","customStyle"])):g("",!0),d(X)?(p(),r(a,{key:2,name:e.icon,size:d(Q),color:e.disabled?d(F):d(A),customStyle:e.customIconStyle},null,8,["name","size","color","customStyle"])):g("",!0)]}),!0)])),_:3},8,["style"])):g("",!0),m(s,{class:"sn-list-item-body",style:c([e.customBodyStyle])},{default:u((()=>[S(t.$slots,"default",{},(()=>[m(i,{class:"sn-list-item-title",text:e.title,size:d(D),color:e.disabled?d(F):d(M),lines:0==e.ellipsis?-1:e.ellipsis,"custom-style":e.customTitleStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","lines","custom-style"]),m(i,{class:"sn-list-item-note",text:e.note,size:d(G),color:e.disabled?d(F):d(E),lines:0==e.ellipsis?-1:e.ellipsis,"custom-style":e.customNoteStyle,style:{textOverflow:"ellipsis"}},null,8,["text","size","color","lines","custom-style"])]),!0)])),_:3},8,["style"]),m(s,{class:"sn-list-item-footer",style:c([e.customFooterStyle])},{default:u((()=>[S(t.$slots,"footer",{},(()=>[m(i,{class:"sn-list-item-right-text",text:e.rightText,size:d(K),color:e.disabled?d(F):d(I),"custom-style":e.customRightTextStyle,style:{lines:1,textOverflow:"ellipsis"}},null,8,["text","size","color","custom-style"]),e.showArrow?(p(),r(a,{key:0,name:"arrow-right-s-line",size:"".concat(1.6*d(_).getPx(d(K)),"px"),color:e.disabled?d(F):d(I),customStyle:e.customRightTextStyle},null,8,["size","color","customStyle"])):g("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"]),d($)?(p(),r(y,{key:0,style:{margin:"0 auto",width:"calc(100% - 40px)"}})):g("",!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-abffc892"]]),N=T(e(Object.assign({name:"sn-list"},{__name:"sn-list",props:{showBorder:{type:Boolean,default:!0},bgColor:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(e,t){var n=t.expose;const m=l.colors;l.utils;const g=e,v=s([]),O=o((()=>g.showBorder));b("showBorder",O);const h=o((()=>y("color",g.bgColor,m.value.front))),w=o((()=>{const e=new Map;return e.set("background",h.value),e.set("border-radius",l.configs.radius.normal),e.set("transition-duration",l.configs.aniTime.normal),e}));function j(){if(!g.showBorder)return null;v.value.forEach(((e,t)=>{e.$callMethod("setOrder",t,t!=v.value.length-1)}))}return n({register:function(e){v.value.push(e)}}),a((()=>{i((()=>{i((()=>{j()}))}))})),x((()=>{i((()=>{j()}))})),(t=null,l=null)=>{const s=f;return p(),r(s,{class:"sn-list",style:c([d(w),e.customStyle])},{default:u((()=>[S(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-c557822f"]]);export{_,N as a};
