import{_ as e,a as t,b as a}from"./sn-text.euomPoe8.js";import{d as n,$ as s,r as l,c as o,w as i,o as r,n as c,a as u,e as d,f,m as y,p,x as m,_ as g,b as S,u as v,g as x,B as w,z as b}from"./index-DYMgrqHp.js";import{b as z,c as j,r as O}from"./uni-app.es.DgDfNdgy.js";const _=a(n(Object.assign({name:"sn-loading"},{__name:"sn-loading",props:{mode:{type:String,default:"icon"},text:{type:String,default:""},icon:{type:String,default:"loader-4-line"},iconColor:{type:String,default:""},iconSize:{type:String,default:""},textColor:{type:String,default:""},textSize:{type:String,default:""},vertical:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})},customLoadingStyle:{type:Object,default:new UTSJSONObject({})},customTextStyle:{type:Object,default:new UTSJSONObject({})}},setup(a){const n=s.colors,_=a;l(0),l(0);const h=l(null),T=l(0),k=l(0),C=l(0),I=o((()=>["icon","draw"].includes(_.mode)?_.mode:"icon")),J=o((()=>m("color",_.iconColor,n.value.primary))),L=o((()=>m("color",_.textColor,n.value.primaryDark))),N=o((()=>m("font",_.textSize,s.configs.font.size(3)))),U=o((()=>m("font",_.iconSize,s.configs.font.size(5)))),$=o((()=>{const e=new Map;return e.set("width",U.value),e.set("height",U.value),e})),B=o((()=>{const e=new Map;return e.set("padding","0px"),e.set("width","auto !important"),e.set("height","auto !important"),e.set("transform","rotate(".concat(360*k.value,"deg)")),e.set("transition-duration","1200ms"),e}));function M(e){k.value=e+1}function D(){clearInterval(T.value),c((()=>{}))}function E(){D(),c((()=>{}))}function H(){"draw"==I.value?c((()=>{E()})):"icon"==I.value&&c((()=>{setTimeout((()=>{M(0),C.value=setInterval((()=>{M(k.value)}),1200)}),10)}))}return i(I,((e,t)=>{if("draw"==e){if(e==t)return null;E()}else D()})),z((()=>{H()})),r((()=>{H()})),j((()=>{clearInterval(C.value),"draw"==I.value&&c((()=>{D()}))})),(n=null,s=null)=>{const l=O(u("sn-icon"),e),o=g,i=O(u("sn-text"),t);return S(),d(o,{class:y(["sn-loading",a.vertical?"sn-loading-vertical":""]),style:p([a.customStyle])},{default:f((()=>["icon"==v(I)?(S(),d(o,{key:0,class:"sn-loading-icon-loader",style:p([v(B),a.customLoadingStyle])},{default:f((()=>[x(l,{lineHeight:"1",name:a.icon,size:v(U),color:v(J)},null,8,["name","size","color"])])),_:1},8,["style"])):"draw"==v(I)?(S(),d(o,{key:1,class:"sn-loading-view","android-layer-type":"hardware",ref_key:"loadingEle",ref:h,style:p([v($),a.customLoadingStyle])},null,8,["style"])):w("",!0),b(n.$slots,"default",{},(()=>[null!=n.$slots.default||""!==a.text?(S(),d(i,{key:0,class:"sn-loading-text",text:a.text,size:v(N),color:v(L),style:p([a.customTextStyle])},null,8,["text","size","color","style"])):w("",!0)]),!0)])),_:3},8,["class","style"])}}})),[["__scopeId","data-v-1d6be095"]]);export{_};
