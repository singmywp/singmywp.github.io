import{d as e,$ as o,r as t,c as a,W as l,X as n,u as s,e as r,f as i,p as c,x as u,n as d,_ as v,b as y,z as p,B as f}from"./index-DYMgrqHp.js";import{b as m}from"./sn-text.euomPoe8.js";const g=m(e(Object.assign({name:"sn-overlay"},{__name:"sn-overlay",props:{maskClose:{type:Boolean,default:!0},renderMode:{type:String,default:"v-if"},opacity:{type:Number,default:.3},aniTime:{type:String,default:o.configs.aniTime.long},bgColor:{type:String,default:"#000"},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["clickMask","open","close"],setup(e,m){var g=m.expose;const b=m.emit,k=o.utils,C=e,_=t(!1),S=t(null),x=t(k.randomComId()),w=t(k.randomComId()),I=a((()=>{let e=u("color",C.bgColor,"#000"),t=o.libs.color.tinyColor(e),a=t.isValid?t.toRgb():o.libs.color.tinyColor("#000").toRgb();return[a.r,a.g,a.b]})),M=a((()=>u("aniTime",C.aniTime,o.configs.aniTime.long))),T=a((()=>"v-show"==C.renderMode?"v-show":"v-if")),h=a((()=>{const e=new Map;return e.set("zIndex",o.configs.zIndex.overlay),e})),j=a((()=>{const e=new Map;return e.set("transition-duration",M.value),e}));function O(e){d((()=>{k.throttle((()=>{var o,t,a,l;null===(t=null===(o=S.value)||void 0===o?void 0:o.style)||void 0===t||t.setProperty("background-color","rgba(".concat(I.value[0],", ").concat(I.value[1],", ").concat(I.value[2],", ").concat(C.opacity,")")),null===(l=null===(a=S.value)||void 0===a?void 0:a.style)||void 0===l||l.setProperty("opacity","".concat(e?1:0))}),20,w.value)}))}function z(){O(!1),k.throttle((()=>{_.value=!1,b("close")}),parseInt(M.value),x.value)}function B(){b("clickMask"),C.maskClose&&z()}return g({open:function(){_.value=!0,d((()=>{O(!0)})),b("open")},close:z}),(o=null,t=null)=>{const a=v;return l((y(),r(a,{class:"sn-overlay-contain",style:c(s(h))},{default:i((()=>["v-if"!=s(T)||s(_)?l((y(),r(a,{key:0,class:"sn-overlay",ref_key:"overlayEle",ref:S,style:c([s(j),e.customStyle]),onClick:B},{default:i((()=>[p(o.$slots,"default",{},void 0,!0)])),_:3},8,["style"])),[[n,"v-show"!=s(T)||s(_)]]):f("",!0)])),_:3},8,["style"])),[[n,s(_)]])}}})),[["__scopeId","data-v-df4ee0d8"]]);export{g as _};
