import{d as e,$ as t,r as a,c as l,w as n,aW as s,a as i,b as o,e as u,q as r,u as d,z as c,j as m,o as g,v as p,f as h,g as f,h as v,F as y,m as b,aZ as x,a_ as S}from"./index-BDGnenFq.js";import{b as k,c as w}from"./sn-button.DCeBN0oM.js";import{r as T}from"./uni-app.es.BfR9KIrQ.js";const j=w(e(Object.assign({name:"sn-picker-view"},{__name:"sn-picker-view",props:{modelValue:{type:Array,default:[]},data:{type:Array,default:[]},disabled:{type:Boolean,default:!1},height:{type:String,default:"250px"},itemHeight:{type:String,default:"50px"},itemBorderRadius:{type:String,default:""},itemTextColor:{type:String,default:""},itemTextSize:{type:String,default:""},activeItemTextColor:{type:String,default:""},disabledItemTextColor:{type:String,default:""},columnSpacing:{type:String,default:"10px"},customStyle:{type:Object,default:new UTSJSONObject({})},customItemStyle:{type:Object,default:new UTSJSONObject({})},customColumnStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change"],setup(e,w){var j=w.emit;const C=t.utils,O=t.colors,_=j,z=e;a("guangzhou");const I=a([]),V=a(!1);function H(e){if(e.length<z.data.length){let t=z.data.length-e.length;for(let a=0;a<t;a++)e.push(0)}else e.length>z.data.length&&(e=e.slice(0,z.data.length));return e}function B(e){b((()=>{I.value=C.deepClone(e)}))}l((()=>{let e=[];for(let t=0;t<z.data.length;t++)e.push(0);return e})),l((()=>{let e=[];for(let t=0;t<z.data.length;t++)e.push(z.data[t].length-1);return e}));const J=l({get:()=>z.modelValue,set:e=>{B(e=H(e)),_("update:modelValue",e),_("change",e)}});n(J,((e,t)=>{B(H(e))}));const M=l((()=>t.configs.app.theme));l((()=>C.getPx(z.itemHeight)));const N=l((()=>C.addPx(Math.max(0,C.getPx(z.columnSpacing)/2)))),P=l((()=>c("radius",z.itemBorderRadius,t.configs.radius.normal))),R=l((()=>c("color",z.disabledItemTextColor,O.value.disabledText))),U=l((()=>c("color",z.itemTextColor,"light"==M.value?O.value.textLight:O.value.lineText))),A=l((()=>c("color",z.activeItemTextColor,O.value.text))),L=l((()=>c("font",z.itemTextSize,t.configs.font.size(2)))),q=l((()=>{let e="light"==M.value?0:255;return"height: ".concat(z.itemHeight,";background: rgba(").concat(e,",").concat(e,",").concat(e,",0.04);border-radius:").concat(P.value,";")})),E=l((()=>{let e=new Map;return e.set("height",z.height),e})),F=l((()=>{let e=new Map;return e.set("height",z.itemHeight),e.set("border-radius",P.value),e}));function W(e){if(V.value)return null;e.detail.value.forEach(((e,t)=>{var a;let l=z.data[t][e];null!==(a=null==l?void 0:l.disabled)&&void 0!==a&&a?(console.log("disabled item",J.value),B(C.deepClone(J.value))):(J.value[t]=e,J.value=J.value)}))}return s((()=>{J.value=H(z.modelValue)})),(t=null,a=null)=>{const l=m,n=T(i("sn-text"),k),s=S,c=x;return g(),o(l,{class:"sn-picker-view",style:r([d(E),e.customStyle])},{default:u((()=>[e.disabled?(g(),o(l,{key:0,class:"disabled-mask"})):p("",!0),h(c,{class:"sn-picker-view-view","indicator-class":"indicator-class",value:d(I),"indicator-style":d(q),"mask-style":"background: none !important;","mask-top-style":"background-image: none !important;","mask-bottom-style":"background-image: none !important;",onChange:W},{default:u((()=>[(g(!0),f(y,null,v(e.data,((t,a)=>(g(),o(s,{class:"sn-picker-view-column",key:a,style:r([{marginLeft:0==a?"0":d(N),marginRight:a==e.data.length-1?"0":d(N)},e.customColumnStyle])},{default:u((()=>[(g(!0),f(y,null,v(t,((t,s)=>(g(),o(l,{class:"sn-picker-view-item",style:r([d(F),e.customItemStyle])},{default:u((()=>{var e,l;return[h(n,{align:"center",color:null!==(e=t.disabled)&&void 0!==e&&e?d(R):d(J)[a]==s?d(A):d(U),size:d(L),text:null!==(l=t.text)&&void 0!==l?l:""},null,8,["color","size","text"])]})),_:2},1032,["style"])))),256))])),_:2},1032,["style"])))),128))])),_:1},8,["value","indicator-style"])])),_:1},8,["style"])}}})),[["__scopeId","data-v-98616ccc"]]);export{j as _};
