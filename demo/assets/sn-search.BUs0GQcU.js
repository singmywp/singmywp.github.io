import{_ as e}from"./sn-input.Cq5jBGx5.js";import{d as t,R as o,$ as r,T as l,w as a,r as n,c as s,a as i,e as c,f as d,p as u,x as f,_ as p,b as y,g as x,z as g,u as S,B as m}from"./index-DYMgrqHp.js";import{r as b}from"./uni-app.es.DgDfNdgy.js";import{a as C,b as h}from"./sn-text.euomPoe8.js";const v=h(t(Object.assign({name:"sn-search"},{__name:"sn-search",props:o(new UTSJSONObject({placeholder:{type:String,default:"请输入搜索内容"},type:{type:String,default:"text"},inputmode:{type:String,default:"search"},padding:{type:String,default:"4px 10px"},textColor:{type:String,default:""},textSize:{type:String,default:""},focus:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showBorder:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},fixCancel:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},cancelTextSize:{type:String,default:""},cancelTextColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},activeBorderColor:{type:String,default:"transparent"},borderRadius:{type:String,default:""},borderColor:{type:String,default:"transparent"},borderWidth:{type:String,default:"2px"},activeBorder:{type:String,default:"transparent"},cursorColor:{type:String,default:""},prefixIcon:{type:String,default:"search-2-line"},suffixIcon:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject({})},customInputStyle:{type:Object,default:new UTSJSONObject({})},customCancelStyle:{type:Object,default:new UTSJSONObject({})}}),new UTSJSONObject({modelValue:{type:String,default:""},modelModifiers:{}})),emits:o(["change","suffix-click","focus","blur","confirm","cancel"],["update:modelValue"]),setup(t,o){var h=o.emit;const v=r.utils,B=r.colors,w=h,T=l(t,"modelValue");a(T,(e=>{w("change",e)}));const O=t,j=n(!1),z=s((()=>f("color",O.bgColor,B.value.info))),I=s((()=>f("color",O.cursorColor,B.value.primary))),_=s((()=>f("color",O.activeBgColor,B.value.info))),k=s((()=>f("font",O.cancelTextSize,r.configs.font.size(2)))),J=s((()=>f("color",O.cancelTextColor,B.value.primaryDark))),U=s((()=>v.getPx(k.value)*O.cancelText.length*1.5)),V=s((()=>{const e=new Map;return e.set("flex","1"),e.set("transition-duration",r.configs.aniTime.normal),e})),N=s((()=>{const e=new Map;return e.set("transition-property","width, color, size, transform"),j.value||O.fixCancel?(e.set("width",v.addPx(U.value)),e.set("transform","scale(1)")):(e.set("transform","scale(0.001)"),e.set("width","0px")),e}));function R(){w("suffix-click")}function A(){T.value="",w("cancel")}function W(e){j.value=!0,w("focus",e)}function M(e){j.value=!1,w("blur",e)}function $(e){w("confirm",e)}return(o=null,r=null)=>{const l=b(i("sn-input"),e),a=b(i("sn-text"),C),n=p;return y(),c(n,{class:"sn-search-contain",style:u([t.customStyle])},{default:d((()=>[x(l,{modelValue:T.value,"onUpdate:modelValue":r[0]||(r[0]=(e=null)=>T.value=e),confirmType:"search",type:t.type,padding:t.padding,inputmode:t.inputmode,placeholder:t.placeholder,bgColor:S(z),textColor:t.textColor,clearable:t.clearable,disabled:t.disabled,focus:t.focus,loading:t.loading,readonly:t.readonly,textSize:t.textSize,activeBgColor:S(_),activeBorderColor:t.activeBorderColor,showBorder:t.showBorder,showActiveBorder:t.showActiveBorder,borderRadius:t.borderRadius,borderColor:t.borderColor,borderWidth:t.borderWidth,prefixIcon:t.prefixIcon,suffixIcon:t.suffixIcon,cursorColor:S(I),onSuffixClick:R,onFocus:W,onBlur:M,onConfirm:$,style:u([S(V),t.customInputStyle])},{prefix:d((()=>[g(o.$slots,"prefix",{},void 0,!0)])),suffix:d((()=>[g(o.$slots,"suffix",{},void 0,!0)])),_:3},8,["modelValue","type","padding","inputmode","placeholder","bgColor","textColor","clearable","disabled","focus","loading","readonly","textSize","activeBgColor","activeBorderColor","showBorder","showActiveBorder","borderRadius","borderColor","borderWidth","prefixIcon","suffixIcon","cursorColor","style"]),t.showCancel?(y(),c(a,{key:0,align:"center",ellipsis:"clip",lines:1,text:t.cancelText,size:S(k),color:S(J),onClick:A,style:u([S(N),t.customCancelStyle])},null,8,["text","size","color","style"])):m("",!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-80457c89"]]);export{v as _};
