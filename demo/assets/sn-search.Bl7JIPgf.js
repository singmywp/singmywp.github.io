import{_ as e}from"./sn-input.CG5cj0Ye.js";import{d as t,$ as o,r as l,c as r,a,b as n,e as i,q as s,y as c,j as d,o as u,f as p,B as f,u as y,i as g,C as x}from"./index-DoInGK9X.js";import{r as S}from"./uni-app.es.K1mZmM8s.js";import{b,c as m}from"./sn-button.B1LvAG78.js";const C=m(t(Object.assign({name:"sn-search"},{__name:"sn-search",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"请输入搜索内容"},type:{type:String,default:"text"},inputmode:{type:String,default:"search"},padding:{type:String,default:"4px 10px"},textColor:{type:String,default:""},textSize:{type:String,default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showBorder:{type:Boolean,default:!0},showActiveBorder:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},fixCancel:{type:Boolean,default:!1},cancelText:{type:String,default:"取消"},cancelTextSize:{type:String,default:""},cancelTextColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},activeBorderColor:{type:String,default:"transparent"},borderRadius:{type:String,default:""},borderColor:{type:String,default:"transparent"},borderWidth:{type:String,default:"2px"},activeBorder:{type:String,default:"transparent"},cursorColor:{type:String,default:""},prefixIcon:{type:String,default:"search-2-line"},suffixIcon:{type:String,default:""},customStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customInputStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customCancelStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))}},emits:["update:modelValue","change","suffix-click","focus","blur","confirm","cancel"],setup(t,m){var C=m.emit;const h=o.utils,v=o.colors,B=C,w=t,O=l(!1),j=r({get:()=>w.modelValue,set:e=>{B("update:modelValue",e),B("change",e)}}),T=r((()=>c("color",w.bgColor,v.value.info))),I=r((()=>c("color",w.cursorColor,v.value.primary))),z=r((()=>c("color",w.activeBgColor,v.value.info))),_=r((()=>c("font",w.cancelTextSize,o.configs.font.size(2)))),U=r((()=>c("color",w.cancelTextColor,v.value.primaryDark))),V=r((()=>h.getPx(_.value)*w.cancelText.length*1.5)),k=r((()=>{let e=new Map;return e.set("flex","1"),e.set("transition-duration",o.configs.aniTime.normal),e})),J=r((()=>{let e=new Map;return e.set("transition-property","width, color, size, transform"),O.value||w.fixCancel?(e.set("width",h.addPx(V.value)),e.set("transform","scale(1)")):(e.set("transform","scale(0.001)"),e.set("width","0px")),e}));function N(){B("suffix-click")}function A(){j.value="",B("cancel")}function R(e){O.value=!0,B("focus",e)}function W(e){O.value=!1,B("blur",e)}function $(e){B("confirm",e)}return(o=null,l=null)=>{const r=S(a("sn-input"),e),c=S(a("sn-text"),b),m=d;return u(),n(m,{class:"sn-search-contain",style:s([t.customStyle])},{default:i((()=>[p(r,{modelValue:y(j),"onUpdate:modelValue":l[0]||(l[0]=(e=null)=>g(j)?j.value=e:null),confirmType:"search",type:t.type,padding:t.padding,inputmode:t.inputmode,placeholder:t.placeholder,bgColor:y(T),textColor:t.textColor,clearable:t.clearable,disabled:t.disabled,loading:t.loading,readonly:t.readonly,textSize:t.textSize,activeBgColor:y(z),activeBorderColor:t.activeBorderColor,showBorder:t.showBorder,showActiveBorder:t.showActiveBorder,borderRadius:t.borderRadius,borderColor:t.borderColor,borderWidth:t.borderWidth,prefixIcon:t.prefixIcon,suffixIcon:t.suffixIcon,cursorColor:y(I),onSuffixClick:N,onFocus:R,onBlur:W,onConfirm:$,style:s([y(k),t.customInputStyle])},{prefix:i((()=>[f(o.$slots,"prefix",{},void 0,!0)])),suffix:i((()=>[f(o.$slots,"suffix",{},void 0,!0)])),_:3},8,["modelValue","type","padding","inputmode","placeholder","bgColor","textColor","clearable","disabled","loading","readonly","textSize","activeBgColor","activeBorderColor","showBorder","showActiveBorder","borderRadius","borderColor","borderWidth","prefixIcon","suffixIcon","cursorColor","style"]),t.showCancel?(u(),n(c,{key:0,align:"center",ellipsis:"clip",lines:1,text:t.cancelText,size:y(_),color:y(U),onClick:A,style:s([y(J),t.customCancelStyle])},null,8,["text","size","color","style"])):x("",!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-4eedb599"]]);export{C as _};
