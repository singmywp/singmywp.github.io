import{d as e,$ as t,r as a,c as l,l as u,m as n,C as i,a as s,b as o,e as d,q as r,u as c,z as v,j as m,o as h,f,p,v as b}from"./index-BDGnenFq.js";import{b as x,c as g}from"./sn-button.DCeBN0oM.js";import{r as y}from"./uni-app.es.BfR9KIrQ.js";import{u as S}from"./useResize.C1IVTLMN.js";const w=g(e(Object.assign({name:"sn-slider"},{__name:"sn-slider",props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},thickness:{type:String,default:"20px"},borderRadius:{type:String,default:""},thumbBorderRadius:{type:String,default:""},thumbBorder:{type:String,default:""},thumbSize:{type:String,default:"10px"},showValueText:{type:Boolean,default:!1},valueTextWidth:{type:String,default:"30px"},customStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customContainStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customThumbStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customValueTextStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customActiveStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))}},emits:["update:modelValue","change","touchend","touchstart","touchmove","touchcancel"],setup(e,g){var w=g.emit;const O=t.utils,T=t.colors,j=w,P=e,N=a(null),M=a(0),k=a(0),B=a(!1);function C(e){return e=Math.min(Math.max(P.min,e),P.max),e=Math.round((e-P.min)/P.step)*P.step+P.min}const J=l({get:()=>P.modelValue,set:e=>{let t=C(e);j("update:modelValue",t),j("change",t)}}),U=l((()=>Math.max((O.getPx(P.thickness)-O.getPx(P.thumbSize))/2,0))),R=l((()=>O.getPx(P.thumbSize))),V=l((()=>2*U.value+R.value)),_=l((()=>P.vertical?k.value:M.value)),D=l((()=>_.value-V.value)),z=l((()=>(J.value-P.min)/(P.max-P.min))),X=l((()=>v("radius",P.borderRadius,t.configs.radius.circle))),Y=l((()=>v("radius",P.thumbBorderRadius,t.configs.radius.circle))),A=l((()=>v("color",P.activeColor,T.value.primary))),E=l((()=>v("color",P.inactiveColor,T.value.infoActive))),W=l((()=>z.value*D.value)),L=l((()=>W.value+2*U.value+R.value)),q=l((()=>{let e=new Map;return P.vertical?(e.set("width",P.thickness),e.set("flex-direction","column")):(e.set("height",P.thickness),e.set("flex-direction","row")),e.set("border-radius",X.value),e.set("background",P.disabled?T.value.disabled:E.value),e.set("transition-duration",t.configs.aniTime.normal),e})),F=l((()=>{let e=new Map;return P.vertical?(e.set("width","100%"),e.set("height",O.addPx(L.value)),e.set("min-height",O.addPx(V.value)),e.set("max-height",O.addPx(k.value)),e.set("flex-direction","column")):(e.set("height","100%"),e.set("width",O.addPx(L.value)),e.set("min-width",O.addPx(V.value)),e.set("max-width",O.addPx(M.value)),e.set("flex-direction","row")),e.set("border-radius",Y.value),e.set("background",P.disabled?T.value.disabledText:A.value),e.set("transition-duration",t.configs.aniTime.normal),e})),I=l((()=>{let e=new Map,t=P.vertical;return e.set("width",O.addPx(R.value)),e.set("height",O.addPx(R.value)),e.set("transform","translate".concat(t?"Y":"X","(").concat(W.value+U.value,"px)")),e.set("border-radius",Y.value),e.set("background","white"),e.set("border",P.thumbBorder),e})),$=l((()=>{let e=new Map;return e.set("width",P.valueTextWidth),P.vertical?e.set("margin-top","5px"):e.set("margin-left","5px"),e})),G=l((()=>{let e=new Map,t=Math.max(R.value,O.getPx(P.thickness));return P.vertical?(e.set("flex-direction","column"),e.set("height","100%"),e.set("width",O.addPx(Math.max(t,O.getPx(P.valueTextWidth))))):(e.set("flex-direction","row"),e.set("width","100%"),e.set("height",O.addPx(t))),e}));function H(){var e,t,a;let l=null===(e=N.value)||void 0===e?void 0:e.getBoundingClientRect();M.value=null!==(t=null==l?void 0:l.width)&&void 0!==t?t:0,k.value=null!==(a=null==l?void 0:l.height)&&void 0!==a?a:0}function K(e,t,a){if(P.disabled)return null;let l=0;l=P.vertical?t-a.getBoundingClientRect().top-V.value/2:e-a.getBoundingClientRect().left-V.value/2,J.value=l/D.value*(P.max-P.min)+P.min}function Q(e){if(e.preventDefault(),P.disabled||!B.value)return null;let t=e.touches[0];K(t.clientX,t.clientY,e.target),j("touchmove",e)}function Z(e){if(e.preventDefault(),P.disabled||B.value)return null;B.value=!0;let t=e.touches[0];K(t.clientX,t.clientY,e.target),j("touchstart",e)}function ee(e){e.preventDefault(),B.value=!1,j("touchend",e.target)}function te(e){e.preventDefault(),B.value=!1,j("touchcancel",e.target)}function ae(e){if(e.preventDefault(),P.disabled)return null;B.value=!0,K(e.clientX,e.clientY,N.value),j("touchstart",e)}function le(e){if(e.preventDefault(),P.disabled||!B.value)return null;K(e.clientX,e.clientY,N.value),j("touchmove",e)}function ue(e){e.preventDefault(),B.value=!1,j("touchend",e)}return u((()=>{J.value=C(J.value),window.addEventListener("mouseup",ue),window.addEventListener("mousemove",le),n((()=>{H()})),S(N.value,(()=>{H()}))})),i((()=>{n((()=>{H()}))})),(t=null,a=null)=>{const l=m,u=y(s("sn-text"),x);return h(),o(l,{class:"sn-slider-contain",style:r([c(G),e.customContainStyle])},{default:d((()=>[f(l,{class:p(["sn-slider",e.disabled?"disabled":""]),ref_key:"sliderEle",ref:N,onTouchmove:Q,onTouchstart:Z,onTouchend:ee,onTouchcancel:te,onMousedown:ae,style:r([c(q),e.customStyle])},{default:d((()=>[f(l,{class:"sn-slider-active",style:r([c(F),e.customActiveStyle])},null,8,["style"])])),_:1},8,["class","style"]),f(l,{class:"sn-slider-thumb",style:r([c(I),e.customThumbStyle])},null,8,["style"]),e.showValueText?(h(),o(u,{key:0,align:"center",text:"".concat(c(J)),lines:1,style:r([c($),e.customValueTextStyle])},null,8,["text","style"])):b("",!0)])),_:1},8,["style"])}}})),[["__scopeId","data-v-eb09ee56"]]);export{w as _};
