import{d as e,r as t,c as a,k as l,l as u,A as n,b as i,e as s,f as o,m as r,u as d,p as c,o as v,g as m,v as h}from"./index-D82xabMX.js";import{b as f,c as p}from"./sn-button.CJ0ZsVkl.js";import{$ as x,r as g}from"./uni-app.es.Cv0ss-rw.js";import{u as b}from"./useResize.C5gdmbvL.js";const y=p(e(Object.assign({name:"sn-slider"},{__name:"sn-slider",props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},thickness:{type:String,default:"20px"},borderRadius:{type:String,default:""},thumbBorderRadius:{type:String,default:""},thumbBorder:{type:String,default:""},thumbSize:{type:String,default:"10px"},showValueText:{type:Boolean,default:!1},valueTextWidth:{type:String,default:"30px"},customStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})},customThumbStyle:{type:Object,default:new UTSJSONObject({})},customValueTextStyle:{type:Object,default:new UTSJSONObject({})},customActiveStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","touchend","touchstart","touchmove","touchcancel"],setup(e,p){var y=p.emit;const w=x.utils,S=x.colors,T=y,j=e,O=t(null),P=t(0),M=t(0),k=t(!1);function B(e){return e=Math.min(Math.max(j.min,e),j.max),e=Math.round((e-j.min)/j.step)*j.step+j.min}const C=a({get:()=>j.modelValue,set:e=>{let t=B(e);T("update:modelValue",t),T("change",t)}}),R=a((()=>Math.max((w.getPx(j.thickness)-w.getPx(j.thumbSize))/2,0))),N=a((()=>w.getPx(j.thumbSize))),V=a((()=>2*R.value+N.value)),_=a((()=>j.vertical?M.value:P.value)),D=a((()=>_.value-V.value)),J=a((()=>(C.value-j.min)/(j.max-j.min))),U=a((()=>""==j.borderRadius?x.configs.radius.circle:j.borderRadius)),X=a((()=>""==j.thumbBorderRadius?x.configs.radius.circle:j.thumbBorderRadius)),Y=a((()=>""==j.activeColor?S.value.primary:j.activeColor)),z=a((()=>""==j.inactiveColor?S.value.infoActive:j.inactiveColor)),A=a((()=>J.value*D.value)),E=a((()=>A.value+2*R.value+N.value)),W=a((()=>{let e=new Map;return j.vertical?(e.set("width",j.thickness),e.set("flex-direction","column")):(e.set("height",j.thickness),e.set("flex-direction","row")),e.set("border-radius",U.value),e.set("background",z.value),e.set("transition-duration",x.configs.aniTime.normal),e})),L=a((()=>{let e=new Map;return j.vertical?(e.set("width","100%"),e.set("height",w.addPx(E.value)),e.set("min-height",w.addPx(V.value)),e.set("max-height",w.addPx(M.value)),e.set("flex-direction","column")):(e.set("height","100%"),e.set("width",w.addPx(E.value)),e.set("min-width",w.addPx(V.value)),e.set("max-width",w.addPx(P.value)),e.set("flex-direction","row")),e.set("border-radius",X.value),e.set("background",Y.value),e.set("transition-duration",x.configs.aniTime.normal),e})),I=a((()=>{let e=new Map,t=j.vertical;return e.set("width",w.addPx(N.value)),e.set("height",w.addPx(N.value)),e.set("transform","translate".concat(t?"Y":"X","(").concat(A.value+R.value,"px)")),e.set("border-radius",X.value),e.set("background","white"),e.set("border",j.thumbBorder),e.set("transition-duration",x.configs.aniTime.normal),e})),$=a((()=>{let e=new Map;return e.set("width",j.valueTextWidth),j.vertical?e.set("margin-top","5px"):e.set("margin-left","5px"),e})),q=a((()=>{let e=new Map,t=Math.max(N.value,w.getPx(j.thickness));return j.vertical?(e.set("flex-direction","column"),e.set("height","100%"),e.set("width",w.addPx(Math.max(t,w.getPx(j.valueTextWidth))))):(e.set("flex-direction","row"),e.set("width","100%"),e.set("height",w.addPx(t))),e}));function F(){var e,t,a;let l=null===(e=O.value)||void 0===e?void 0:e.getBoundingClientRect();P.value=null!==(t=null==l?void 0:l.width)&&void 0!==t?t:0,M.value=null!==(a=null==l?void 0:l.height)&&void 0!==a?a:0}function G(e,t,a){if(j.disabled)return null;let l=0;l=j.vertical?t-a.getBoundingClientRect().top-V.value/2:e-a.getBoundingClientRect().left-V.value/2,C.value=l/D.value*(j.max-j.min)+j.min}function H(e){if(e.preventDefault(),j.disabled||!k.value)return null;let t=e.touches[0];G(t.clientX,t.clientY,e.target),T("touchmove",e)}function K(e){if(e.preventDefault(),j.disabled||k.value)return null;k.value=!0;let t=e.touches[0];G(t.clientX,t.clientY,e.target),T("touchstart",e)}function Q(e){e.preventDefault(),k.value=!1,T("touchend",e.target)}function Z(e){e.preventDefault(),k.value=!1,T("touchcancel",e.target)}function ee(e){if(e.preventDefault(),j.disabled)return null;k.value=!0,G(e.clientX,e.clientY,O.value),T("touchstart",e)}function te(e){if(e.preventDefault(),j.disabled||!k.value)return null;G(e.clientX,e.clientY,O.value),T("touchmove",e)}function ae(e){e.preventDefault(),k.value=!1,T("touchend",e)}return l((()=>{C.value=B(C.value),window.addEventListener("mouseup",ae),window.addEventListener("mousemove",te),u((()=>{F(),b(O.value,(()=>{F()}))}))})),n((()=>{u((()=>{F()}))})),(t=null,a=null)=>{const l=c,u=g(i("sn-text"),f);return v(),s(l,{class:"sn-slider-contain",style:r([d(q),e.customContainStyle])},{default:o((()=>[m(l,{class:"sn-slider",ref_key:"sliderEle",ref:O,onTouchmove:H,onTouchstart:K,onTouchend:Q,onTouchcancel:Z,onMousedown:ee,style:r([d(W),e.customStyle])},{default:o((()=>[m(l,{class:"sn-slider-active",style:r([d(L),e.customActiveStyle])},null,8,["style"])])),_:1},8,["style"]),m(l,{class:"sn-slider-thumb",style:r([d(I),e.customThumbStyle])},null,8,["style"]),e.showValueText?(v(),s(u,{key:0,align:"center",text:"".concat(d(C)),lines:1,style:r([d($),e.customValueTextStyle])},null,8,["text","style"])):h("",!0)])),_:1},8,["style"])}}})),[["__scopeId","data-v-fab82824"]]);export{y as _};
