import{d as e,$ as t,r as a,c as l,o as u,n,y as s,a as i,e as o,f as d,p as r,u as c,x as v,_ as m,b as h,g as f,m as p,B as x}from"./index-DYMgrqHp.js";import{a as b,b as g}from"./sn-text.euomPoe8.js";import{r as y}from"./uni-app.es.DgDfNdgy.js";import{u as S}from"./useResize.Cfi37DcV.js";const w=g(e(Object.assign({name:"sn-slider"},{__name:"sn-slider",props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},thickness:{type:String,default:"20px"},borderRadius:{type:String,default:""},thumbBorderRadius:{type:String,default:""},thumbBorder:{type:String,default:""},thumbSize:{type:String,default:"10px"},showValueText:{type:Boolean,default:!1},valueTextWidth:{type:String,default:"30px"},customStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})},customThumbStyle:{type:Object,default:new UTSJSONObject({})},customValueTextStyle:{type:Object,default:new UTSJSONObject({})},customActiveStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","touchend","touchstart","touchmove","touchcancel"],setup(e,g){var w=g.emit;const T=t.utils,O=t.colors,j=w,P=e,M=a(null),B=a(0),k=a(0),C=a(!1);function N(e){return e=Math.min(Math.max(P.min,e),P.max),e=Math.round((e-P.min)/P.step)*P.step+P.min}const _=l({get:()=>P.modelValue,set:e=>{let t=N(e);j("update:modelValue",t),j("change",t)}}),R=l((()=>Math.max((T.getPx(P.thickness)-T.getPx(P.thumbSize))/2,0))),V=l((()=>T.getPx(P.thumbSize))),D=l((()=>2*R.value+V.value)),J=l((()=>P.vertical?k.value:B.value)),U=l((()=>J.value-D.value)),X=l((()=>(_.value-P.min)/(P.max-P.min))),Y=l((()=>v("radius",P.borderRadius,t.configs.radius.circle))),z=l((()=>v("radius",P.thumbBorderRadius,t.configs.radius.circle))),A=l((()=>v("color",P.activeColor,O.value.primary))),E=l((()=>v("color",P.inactiveColor,O.value.infoActive))),W=l((()=>X.value*U.value)),L=l((()=>W.value+2*R.value+V.value)),$=l((()=>{const e=new Map;return P.vertical?(e.set("width",P.thickness),e.set("flex-direction","column")):(e.set("height",P.thickness),e.set("flex-direction","row")),e.set("border-radius",Y.value),e.set("background",P.disabled?O.value.disabled:E.value),e.set("transition-duration",t.configs.aniTime.normal),e})),I=l((()=>{const e=new Map;return P.vertical?(e.set("width","100%"),e.set("height",T.addPx(L.value)),e.set("min-height",T.addPx(D.value)),e.set("max-height",T.addPx(k.value)),e.set("flex-direction","column")):(e.set("height","100%"),e.set("width",T.addPx(L.value)),e.set("min-width",T.addPx(D.value)),e.set("max-width",T.addPx(B.value)),e.set("flex-direction","row")),e.set("border-radius",z.value),e.set("background",P.disabled?O.value.disabledText:A.value),e.set("transition-duration",t.configs.aniTime.normal),e})),q=l((()=>{const e=new Map;let t=P.vertical;return e.set("width",T.addPx(V.value)),e.set("height",T.addPx(V.value)),e.set("transform","translate".concat(t?"Y":"X","(").concat(W.value+R.value,"px)")),e.set("border-radius",z.value),e.set("background","white"),e.set("border",P.thumbBorder),e})),F=l((()=>{const e=new Map;return e.set("width",P.valueTextWidth),P.vertical?e.set("margin-top","5px"):e.set("margin-left","5px"),e})),G=l((()=>{const e=new Map;let t=Math.max(V.value,T.getPx(P.thickness));return P.vertical?(e.set("flex-direction","column"),e.set("height","100%"),e.set("width",T.addPx(Math.max(t,T.getPx(P.valueTextWidth))))):(e.set("flex-direction","row"),e.set("width","100%"),e.set("height",T.addPx(t))),e}));function H(){var e,t,a;let l=null===(e=M.value)||void 0===e?void 0:e.getBoundingClientRect();B.value=null!==(t=null==l?void 0:l.width)&&void 0!==t?t:0,k.value=null!==(a=null==l?void 0:l.height)&&void 0!==a?a:0}function K(e,t,a){if(P.disabled)return null;let l=0;l=P.vertical?t-a.getBoundingClientRect().top-D.value/2:e-a.getBoundingClientRect().left-D.value/2,_.value=l/U.value*(P.max-P.min)+P.min}function Q(e){if(e.preventDefault(),P.disabled||!C.value)return null;let t=e.touches[0];K(t.clientX,t.clientY,e.target),j("touchmove",e)}function Z(e){if(e.preventDefault(),P.disabled||C.value)return null;C.value=!0;let t=e.touches[0];K(t.clientX,t.clientY,e.target),j("touchstart",e)}function ee(e){e.preventDefault(),C.value=!1,j("touchend",e.target)}function te(e){e.preventDefault(),C.value=!1,j("touchcancel",e.target)}function ae(e){if(e.preventDefault(),P.disabled)return null;C.value=!0,K(e.clientX,e.clientY,M.value),j("touchstart",e)}function le(e){if(e.preventDefault(),P.disabled||!C.value)return null;K(e.clientX,e.clientY,M.value),j("touchmove",e)}function ue(e){e.preventDefault(),C.value=!1,j("touchend",e)}return u((()=>{_.value=N(_.value),window.addEventListener("mouseup",ue),window.addEventListener("mousemove",le),n((()=>{H()})),S(M.value,(()=>{H()}))})),s((()=>{n((()=>{H()}))})),(t=null,a=null)=>{const l=m,u=y(i("sn-text"),b);return h(),o(l,{class:"sn-slider-contain",style:r([c(G),e.customContainStyle])},{default:d((()=>[f(l,{class:p(["sn-slider",e.disabled?"disabled":""]),ref_key:"sliderEle",ref:M,onTouchmove:Q,onTouchstart:Z,onTouchend:ee,onTouchcancel:te,onMousedown:ae,style:r([c($),e.customStyle])},{default:d((()=>[f(l,{class:"sn-slider-active",style:r([c(I),e.customActiveStyle])},null,8,["style"])])),_:1},8,["class","style"]),f(l,{class:"sn-slider-thumb",style:r([c(q),e.customThumbStyle])},null,8,["style"]),e.showValueText?(h(),o(u,{key:0,align:"center",text:"".concat(c(_)),lines:1,style:r([c(F),e.customValueTextStyle])},null,8,["text","style"])):x("",!0)])),_:1},8,["style"])}}})),[["__scopeId","data-v-123e3b48"]]);export{w as _};
