import{d as e,r as t,c as a,k as l,l as u,A as n,b as i,e as s,f as o,p as r,u as d,q as c,o as v,g as m,m as h,v as f}from"./index-C41ek1zM.js";import{b as p,c as b}from"./sn-button.CpSyIQkh.js";import{$ as x,r as g}from"./uni-app.es.DMEFtuWf.js";import{u as y}from"./useResize.BWc6k2GD.js";const w=b(e(Object.assign({name:"sn-slider"},{__name:"sn-slider",props:{modelValue:{type:Number,default:0},vertical:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},thickness:{type:String,default:"20px"},borderRadius:{type:String,default:""},thumbBorderRadius:{type:String,default:""},thumbBorder:{type:String,default:""},thumbSize:{type:String,default:"10px"},showValueText:{type:Boolean,default:!1},valueTextWidth:{type:String,default:"30px"},customStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})},customThumbStyle:{type:Object,default:new UTSJSONObject({})},customValueTextStyle:{type:Object,default:new UTSJSONObject({})},customActiveStyle:{type:Object,default:new UTSJSONObject({})}},emits:["update:modelValue","change","touchend","touchstart","touchmove","touchcancel"],setup(e,b){var w=b.emit;const S=x.utils,T=x.colors,O=w,j=e,P=t(null),M=t(0),k=t(0),B=t(!1);function C(e){return e=Math.min(Math.max(j.min,e),j.max),e=Math.round((e-j.min)/j.step)*j.step+j.min}const R=a({get:()=>j.modelValue,set:e=>{let t=C(e);O("update:modelValue",t),O("change",t)}}),N=a((()=>Math.max((S.getPx(j.thickness)-S.getPx(j.thumbSize))/2,0))),V=a((()=>S.getPx(j.thumbSize))),_=a((()=>2*N.value+V.value)),D=a((()=>j.vertical?k.value:M.value)),J=a((()=>D.value-_.value)),U=a((()=>(R.value-j.min)/(j.max-j.min))),X=a((()=>""==j.borderRadius?x.configs.radius.circle:j.borderRadius)),Y=a((()=>""==j.thumbBorderRadius?x.configs.radius.circle:j.thumbBorderRadius)),z=a((()=>""==j.activeColor?T.value.primary:j.activeColor)),A=a((()=>""==j.inactiveColor?T.value.infoActive:j.inactiveColor)),E=a((()=>U.value*J.value)),W=a((()=>E.value+2*N.value+V.value)),L=a((()=>{let e=new Map;return j.vertical?(e.set("width",j.thickness),e.set("flex-direction","column")):(e.set("height",j.thickness),e.set("flex-direction","row")),e.set("border-radius",X.value),e.set("background",j.disabled?T.value.disabled:A.value),e.set("transition-duration",x.configs.aniTime.normal),e})),q=a((()=>{let e=new Map;return j.vertical?(e.set("width","100%"),e.set("height",S.addPx(W.value)),e.set("min-height",S.addPx(_.value)),e.set("max-height",S.addPx(k.value)),e.set("flex-direction","column")):(e.set("height","100%"),e.set("width",S.addPx(W.value)),e.set("min-width",S.addPx(_.value)),e.set("max-width",S.addPx(M.value)),e.set("flex-direction","row")),e.set("border-radius",Y.value),e.set("background",j.disabled?T.value.disabledText:z.value),e.set("transition-duration",x.configs.aniTime.normal),e})),I=a((()=>{let e=new Map,t=j.vertical;return e.set("width",S.addPx(V.value)),e.set("height",S.addPx(V.value)),e.set("transform","translate".concat(t?"Y":"X","(").concat(E.value+N.value,"px)")),e.set("border-radius",Y.value),e.set("background","white"),e.set("border",j.thumbBorder),e.set("transition-duration",x.configs.aniTime.normal),e})),$=a((()=>{let e=new Map;return e.set("width",j.valueTextWidth),j.vertical?e.set("margin-top","5px"):e.set("margin-left","5px"),e})),F=a((()=>{let e=new Map,t=Math.max(V.value,S.getPx(j.thickness));return j.vertical?(e.set("flex-direction","column"),e.set("height","100%"),e.set("width",S.addPx(Math.max(t,S.getPx(j.valueTextWidth))))):(e.set("flex-direction","row"),e.set("width","100%"),e.set("height",S.addPx(t))),e}));function G(){var e,t,a;let l=null===(e=P.value)||void 0===e?void 0:e.getBoundingClientRect();M.value=null!==(t=null==l?void 0:l.width)&&void 0!==t?t:0,k.value=null!==(a=null==l?void 0:l.height)&&void 0!==a?a:0}function H(e,t,a){if(j.disabled)return null;let l=0;l=j.vertical?t-a.getBoundingClientRect().top-_.value/2:e-a.getBoundingClientRect().left-_.value/2,R.value=l/J.value*(j.max-j.min)+j.min}function K(e){if(e.preventDefault(),j.disabled||!B.value)return null;let t=e.touches[0];H(t.clientX,t.clientY,e.target),O("touchmove",e)}function Q(e){if(e.preventDefault(),j.disabled||B.value)return null;B.value=!0;let t=e.touches[0];H(t.clientX,t.clientY,e.target),O("touchstart",e)}function Z(e){e.preventDefault(),B.value=!1,O("touchend",e.target)}function ee(e){e.preventDefault(),B.value=!1,O("touchcancel",e.target)}function te(e){if(e.preventDefault(),j.disabled)return null;B.value=!0,H(e.clientX,e.clientY,P.value),O("touchstart",e)}function ae(e){if(e.preventDefault(),j.disabled||!B.value)return null;H(e.clientX,e.clientY,P.value),O("touchmove",e)}function le(e){e.preventDefault(),B.value=!1,O("touchend",e)}return l((()=>{R.value=C(R.value),window.addEventListener("mouseup",le),window.addEventListener("mousemove",ae),u((()=>{G(),y(P.value,(()=>{G()}))}))})),n((()=>{u((()=>{G()}))})),(t=null,a=null)=>{const l=c,u=g(i("sn-text"),p);return v(),s(l,{class:"sn-slider-contain",style:r([d(F),e.customContainStyle])},{default:o((()=>[m(l,{class:h(["sn-slider",e.disabled?"disabled":""]),ref_key:"sliderEle",ref:P,onTouchmove:K,onTouchstart:Q,onTouchend:Z,onTouchcancel:ee,onMousedown:te,style:r([d(L),e.customStyle])},{default:o((()=>[m(l,{class:"sn-slider-active",style:r([d(q),e.customActiveStyle])},null,8,["style"])])),_:1},8,["class","style"]),m(l,{class:"sn-slider-thumb",style:r([d(I),e.customThumbStyle])},null,8,["style"]),e.showValueText?(v(),s(u,{key:0,align:"center",text:"".concat(d(R)),lines:1,style:r([d($),e.customValueTextStyle])},null,8,["text","style"])):f("",!0)])),_:1},8,["style"])}}})),[["__scopeId","data-v-0bfbca15"]]);export{w as _};
