import{d as e,R as l,$ as t,T as a,r as n,w as o,c as i,U as s,M as r,o as u,n as d,a as v,e as c,f as g,p,u as b,V as f,x as m,_ as y,b as x,W as h,X as S,z as k,B as w,g as _,h as z,j as C,F as $,Y as O,q as P}from"./index-DYMgrqHp.js";import{_ as j}from"./sn-avatar.agEpuNt-.js";import{r as B}from"./uni-app.es.DgDfNdgy.js";import{_ as M,a as T,b as R}from"./sn-text.euomPoe8.js";import{_ as I}from"./sn-badge.CniK0gFP.js";import{_ as J}from"./sn-view.BSUxthDa.js";import{u as N}from"./useResize.Cfi37DcV.js";const U=R(e(Object.assign({name:"sn-tabbar"},{__name:"sn-tabbar",props:l(new UTSJSONObject({data:{type:Array,default:[]},index:{type:Number,default:1},imageSize:{type:String,default:"35px"},fixed:{type:Boolean,default:!0},padding:{type:String,default:"5px"},margin:{type:String,default:"0px"},bgColor:{type:String,default:""},itemBorderRadius:{type:String,default:""},itemPadding:{type:String,default:"0px"},itemSpacing:{type:String,default:"0px"},itemBgColor:{type:String,default:""},itemActiveBgColor:{type:String,default:""},border:{type:String,default:""},borderRadius:{type:String,default:"0"},textColor:{type:String,default:""},textSize:{type:String,default:""},activeTextColor:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},activeIconColor:{type:String,default:""},showPages:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})}}),new UTSJSONObject({height:{type:String,default:""},heightModifiers:{}})),emits:l(["change","heightchange"],["update:height"]),setup(e,l){var R=l.expose,U=l.emit;const A=t.utils,Z=t.colors,E=P(),W=U,X=a(e,"height"),Y=e,q=n(!1),F=n(!1),L=n(!1),V=n(!1),D=n(!1),G=n(!1),H=n(!1),K=n(!1),Q=n(!1),ee=n(!1),le=n(0),te=n(0),ae=n(null),ne=n(null),oe=n(null),ie=n(0),se=n(0),re=n(0);o(re,((e,l)=>{e!=l&&(X.value="".concat(e,"px"),W("heightchange",e))}));const ue=i((()=>A.addPx(A.getPx(Y.itemSpacing)/2))),de=i((()=>{let e=f(),l=!1;return l=e.hasOwnProperty("1")||e.hasOwnProperty("2")||e.hasOwnProperty("3")||e.hasOwnProperty("4")||e.hasOwnProperty("5")||e.hasOwnProperty("6")||e.hasOwnProperty("7")||e.hasOwnProperty("8")||e.hasOwnProperty("9")||e.hasOwnProperty("10"),l})),ve=i((()=>m("radius",Y.borderRadius,"0px"))),ce=i((()=>m("radius",Y.itemBorderRadius,A.addPx(A.getInnerRadius(ie.value,A.getPx(ve.value),se.value))))),ge=i((()=>m("color",Y.bgColor,Z.value.front))),pe=i((()=>m("font",Y.textSize,t.configs.font.size(0)))),be=i((()=>m("font",Y.iconSize,t.configs.font.size(4)))),fe=i((()=>m("color",Y.textColor,Z.value.text))),me=i((()=>m("color",Y.activeTextColor,Z.value.primary))),ye=i((()=>m("color",Y.iconColor,Z.value.text))),xe=i((()=>m("color",Y.activeIconColor,Z.value.primary))),he=i((()=>m("color",Y.itemBgColor,Z.value.transparent))),Se=i((()=>m("color",Y.itemActiveBgColor,Z.value.transparent))),ke=i((()=>{let e=new Map;return e.set("position",Y.fixed?"fixed":"flex"),e.set("background",Z.value.transparent),e.set("padding-bottom",A.addPx(te.value)),e})),we=i((()=>{let e=new Map;return e.set("flex-direction","row"),e.set("margin",Y.margin),e.set("margin-top","0px"),e.set("padding",Y.padding),e.set("border",Y.border),e.set("background",ge.value),e.set("border-radius",ve.value),e.set("transition-duration",t.configs.aniTime.normal),e})),_e=i((()=>{let e=new Map;return e.set("transition-duration","0ms !important"),e})),ze=i((()=>{let e=new Map;return e.set("position","absolute"),e.set("top","0"),e.set("left","0"),e.set("right","0"),e.set("bottom","0"),e})),Ce=i((()=>{let e=new Map;return e.set("padding",Y.itemPadding),e.set("border-radius",ce.value),e})),$e=i((()=>{let e=new Map;return e.set("margin",Y.margin),e.set("padding",Y.padding),e.set("itemPadding",Y.itemPadding),e.set("textSize",pe.value),e.set("iconSize",be.value),e}));function Oe(){d((()=>{O().in(E.proxy).select(".sn-tabbar-bar-wrap").boundingClientRect().exec((e=>{var l;if(e.length>0){let t=e[0];re.value=null!==(l=null==t?void 0:t.height)&&void 0!==l?l:0}}))}))}function Pe(e){var l,t;let a=e-1;if(a<0||a>=Y.data.length)return null;let n=Y.data[a];if(null!=n.interceptor){if(!(null===(t=null===(l=n.interceptor)||void 0===l?void 0:l.call(n))||void 0===t||t))return null}le.value=e,function(e){switch(e){case 1:q.value=!0;break;case 2:F.value=!0;break;case 3:L.value=!0;break;case 4:V.value=!0;break;case 5:D.value=!0;break;case 6:G.value=!0;break;case 7:H.value=!0;break;case 8:K.value=!0;break;case 9:Q.value=!0;break;case 10:ee.value=!0}}(e),W("change",e)}function je(){var e,l,t,a,n,o;if(null==ne.value||null==oe.value||0==(null!==(l=null===(e=oe.value)||void 0===e?void 0:e.length)&&void 0!==l?l:0))return null;let i=ne.value.$el.getBoundingClientRect(),s=oe.value[0].getBoundingClientRect();ie.value=Math.min(null!==(t=i.width)&&void 0!==t?t:0,null!==(a=i.height)&&void 0!==a?a:0),se.value=Math.min(null!==(n=s.width)&&void 0!==n?n:0,null!==(o=s.height)&&void 0!==o?o:0)}return R({changeToIndex:Pe}),s((()=>{var e;Pe(Math.min(Math.max(Y.index,1),5));const l=r();te.value=null!==(e=l.safeAreaInsets.bottom)&&void 0!==e?e:0})),o($e,(()=>{Oe()})),u((()=>{d((()=>{je(),Oe()})),N(ae.value,(()=>{je(),Oe()}))})),(l=null,t=null)=>{const a=y,n=B(v("sn-avatar"),j),o=B(v("sn-icon"),M),i=B(v("sn-text"),T),s=B(v("sn-badge"),I),r=B(v("sn-view"),J);return x(),c(a,{class:"sn-tabbar-contain",style:p(b(de)&&e.showPages?[b(ze),e.customContainStyle]:[e.customContainStyle])},{default:g((()=>[null!=l.$slots[1]&&b(q)?h((x(),c(a,{key:0,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"1",{},void 0,!0)])),_:3},512)),[[S,1==b(le)]]):w("",!0),null!=l.$slots[2]&&b(F)?h((x(),c(a,{key:1,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"2",{},void 0,!0)])),_:3},512)),[[S,2==b(le)]]):w("",!0),null!=l.$slots[3]&&b(L)?h((x(),c(a,{key:2,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"3",{},void 0,!0)])),_:3},512)),[[S,3==b(le)]]):w("",!0),null!=l.$slots[4]&&b(V)?h((x(),c(a,{key:3,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"4",{},void 0,!0)])),_:3},512)),[[S,4==b(le)]]):w("",!0),null!=l.$slots[5]&&b(D)?h((x(),c(a,{key:4,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"5",{},void 0,!0)])),_:3},512)),[[S,5==b(le)]]):w("",!0),null!=l.$slots[6]&&b(G)?h((x(),c(a,{key:5,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"6",{},void 0,!0)])),_:3},512)),[[S,6==b(le)]]):w("",!0),null!=l.$slots[7]&&b(H)?h((x(),c(a,{key:6,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"7",{},void 0,!0)])),_:3},512)),[[S,7==b(le)]]):w("",!0),null!=l.$slots[8]&&b(K)?h((x(),c(a,{key:7,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"8",{},void 0,!0)])),_:3},512)),[[S,8==b(le)]]):w("",!0),null!=l.$slots[9]&&b(Q)?h((x(),c(a,{key:8,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"9",{},void 0,!0)])),_:3},512)),[[S,9==b(le)]]):w("",!0),null!=l.$slots[10]&&b(ee)?h((x(),c(a,{key:9,class:"sn-tabbar-page"},{default:g((()=>[k(l.$slots,"10",{},void 0,!0)])),_:3},512)),[[S,10==b(le)]]):w("",!0),_(a,{class:"sn-tabbar-bar-wrap",ref_key:"barWrapEle",ref:ae,style:p(b(ke))},{default:g((()=>[_(r,{class:"sn-tabbar-bar",ref_key:"barEle",ref:ne,aniTime:"0ms",disabled:e.disabled,style:p([b(we),e.customStyle])},{default:g((()=>[(x(!0),z($,null,C(e.data,((l,t)=>(x(),c(a,{class:"sn-tabbar-bar-item",ref_for:!0,ref_key:"itemEles",ref:oe,onClick:(e=null)=>function(e){if(Y.disabled)return null;Pe(e+1)}(t),style:p([b(Ce),{background:b(le)==t+1?b(Se):b(he),marginLeft:0==t?"0px":b(ue),marginRight:t==e.data.length-1?"0px":b(ue)}])},{default:g((()=>{var a,r,u,d,v,f,m,y,h,S,k,_,C,O,P,j,B,M,T,R,I;return[null==l.badge?(x(),z($,{key:0},[""!=(null!==(a=null==l?void 0:l.image)&&void 0!==a?a:"")?(x(),c(n,{key:0,src:b(le)==t+1?null!==(r=null==l?void 0:l.activeImage)&&void 0!==r?r:null!==(u=null==l?void 0:l.image)&&void 0!==u?u:"":null!==(d=null==l?void 0:l.image)&&void 0!==d?d:"",size:e.imageSize},null,8,["src","size"])):""!=(null!==(v=null==l?void 0:l.icon)&&void 0!==v?v:"")?(x(),c(o,{key:1,name:b(le)==t+1?null!==(f=null==l?void 0:l.activeIcon)&&void 0!==f?f:null!==(m=null==l?void 0:l.icon)&&void 0!==m?m:"":null!==(y=null==l?void 0:l.icon)&&void 0!==y?y:"",color:b(le)==t+1?b(xe):b(ye),size:b(be),style:p(b(_e))},null,8,["name","color","size","style"])):w("",!0),""!=(null!==(h=null==l?void 0:l.text)&&void 0!==h?h:"")?(x(),c(i,{key:2,color:b(le)==t+1?b(me):b(fe),text:b(le)==t+1?null!==(S=null==l?void 0:l.activeText)&&void 0!==S?S:null!==(k=null==l?void 0:l.text)&&void 0!==k?k:"":null!==(_=null==l?void 0:l.text)&&void 0!==_?_:"",size:b(pe)},null,8,["color","text","size"])):w("",!0)],64)):(x(),c(s,{key:1,value:null!==(C=l.badge.value)&&void 0!==C?C:0,max:null!==(O=l.badge.max)&&void 0!==O?O:-1,size:null!==(P=l.badge.size)&&void 0!==P?P:"",offset:null!==(j=l.badge.offset)&&void 0!==j?j:"",mode:null!==(B=l.badge.mode)&&void 0!==B?B:"number",text:null!==(M=l.badge.text)&&void 0!==M?M:"",showZero:null!==(T=l.badge.showZero)&&void 0!==T&&T,textColor:null!==(R=l.badge.textColor)&&void 0!==R?R:"",bgColor:null!==(I=l.badge.bgColor)&&void 0!==I?I:"",style:{"flex-direction":"column"}},{default:g((()=>{var a,s,r,u,d,v,g,f,m,y,h,S;return[""!=(null!==(a=null==l?void 0:l.image)&&void 0!==a?a:"")?(x(),c(n,{key:0,src:b(le)==t+1?null!==(s=null==l?void 0:l.activeImage)&&void 0!==s?s:null!==(r=null==l?void 0:l.image)&&void 0!==r?r:"":null!==(u=null==l?void 0:l.image)&&void 0!==u?u:"",size:e.imageSize},null,8,["src","size"])):""!=(null!==(d=null==l?void 0:l.icon)&&void 0!==d?d:"")?(x(),c(o,{key:1,name:b(le)==t+1?null!==(v=null==l?void 0:l.activeIcon)&&void 0!==v?v:null!==(g=null==l?void 0:l.icon)&&void 0!==g?g:"":null!==(f=null==l?void 0:l.icon)&&void 0!==f?f:"",color:b(le)==t+1?b(xe):b(ye),size:b(be),style:p(b(_e))},null,8,["name","color","size","style"])):w("",!0),""!=(null!==(m=null==l?void 0:l.text)&&void 0!==m?m:"")?(x(),c(i,{key:2,color:b(le)==t+1?b(me):b(fe),text:b(le)==t+1?null!==(y=null==l?void 0:l.activeText)&&void 0!==y?y:null!==(h=null==l?void 0:l.text)&&void 0!==h?h:"":null!==(S=null==l?void 0:l.text)&&void 0!==S?S:"",size:b(pe)},null,8,["color","text","size"])):w("",!0)]})),_:2},1032,["value","max","size","offset","mode","text","showZero","textColor","bgColor"]))]})),_:2},1032,["onClick","style"])))),256))])),_:1},8,["disabled","style"])])),_:1},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-060efe96"]]);export{U as _};
