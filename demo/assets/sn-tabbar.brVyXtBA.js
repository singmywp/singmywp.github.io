import{d as e,$ as l,r as t,w as a,c as n,aX as o,N as i,l as s,m as r,a as u,b as d,e as v,q as c,u as g,a6 as p,y as b,j as f,o as m,T as y,U as x,B as S,C as h,f as w,g as C,h as z,F as k,ai as _,t as P}from"./index-DoInGK9X.js";import{_ as O}from"./sn-avatar.NkbIXN8R.js";import{r as j}from"./uni-app.es.K1mZmM8s.js";import{a as B,b as $,c as M}from"./sn-button.B1LvAG78.js";import{_ as T}from"./sn-badge.DtCZwnqZ.js";import{_ as I}from"./sn-view.BKJ7GZxj.js";import{u as R}from"./useResize.Dia-r-oM.js";const N=M(e(Object.assign({name:"sn-tabbar"},{__name:"sn-tabbar",props:{data:{type:Array,default:[]},index:{type:Number,default:1},imageSize:{type:String,default:"35px"},fixed:{type:Boolean,default:!0},padding:{type:String,default:"5px"},margin:{type:String,default:"0px"},bgColor:{type:String,default:""},itemBorderRadius:{type:String,default:""},itemPadding:{type:String,default:"0px"},itemSpacing:{type:String,default:"0px"},itemBgColor:{type:String,default:""},itemActiveBgColor:{type:String,default:""},border:{type:String,default:""},borderRadius:{type:String,default:"0"},textColor:{type:String,default:""},textSize:{type:String,default:""},activeTextColor:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},activeIconColor:{type:String,default:""},showPages:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))},customContainStyle:{type:Object,default:new UTSJSONObject(new UTSJSONObject({}))}},emits:["change","heightchange"],setup(e,M){var N=M.expose,U=M.emit;const A=l.utils,J=l.colors,E=P(),Z=U,q=e,F=t(!1),G=t(!1),L=t(!1),W=t(!1),X=t(!1),D=t(0),H=t(0),K=t(null),Q=t(null),V=t(null),Y=t(0),ee=t(0),le=t(0);a(le,((e,l)=>{e!=l&&Z("heightchange",e)}));const te=n((()=>A.addPx(A.getPx(q.itemSpacing)/2))),ae=n((()=>{let e=p(),l=!1;return l=e.hasOwnProperty("1")||e.hasOwnProperty("2")||e.hasOwnProperty("3")||e.hasOwnProperty("4")||e.hasOwnProperty("5"),l})),ne=n((()=>b("radius",q.borderRadius,"0px"))),oe=n((()=>b("radius",q.itemBorderRadius,A.addPx(A.getInnerRadius(Y.value,A.getPx(ne.value),ee.value))))),ie=n((()=>b("color",q.bgColor,J.value.front))),se=n((()=>b("font",q.textSize,l.configs.font.size(0)))),re=n((()=>b("font",q.iconSize,l.configs.font.size(4)))),ue=n((()=>b("color",q.textColor,J.value.text))),de=n((()=>b("color",q.activeTextColor,J.value.primary))),ve=n((()=>b("color",q.iconColor,J.value.text))),ce=n((()=>b("color",q.activeIconColor,J.value.primary))),ge=n((()=>b("color",q.itemBgColor,J.value.transparent))),pe=n((()=>b("color",q.itemActiveBgColor,J.value.transparent))),be=n((()=>{let e=new Map;return e.set("position",q.fixed?"fixed":"flex"),e.set("background",J.value.transparent),e.set("padding-bottom",A.addPx(H.value)),e})),fe=n((()=>{let e=new Map;return e.set("flex-direction","row"),e.set("margin",q.margin),e.set("margin-top","0px"),e.set("padding",q.padding),e.set("border",q.border),e.set("background",ie.value),e.set("border-radius",ne.value),e})),me=n((()=>{let e=new Map;return e.set("transition-duration","0ms !important"),e})),ye=n((()=>{let e=new Map;return e.set("position","absolute"),e.set("top","0"),e.set("left","0"),e.set("right","0"),e.set("bottom","0"),e})),xe=n((()=>{let e=new Map;return e.set("padding",q.itemPadding),e.set("border-radius",oe.value),e})),Se=n((()=>{let e=new Map;return e.set("margin",q.margin),e.set("padding",q.padding),e.set("itemPadding",q.itemPadding),e.set("textSize",se.value),e.set("iconSize",re.value),e}));function he(){r((()=>{_().in(E.proxy).select(".sn-tabbar-bar-wrap").boundingClientRect().exec((e=>{var l;if(e.length>0){let t=e[0];le.value=null!==(l=null==t?void 0:t.height)&&void 0!==l?l:0}}))}))}function we(e){var l,t;let a=e-1;if(a<0||a>=q.data.length)return null;let n=q.data[a];if(null!=n.interceptor){if(!(null===(t=null===(l=n.interceptor)||void 0===l?void 0:l.call(n))||void 0===t||t))return null}D.value=e,function(e){switch(e){case 1:F.value=!0;break;case 2:G.value=!0;break;case 3:L.value=!0;break;case 4:W.value=!0;break;case 5:X.value=!0}}(e),Z("change",e)}function Ce(){var e,l,t,a,n,o;if(null==Q.value||null==V.value||0==(null!==(l=null===(e=V.value)||void 0===e?void 0:e.length)&&void 0!==l?l:0))return null;let i=Q.value.$el.getBoundingClientRect(),s=V.value[0].getBoundingClientRect();Y.value=Math.min(null!==(t=i.width)&&void 0!==t?t:0,null!==(a=i.height)&&void 0!==a?a:0),ee.value=Math.min(null!==(n=s.width)&&void 0!==n?n:0,null!==(o=s.height)&&void 0!==o?o:0)}return N({changeToIndex:we}),o((()=>{var e;we(Math.min(Math.max(q.index,1),5));const l=i();H.value=null!==(e=l.safeAreaInsets.bottom)&&void 0!==e?e:0})),a(Se,(()=>{he()})),s((()=>{r((()=>{Ce(),he()})),R(K.value,(()=>{Ce(),he()}))})),(l=null,t=null)=>{const a=f,n=j(u("sn-avatar"),O),o=j(u("sn-icon"),B),i=j(u("sn-text"),$),s=j(u("sn-badge"),T),r=j(u("sn-view"),I);return m(),d(a,{class:"sn-tabbar-contain",style:c(g(ae)&&e.showPages?[g(ye),e.customContainStyle]:[e.customContainStyle])},{default:v((()=>[null!=l.$slots[1]&&g(F)?y((m(),d(a,{key:0,class:"sn-tabbar-page"},{default:v((()=>[S(l.$slots,"1",{},void 0,!0)])),_:3},512)),[[x,1==g(D)]]):h("",!0),null!=l.$slots[2]&&g(G)?y((m(),d(a,{key:1,class:"sn-tabbar-page"},{default:v((()=>[S(l.$slots,"2",{},void 0,!0)])),_:3},512)),[[x,2==g(D)]]):h("",!0),null!=l.$slots[3]&&g(L)?y((m(),d(a,{key:2,class:"sn-tabbar-page"},{default:v((()=>[S(l.$slots,"3",{},void 0,!0)])),_:3},512)),[[x,3==g(D)]]):h("",!0),null!=l.$slots[4]&&g(W)?y((m(),d(a,{key:3,class:"sn-tabbar-page"},{default:v((()=>[S(l.$slots,"4",{},void 0,!0)])),_:3},512)),[[x,4==g(D)]]):h("",!0),null!=l.$slots[5]&&g(X)?y((m(),d(a,{key:4,class:"sn-tabbar-page"},{default:v((()=>[S(l.$slots,"5",{},void 0,!0)])),_:3},512)),[[x,5==g(D)]]):h("",!0),w(a,{class:"sn-tabbar-bar-wrap",ref_key:"barWrapEle",ref:K,style:c(g(be))},{default:v((()=>[w(r,{class:"sn-tabbar-bar",ref_key:"barEle",ref:Q,aniTime:"0ms",disabled:e.disabled,style:c([g(fe),e.customStyle])},{default:v((()=>[(m(!0),C(k,null,z(e.data,((l,t)=>(m(),d(a,{class:"sn-tabbar-bar-item",ref_for:!0,ref_key:"itemEles",ref:V,onClick:(e=null)=>function(e){if(q.disabled)return null;we(e+1)}(t),style:c([g(xe),{background:g(D)==t+1?g(pe):g(ge),marginLeft:0==t?"0px":g(te),marginRight:t==e.data.length-1?"0px":g(te)}])},{default:v((()=>{var a,r,u,p,b,f,y,x,S,w,z,_,P,O,j,B,$,M,T,I,R;return[null==l.badge?(m(),C(k,{key:0},[""!=(null!==(a=null==l?void 0:l.image)&&void 0!==a?a:"")?(m(),d(n,{key:0,src:g(D)==t+1?null!==(r=null==l?void 0:l.activeImage)&&void 0!==r?r:null!==(u=null==l?void 0:l.image)&&void 0!==u?u:"":null!==(p=null==l?void 0:l.image)&&void 0!==p?p:"",size:e.imageSize},null,8,["src","size"])):""!=(null!==(b=null==l?void 0:l.icon)&&void 0!==b?b:"")?(m(),d(o,{key:1,name:g(D)==t+1?null!==(f=null==l?void 0:l.activeIcon)&&void 0!==f?f:null!==(y=null==l?void 0:l.icon)&&void 0!==y?y:"":null!==(x=null==l?void 0:l.icon)&&void 0!==x?x:"",color:g(D)==t+1?g(ce):g(ve),size:g(re),style:c(g(me))},null,8,["name","color","size","style"])):h("",!0),""!=(null!==(S=null==l?void 0:l.text)&&void 0!==S?S:"")?(m(),d(i,{key:2,color:g(D)==t+1?g(de):g(ue),text:g(D)==t+1?null!==(w=null==l?void 0:l.activeText)&&void 0!==w?w:null!==(z=null==l?void 0:l.text)&&void 0!==z?z:"":null!==(_=null==l?void 0:l.text)&&void 0!==_?_:"",size:g(se)},null,8,["color","text","size"])):h("",!0)],64)):(m(),d(s,{key:1,value:null!==(P=l.badge.value)&&void 0!==P?P:0,max:null!==(O=l.badge.max)&&void 0!==O?O:-1,size:null!==(j=l.badge.size)&&void 0!==j?j:"",offset:null!==(B=l.badge.offset)&&void 0!==B?B:"",mode:null!==($=l.badge.mode)&&void 0!==$?$:"number",text:null!==(M=l.badge.text)&&void 0!==M?M:"",showZero:null!==(T=l.badge.showZero)&&void 0!==T&&T,textColor:null!==(I=l.badge.textColor)&&void 0!==I?I:"",bgColor:null!==(R=l.badge.bgColor)&&void 0!==R?R:"",style:{"flex-direction":"column"}},{default:v((()=>{var a,s,r,u,v,p,b,f,y,x,S,w;return[""!=(null!==(a=null==l?void 0:l.image)&&void 0!==a?a:"")?(m(),d(n,{key:0,src:g(D)==t+1?null!==(s=null==l?void 0:l.activeImage)&&void 0!==s?s:null!==(r=null==l?void 0:l.image)&&void 0!==r?r:"":null!==(u=null==l?void 0:l.image)&&void 0!==u?u:"",size:e.imageSize},null,8,["src","size"])):""!=(null!==(v=null==l?void 0:l.icon)&&void 0!==v?v:"")?(m(),d(o,{key:1,name:g(D)==t+1?null!==(p=null==l?void 0:l.activeIcon)&&void 0!==p?p:null!==(b=null==l?void 0:l.icon)&&void 0!==b?b:"":null!==(f=null==l?void 0:l.icon)&&void 0!==f?f:"",color:g(D)==t+1?g(ce):g(ve),size:g(re),style:c(g(me))},null,8,["name","color","size","style"])):h("",!0),""!=(null!==(y=null==l?void 0:l.text)&&void 0!==y?y:"")?(m(),d(i,{key:2,color:g(D)==t+1?g(de):g(ue),text:g(D)==t+1?null!==(x=null==l?void 0:l.activeText)&&void 0!==x?x:null!==(S=null==l?void 0:l.text)&&void 0!==S?S:"":null!==(w=null==l?void 0:l.text)&&void 0!==w?w:"",size:g(se)},null,8,["color","text","size"])):h("",!0)]})),_:2},1032,["value","max","size","offset","mode","text","showZero","textColor","bgColor"]))]})),_:2},1032,["onClick","style"])))),256))])),_:1},8,["disabled","style"])])),_:1},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-8b011ca6"]]);export{N as _};
