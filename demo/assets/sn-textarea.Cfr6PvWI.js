import{d as e,R as t,$ as o,T as a,c as l,a as r,e as n,f as s,p as u,u as d,x as i,_ as c,b as p,g as f,z as g,B as y,ar as S}from"./index-DYMgrqHp.js";import{a as m,b}from"./sn-text.euomPoe8.js";import{r as h}from"./uni-app.es.DgDfNdgy.js";const x=b(e(Object.assign({name:"sn-textarea"},{__name:"sn-textarea",props:t(new UTSJSONObject({name:{type:String,default:""},height:{type:String,default:"100px"},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:""},activeBorderColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},cursor:{type:Number,default:0},cursorColor:{type:String,default:""},cursorSpacing:{type:Number,default:0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},autoHeight:{type:Boolean,default:!1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},activeBorder:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledTextColor:{type:String,default:""},disabledBgColor:{type:String,default:""},readonly:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},borderRadius:{type:String,default:""},borderWidth:{type:String,default:"2px"},inputmode:{type:String,default:"text"},padding:{type:String,default:"8px 13px"},maxlength:{type:Number,default:-1},textSize:{type:String,default:""},textColor:{type:String,default:""},textFont:{type:String,default:""},align:{type:String,default:"left"},counterSize:{type:String,default:""},counterColor:{type:String,default:""},counterBgColor:{type:String,default:""},customCounterStyle:{type:Object,default:new UTSJSONObject({})},customContainStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}}),new UTSJSONObject({modelValue:{type:String,default:""},modelModifiers:{}})),emits:t(["input","confirm","blur","focus","keyboardheightchange","linechange"],["update:modelValue"]),setup(e,t){var b=t.emit;const x=o.colors,v=o.utils,C=b,B=a(e,"modelValue"),j=e,O=v.randomComId(),w=l((()=>o.store.get("sn-input:FocusId")==O)),F=l((()=>v.len(B.value))),T=l((()=>i("color",j.borderColor,x.value.line))),_=l((()=>i("color",j.activeBorderColor,x.value.primary))),H=l((()=>i("color",j.bgColor,x.value.front))),N=l((()=>i("color",j.activeBgColor,x.value.front))),z=l((()=>i("color",j.counterColor,x.value.text))),P=l((()=>i("color",j.counterBgColor,x.value.info))),I=l((()=>i("color",j.textColor,x.value.text))),J=l((()=>i("color",j.disabledBgColor,x.value.disabled))),k=l((()=>i("color",j.disabledTextColor,x.value.disabledText))),K=l((()=>i("radius",j.borderRadius,o.configs.radius.small))),M=l((()=>i("font",j.textSize,o.configs.font.baseSize))),U=l((()=>i("font",j.counterSize,o.configs.font.baseSize))),E=l((()=>{const e=new Map;return e.set("border-radius",K.value),e.set("transition-duration",o.configs.aniTime.normal),e})),R=l((()=>{const e=new Map;return e.set("border-radius",K.value),e.set("padding",j.padding),e.set("background-color",j.disabled?J.value:w.value?N.value:H.value),j.showBorder&&(e.set("border-style","solid"),e.set("border-width",j.borderWidth),e.set("border-color",j.activeBorder&&w.value?_.value:T.value)),j.autoHeight||e.set("height",v.addPx(v.getPx(j.height)+16)),e.set("transition-duration",o.configs.aniTime.normal),e})),V=l((()=>{const e=new Map;return e.set("fontSize",M.value),e.set("textAlign",j.align),e.set("fontFamily",j.textFont),e.set("color",j.disabled?k.value:I.value),j.autoHeight||e.set("height",v.addPx(v.getPx(j.height))),e})),W=l((()=>{const e=new Map;return e.set("fontSize",U.value),e.set("background",P.value),e.set("border-radius",o.configs.radius.circle),e.set("color",z.value),e.set("transition-duration",o.configs.aniTime.normal),e}));function $(e){B.value=e.detail.value,C("input",e)}function A(e){o.store.set("sn-input:FocusId",O),C("focus",e)}function L(e){o.store.set("sn-input:FocusId",""),C("blur",e)}function q(e){o.store.set("sn-input:FocusId",""),C("confirm",e)}function D(e){C("keyboardheightchange",e)}function G(e){C("linechange",e)}return(t=null,o=null)=>{const a=S,l=h(r("sn-text"),m),i=c;return p(),n(i,{class:"sn-textarea-contain",style:u([d(E),e.customContainStyle])},{default:s((()=>[f(i,{class:"sn-textarea",ref:"sn-textarea",style:u(d(R))},{default:s((()=>[f(a,{class:"sn-textarea__textarea",name:e.name,value:B.value,disabled:e.disabled||e.readonly,autoFocus:e.autoFocus,autoHeight:e.autoHeight,cursorColor:e.cursorColor,focus:e.focus,inputmode:e.inputmode,adjustPosition:e.adjustPosition,cursor:e.cursor,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,holdKeyboard:e.holdKeyboard,cursorSpacing:e.cursorSpacing,confirmHold:e.confirmHold,maxlength:e.maxlength,placeholder:e.placeholder,placeholderStyle:e.placeholderStyle,placeholderClass:e.placeholderClass,onInput:$,onKeyboardheightchange:D,onFocus:A,onBlur:L,onConfirm:q,onLinechange:G,style:u([d(V),e.customStyle])},null,8,["name","value","disabled","autoFocus","autoHeight","cursorColor","focus","inputmode","adjustPosition","cursor","selectionStart","selectionEnd","holdKeyboard","cursorSpacing","confirmHold","maxlength","placeholder","placeholderStyle","placeholderClass","style"]),g(t.$slots,"counter",{},(()=>[-1!=e.maxlength?(p(),n(l,{key:0,class:"sn-textarea__counter",text:"".concat(d(F),"/").concat(e.maxlength),style:u([d(W),e.customCounterStyle])},null,8,["text","style"])):y("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}}})),[["__scopeId","data-v-f486c51f"]]);export{x as _};
