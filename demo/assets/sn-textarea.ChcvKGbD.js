import{d as e,c as t,b as o,e as a,f as l,q as r,u as n,k as s,o as u,g as d,v as i,a9 as c}from"./index-DNTc1GxZ.js";import{b as p,c as g}from"./sn-button.BaZjRh9m.js";import{$ as f,r as y}from"./uni-app.es.D9ZkitmT.js";const b=g(e(Object.assign({name:"sn-textarea"},{__name:"sn-textarea",props:{modelValue:{type:String,default:""},name:{type:String,default:""},height:{type:String,default:"100px"},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:""},activeBorderColor:{type:String,default:""},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},cursor:{type:Number,default:0},cursorColor:{type:String,default:""},cursorSpacing:{type:Number,default:0},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},autoHeight:{type:Boolean,default:!1},confirmHold:{type:Boolean,default:!1},holdKeyboard:{type:Boolean,default:!1},adjustPosition:{type:Boolean,default:!0},activeBorder:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledTextColor:{type:String,default:""},disabledBgColor:{type:String,default:""},readonly:{type:Boolean,default:!1},autoFocus:{type:Boolean,default:!1},borderRadius:{type:String,default:""},borderWidth:{type:String,default:"2px"},padding:{type:String,default:"8px 13px"},maxlength:{type:Number,default:-1},textSize:{type:String,default:""},textColor:{type:String,default:""},textFont:{type:String,default:""},align:{type:String,default:"flex-start"},counterSize:{type:String,default:""},counterColor:{type:String,default:""},counterBgColor:{type:String,default:""},customCounterStyle:{type:Object,default:{}},customContainStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["update:modelValue","input","confirm","blur","focus","keyboardheightchange","linechange"],setup(e,g){var b=g.emit;const h=f.colors,m=f.utils,S=b,x=e,C=m.randomComId(),v=t({get:()=>x.modelValue,set:e=>{S("update:modelValue",e)}}),B=t((()=>f.store.get("sn-input:FocusId")==C)),F=t((()=>m.len(v.value))),j=t((()=>""==x.borderColor?h.value.line:x.borderColor)),_=t((()=>""==x.activeBorderColor?h.value.primary:x.activeBorderColor)),z=t((()=>""==x.bgColor?h.value.front:x.bgColor)),H=t((()=>""==x.activeBgColor?h.value.front:x.activeBgColor)),P=t((()=>""==x.counterColor?h.value.text:x.counterColor)),w=t((()=>""==x.counterBgColor?h.value.info:x.counterBgColor)),I=t((()=>""==x.textColor?h.value.text:x.textColor)),T=t((()=>""==x.disabledBgColor?h.value.disabled:x.disabledBgColor)),k=t((()=>""==x.disabledTextColor?h.value.disabledText:x.disabledTextColor)),K=t((()=>""==x.borderRadius?f.configs.radius.small:x.borderRadius)),N=t((()=>""==x.textSize?f.configs.font.baseSize:x.textSize)),E=t((()=>""==x.counterSize?f.configs.font.size(2):x.counterSize)),M=t((()=>{let e=new Map;return e.set("border-radius",K.value),e.set("transition-duration",f.configs.aniTime.normal),e})),O=t((()=>{let e=new Map;return e.set("border-radius",K.value),e.set("padding",x.padding),e.set("background-color",x.disabled?T.value:B.value?H.value:z.value),x.showBorder&&(e.set("border-style","solid"),e.set("border-width",x.borderWidth),e.set("border-color",x.activeBorder&&B.value?_.value:j.value)),x.autoHeight||e.set("height",m.addPx(m.getPx(x.height)+16)),e.set("transition-duration",f.configs.aniTime.normal),e})),V=t((()=>{let e=new Map;return e.set("fontSize",N.value),e.set("textAlign",x.align),e.set("fontFamily",x.textFont),e.set("color",x.disabled?k.value:I.value),x.autoHeight||e.set("height",m.addPx(m.getPx(x.height))),e})),R=t((()=>{let e=new Map;return e.set("fontSize",E.value),e.set("background",w.value),e.set("border-radius",f.configs.radius.circle),e.set("color",P.value),e.set("transition-duration",f.configs.aniTime.normal),e}));function W(e){v.value=e.detail.value,S("input",e)}function q(e){f.store.set("sn-input:FocusId",C),S("focus",e)}function A(e){f.store.set("sn-input:FocusId",""),S("blur",e)}function L(e){f.store.set("sn-input:FocusId",""),S("confirm",e)}function $(e){S("keyboardheightchange",e)}function D(e){S("linechange",e)}return(t=null,g=null)=>{const f=c,b=y(o("sn-text"),p),h=s;return u(),a(h,{class:"sn-textarea-contain",style:r([n(M),e.customContainStyle])},{default:l((()=>[d(h,{class:"sn-textarea",ref:"sn-textarea",style:r(n(O))},{default:l((()=>[d(f,{class:"sn-textarea__textarea",name:e.name,value:n(v),disabled:e.disabled||e.readonly,autoFocus:e.autoFocus,autoHeight:e.autoHeight,cursorColor:e.cursorColor,focus:e.focus,adjustPosition:e.adjustPosition,cursor:e.cursor,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,holdKeyboard:e.holdKeyboard,cursorSpacing:e.cursorSpacing,confirmHold:e.confirmHold,maxlength:e.maxlength,placeholder:e.placeholder,placeholderStyle:e.placeholderStyle,placeholderClass:e.placeholderClass,onInput:W,onKeyboardheightchange:$,onFocus:q,onBlur:A,onConfirm:L,onLinechange:D,style:r([n(V),e.customStyle])},null,8,["name","value","disabled","autoFocus","autoHeight","cursorColor","focus","adjustPosition","cursor","selectionStart","selectionEnd","holdKeyboard","cursorSpacing","confirmHold","maxlength","placeholder","placeholderStyle","placeholderClass","style"]),-1!=e.maxlength?(u(),a(b,{key:0,class:"sn-textarea__counter",text:"".concat(n(F),"/").concat(e.maxlength),style:r([n(R),e.customCounterStyle])},null,8,["text","style"])):i("",!0)])),_:1},8,["style"])])),_:1},8,["style"])}}})),[["__scopeId","data-v-ec048d2c"]]);export{b as _};
