import{a as e,d as l,b as o,c as t}from"./sn-button.B1LvAG78.js";import{d as n,$ as a,r as i,ao as u,c as r,a as s,g as d,f as v,e as c,p,u as g,q as f,F as x,y,j as b,o as S,b as m,C}from"./index-DoInGK9X.js";import{r as z}from"./uni-app.es.K1mZmM8s.js";import{b as w}from"./sn-topbar.DxKzInQK.js";const j=t(n(Object.assign({name:"sn-toast"},{__name:"sn-toast",props:{text:{type:String,default:""},bgColor:{type:String,default:""},overlay:{type:Boolean,default:!1},position:{type:String,default:"center"},duration:{type:Number,default:2e3},textSize:{type:String,default:""},textColor:{type:String,default:""},borderRadius:{type:String,default:""},padding:{type:String,default:"12px 15px"},icon:{type:String,default:""},iconSize:{type:String,default:""},iconColor:{type:String,default:""},textAlign:{type:String,default:"center"},loading:{type:Boolean,default:!1},textLines:{type:Number,default:0},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(t,n){var j=n.expose;const A=a.utils,_=a.colors,k=t,L=A.randomComId(),R=i(!1),M=i(null),h=i(new u({})),O=r((()=>{let e=h.value.icon;return null!=e&&""!=e.trim()})),B=r((()=>y("color",k.textColor,"#fff"))),I=r((()=>y("font",k.textSize,a.configs.font.size(2)))),N=r((()=>y("color",k.iconColor,"#fff"))),T=r((()=>y("font",k.iconSize,a.configs.font.size(5)))),q=r((()=>""==k.bgColor?_.value.toast:k.bgColor)),E=r((()=>y("radius",k.borderRadius,a.configs.radius.normal))),F=r((()=>["center","top","bottom"].includes(k.position)?k.position:"center")),G=r((()=>{let e=new Map;return e.set("z-index",a.configs.zIndex.toast),e.set("transition-duration",a.configs.aniTime.normal),e})),J=r((()=>{let e=new Map;return e.set("margin-right","6px"),e})),U=r((()=>{let e=new Map;return e.set("word-break","break-all"),e.set("flex","1"),e})),$=r((()=>{var e,l,o;let t=new Map;return t.set("border-radius",null!==(e=h.value.borderRadius)&&void 0!==e?e:E.value),t.set("padding",null!==(l=h.value.padding)&&void 0!==l?l:k.padding),t.set("background",null!==(o=h.value.bgColor)&&void 0!==o?o:q.value),t.set("transition-duration",a.configs.aniTime.normal),t})),D=r((()=>{let e=new Map;return e.set("top","top"==h.value.position),e.set("center","center"==h.value.position),e.set("bottom","bottom"==h.value.position),e.set("hover",R.value),e}));function H(){var e,l;R.value=!1,null===(l=null===(e=M.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e)}return j({show:function(){var e,l;h.value.bgColor=q.value,h.value.borderRadius=E.value,h.value.text=k.text,h.value.overlay=k.overlay,h.value.loading=k.loading,h.value.position=F.value,h.value.duration=k.duration,h.value.textSize=I.value,h.value.textColor=B.value,h.value.iconSize=T.value,h.value.iconColor=N.value,h.value.padding=k.padding,h.value.icon=k.icon,h.value.textLines=k.textLines,h.value.textAlign=k.textAlign,h.value.overlay&&(null===(l=null===(e=M.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e)),R.value=!0,h.value.loading||A.debounce((()=>{H()}),h.value.duration)},configShow:function(e=null){var l,o,t,n,a,i,r,s,d,v,c,p,g,f,x,y,b;e=null!=e?e:new u({}),h.value.bgColor=null!==(l=e.bgColor)&&void 0!==l?l:q.value,h.value.borderRadius=null!==(o=e.borderRadius)&&void 0!==o?o:E.value,h.value.text=null!==(t=e.text)&&void 0!==t?t:k.text,h.value.overlay=null!==(n=e.overlay)&&void 0!==n?n:k.overlay,h.value.loading=null!==(a=e.loading)&&void 0!==a?a:k.loading,h.value.position=null!==(i=e.position)&&void 0!==i?i:F.value,h.value.duration=null!==(r=e.duration)&&void 0!==r?r:k.duration,h.value.textSize=null!==(s=e.textSize)&&void 0!==s?s:I.value,h.value.textColor=null!==(d=e.textColor)&&void 0!==d?d:B.value,h.value.iconSize=null!==(v=e.iconSize)&&void 0!==v?v:T.value,h.value.iconColor=null!==(c=e.iconColor)&&void 0!==c?c:N.value,h.value.padding=null!==(p=e.padding)&&void 0!==p?p:k.padding,h.value.icon=null!==(g=e.icon)&&void 0!==g?g:k.icon,h.value.textLines=null!==(f=e.textLines)&&void 0!==f?f:k.textLines,h.value.textAlign=null!==(x=e.textAlign)&&void 0!==x?x:k.textAlign,h.value.overlay&&(null===(b=null===(y=M.value)||void 0===y?void 0:y.open)||void 0===b||b.call(y)),R.value=!0,h.value.loading||A.debounce((()=>{H()}),h.value.duration,L)},close:H}),(t=null,n=null)=>{const a=z(s("sn-icon"),e),i=z(s("sn-loading"),l),u=z(s("sn-text"),o),r=b,y=z(s("sn-overlay"),w);return S(),d(x,null,[v(r,{class:p(["sn-toast-contain",g(D)]),style:f(g(G))},{default:c((()=>[v(r,{class:"sn-toast",style:f(g($))},{default:c((()=>{var e,l,o,t,n,r,s,d,c,p,x,y;return[!g(O)||null!==(e=g(h).loading)&&void 0!==e&&e?C("",!0):(S(),m(a,{key:0,name:null!==(l=g(h).icon)&&void 0!==l?l:"",color:null!==(o=g(h).iconColor)&&void 0!==o?o:g(N),size:null!==(t=g(h).iconSize)&&void 0!==t?t:g(T),style:f(g(J))},null,8,["name","color","size","style"])),null!==(n=g(h).loading)&&void 0!==n&&n?(S(),m(i,{key:1,iconColor:null!==(r=g(h).iconColor)&&void 0!==r?r:g(N),iconSize:null!==(s=g(h).iconSize)&&void 0!==s?s:g(T),style:f(g(J))},null,8,["iconColor","iconSize","style"])):C("",!0),v(u,{text:null!==(d=g(h).text)&&void 0!==d?d:"",align:null!==(c=g(h).textAlign)&&void 0!==c?c:"center",color:null!==(p=g(h).textColor)&&void 0!==p?p:g(B),size:null!==(x=g(h).textSize)&&void 0!==x?x:g(I),lines:null!==(y=g(h).textLines)&&void 0!==y?y:0,style:f(g(U))},null,8,["text","align","color","size","lines","style"])]})),_:1},8,["style"])])),_:1},8,["class","style"]),v(y,{ref_key:"overlayEle",ref:M,maskClose:!1,opacity:0},null,512)],64)}}})),[["__scopeId","data-v-bcb05e5b"]]);export{j as _};
