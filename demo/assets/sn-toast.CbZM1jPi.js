import{_ as e,a as l,b as o}from"./sn-text.euomPoe8.js";import{d as t,$ as n,r as a,at as i,c as u,a as r,h as s,g as d,f as v,m as c,u as p,p as g,F as f,x,_ as y,b as m,e as S,B as b}from"./index-DYMgrqHp.js";import{r as C}from"./uni-app.es.DgDfNdgy.js";import{_ as z}from"./sn-loading.t5otRKvs.js";import{_}from"./sn-overlay.CiZFgEyq.js";const w=o(t(Object.assign({name:"sn-toast"},{__name:"sn-toast",props:{text:{type:String,default:""},bgColor:{type:String,default:""},overlay:{type:Boolean,default:!1},position:{type:String,default:"center"},duration:{type:Number,default:2e3},textSize:{type:String,default:""},textColor:{type:String,default:""},borderRadius:{type:String,default:""},padding:{type:String,default:"12px 15px"},icon:{type:String,default:""},iconSize:{type:String,default:""},iconColor:{type:String,default:""},textAlign:{type:String,default:"center"},loading:{type:Boolean,default:!1},textLines:{type:Number,default:0},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(o,t){var w=t.expose;const j=n.utils,k=n.colors,A=o,L=j.randomComId(),R=a(!1),h=a(null),M=a(new i({})),O=u((()=>{let e=M.value.icon;return null!=e&&""!=e.trim()})),B=u((()=>x("color",A.textColor,"#fff"))),I=u((()=>x("font",A.textSize,n.configs.font.size(2)))),N=u((()=>x("color",A.iconColor,"#fff"))),T=u((()=>x("font",A.iconSize,n.configs.font.size(5)))),J=u((()=>""==A.bgColor?k.value.toast:A.bgColor)),E=u((()=>x("radius",A.borderRadius,n.configs.radius.normal))),F=u((()=>["center","top","bottom"].includes(A.position)?A.position:"center")),U=u((()=>{const e=new Map;return e.set("z-index",n.configs.zIndex.toast),e.set("transition-duration",n.configs.aniTime.normal),e})),$=u((()=>{const e=new Map;return e.set("margin-right","6px"),e})),q=u((()=>{const e=new Map;return e.set("word-break","break-all"),e.set("flex","1"),e})),D=u((()=>{var e,l,o;const t=new Map;return t.set("border-radius",null!==(e=M.value.borderRadius)&&void 0!==e?e:E.value),t.set("padding",null!==(l=M.value.padding)&&void 0!==l?l:A.padding),t.set("background",null!==(o=M.value.bgColor)&&void 0!==o?o:J.value),t.set("transition-duration",n.configs.aniTime.normal),t})),G=u((()=>{let e=new Map;return e.set("top","top"==M.value.position),e.set("center","center"==M.value.position),e.set("bottom","bottom"==M.value.position),e.set("hover",R.value),e}));function H(){var e,l;R.value=!1,null===(l=null===(e=h.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e)}return w({show:function(){var e,l;M.value.bgColor=J.value,M.value.borderRadius=E.value,M.value.text=A.text,M.value.overlay=A.overlay,M.value.loading=A.loading,M.value.position=F.value,M.value.duration=A.duration,M.value.textSize=I.value,M.value.textColor=B.value,M.value.iconSize=T.value,M.value.iconColor=N.value,M.value.padding=A.padding,M.value.icon=A.icon,M.value.textLines=A.textLines,M.value.textAlign=A.textAlign,M.value.overlay&&(null===(l=null===(e=h.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e)),R.value=!0,M.value.loading||j.debounce((()=>{H()}),M.value.duration)},configShow:function(e=null){var l,o,t,n,a,u,r,s,d,v,c,p,g,f,x,y,m;e=null!=e?e:new i({}),M.value.bgColor=null!==(l=e.bgColor)&&void 0!==l?l:J.value,M.value.borderRadius=null!==(o=e.borderRadius)&&void 0!==o?o:E.value,M.value.text=null!==(t=e.text)&&void 0!==t?t:A.text,M.value.overlay=null!==(n=e.overlay)&&void 0!==n?n:A.overlay,M.value.loading=null!==(a=e.loading)&&void 0!==a?a:A.loading,M.value.position=null!==(u=e.position)&&void 0!==u?u:F.value,M.value.duration=null!==(r=e.duration)&&void 0!==r?r:A.duration,M.value.textSize=null!==(s=e.textSize)&&void 0!==s?s:I.value,M.value.textColor=null!==(d=e.textColor)&&void 0!==d?d:B.value,M.value.iconSize=null!==(v=e.iconSize)&&void 0!==v?v:T.value,M.value.iconColor=null!==(c=e.iconColor)&&void 0!==c?c:N.value,M.value.padding=null!==(p=e.padding)&&void 0!==p?p:A.padding,M.value.icon=null!==(g=e.icon)&&void 0!==g?g:A.icon,M.value.textLines=null!==(f=e.textLines)&&void 0!==f?f:A.textLines,M.value.textAlign=null!==(x=e.textAlign)&&void 0!==x?x:A.textAlign,M.value.overlay&&(null===(m=null===(y=h.value)||void 0===y?void 0:y.open)||void 0===m||m.call(y)),R.value=!0,M.value.loading||j.debounce((()=>{H()}),M.value.duration,L)},close:H}),(o=null,t=null)=>{const n=C(r("sn-icon"),e),a=C(r("sn-loading"),z),i=C(r("sn-text"),l),u=y,x=C(r("sn-overlay"),_);return m(),s(f,null,[d(u,{class:c(["sn-toast-contain",p(G)]),style:g(p(U))},{default:v((()=>[d(u,{class:"sn-toast",style:g(p(D))},{default:v((()=>{var e,l,o,t,u,r,s,v,c,f,x,y;return[!p(O)||null!==(e=p(M).loading)&&void 0!==e&&e?b("",!0):(m(),S(n,{key:0,name:null!==(l=p(M).icon)&&void 0!==l?l:"",color:null!==(o=p(M).iconColor)&&void 0!==o?o:p(N),size:null!==(t=p(M).iconSize)&&void 0!==t?t:p(T),style:g(p($))},null,8,["name","color","size","style"])),null!==(u=p(M).loading)&&void 0!==u&&u?(m(),S(a,{key:1,iconColor:null!==(r=p(M).iconColor)&&void 0!==r?r:p(N),iconSize:null!==(s=p(M).iconSize)&&void 0!==s?s:p(T),style:g(p($))},null,8,["iconColor","iconSize","style"])):b("",!0),d(i,{text:null!==(v=p(M).text)&&void 0!==v?v:"",align:null!==(c=p(M).textAlign)&&void 0!==c?c:"center",color:null!==(f=p(M).textColor)&&void 0!==f?f:p(B),size:null!==(x=p(M).textSize)&&void 0!==x?x:p(I),lines:null!==(y=p(M).textLines)&&void 0!==y?y:0,style:g(p(q))},null,8,["text","align","color","size","lines","style"])]})),_:1},8,["style"])])),_:1},8,["class","style"]),d(x,{ref_key:"overlayEle",ref:h,maskClose:!1,opacity:0},null,512)],64)}}})),[["__scopeId","data-v-4b04168c"]]);export{w as _};
