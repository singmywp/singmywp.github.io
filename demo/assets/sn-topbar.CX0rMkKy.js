import{d as t,c as e,e as l,f as o,q as n,u as a,k as s,o as u,t as i,r,b as c,p as d,v as y,G as f,g,N as m,O as p,m as b,h as v,F as S,j as C,B as x,P as h}from"./index-DNTc1GxZ.js";import{c as B,a as k,b as z,_ as w}from"./sn-button.BaZjRh9m.js";import{$ as _,r as T,S as j}from"./uni-app.es.D9ZkitmT.js";const I=B(t(Object.assign({name:"sn-row"},{__name:"sn-row",props:{justify:{type:String,default:"start"},align:{type:String,default:"center"},wrap:{type:Boolean,default:!1},customStyle:{type:Object,default:{}}},setup(t){const r=t,c=e((()=>{let t=r.justify;return"left"==t||"start"==t?"flex-start":"right"==t||"end"==t?"flex-end":"around"==t||"between"==t?"space-".concat(t):t})),d=e((()=>{let t=r.align;return"top"==t||"start"==t?"flex-start":"bottom"==t||"end"==t?"flex-end":"around"==t||"between"==t?"space-".concat(t):t})),y=e((()=>{let t=new Map;return t.set("justify-content",c.value),t.set("align-items",d.value),t.set("flex-wrap",r.wrap?"wrap":"nowrap"),t.set("transition-duration",_.configs.aniTime.normal),t}));return(e=null,r=null)=>{const c=s;return u(),l(c,{class:"sn-row",style:n([a(y),t.customStyle])},{default:o((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-9d4e1fb4"]]),M=B(t(Object.assign({name:"sn-menu-item"},{__name:"sn-menu-item",props:{listMode:{type:Boolean,default:!1},icon:{type:String,default:""},text:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},textColor:{type:String,default:""},textSize:{type:String,default:""},textAlign:{type:String,default:"left"},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},customIconStyle:{type:Object,default:{}},customTextStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},setup(t){const i=_.colors,m=_.utils,p=t,b=r(!1),v=e((()=>""==p.iconColor?i.value.text:p.iconColor)),S=e((()=>""==p.textColor?i.value.text:p.textColor)),C=e((()=>""==p.activeBgColor?i.value.info:p.activeBgColor)),x=e((()=>""==p.iconSize?_.configs.font.size(4):p.iconSize)),h=e((()=>""==p.textSize?_.configs.font.size(2):p.textSize)),B=e((()=>{let t=new Map,e=p.disabled?i.value.disabled:b.value?C.value:""==p.bgColor?i.value.front:p.bgColor;return t.set("background",e),t.set("transition-duration",_.configs.aniTime.normal),t})),w=e((()=>{let t=new Map;return t.set("marginRight","".concat(m.getPx(x.value)/2,"px")),t.set("transition-duration",_.configs.aniTime.normal),t})),j=e((()=>!m.isEmpty(p.icon)));return(e=null,r=null)=>{const m=T(c("sn-icon"),k),p=T(c("sn-text"),z),C=s,_=f;return t.listMode?t.listMode?(u(),l(_,{key:1,class:"sn-menu-item",onTouchstart:r[5]||(r[5]=(t=null)=>b.value=!0),onTouchend:r[6]||(r[6]=(t=null)=>b.value=!1),onTouchcancel:r[7]||(r[7]=(t=null)=>b.value=!1),style:n([a(B),t.customStyle])},{default:o((()=>[a(j)?(u(),l(m,{key:0,name:t.icon,size:a(x),color:t.disabled?a(i).disabled:a(v),customStyle:t.customIconStyle,style:n(a(w))},null,8,["name","size","color","customStyle","style"])):y("",!0),g(p,{class:"sn-menu-item-text",text:t.text,align:t.textAlign,size:a(h),color:t.disabled?a(i).disabled:a(S),customStyle:t.customTextStyle},null,8,["text","align","size","color","customStyle"])])),_:1},8,["style"])):y("",!0):(u(),l(C,{key:0,class:d(["sn-menu-item",new UTSJSONObject({disabled:t.disabled})]),onTouchstart:r[0]||(r[0]=(t=null)=>b.value=!0),onTouchend:r[1]||(r[1]=(t=null)=>b.value=!1),onTouchcancel:r[2]||(r[2]=(t=null)=>b.value=!1),onMousedown:r[3]||(r[3]=(t=null)=>b.value=!0),onMouseup:r[4]||(r[4]=(t=null)=>b.value=!1),style:n([a(B),t.customStyle])},{default:o((()=>[a(j)?(u(),l(m,{key:0,name:t.icon,size:a(x),color:t.disabled?a(i).disabled:a(v),style:n(a(w)),customStyle:t.customIconStyle},null,8,["name","size","color","style","customStyle"])):y("",!0),g(p,{class:"sn-menu-item-text",text:t.text,align:t.textAlign,size:a(h),color:t.disabled?a(i).disabled:a(S),customStyle:t.customTextStyle},null,8,["text","align","size","color","customStyle"])])),_:1},8,["class","style"]))}}})),[["__scopeId","data-v-d97d5eba"]]),O=B(t(Object.assign({name:"sn-overlay"},{__name:"sn-overlay",props:{maskClose:{type:Boolean,default:!0},renderMode:{type:String,default:"v-if"},opacity:{type:Number,default:.3},aniTime:{type:Number,default:parseInt(_.configs.aniTime.long)},bgColor:{type:String,default:"#000"},customStyle:{type:Object,default:{}}},emits:["clickMask"],setup(t,c){var d=c.expose;const f=c.emit,g=_.utils,v=t,S=r(!1),C=r(null),x=r(g.randomComId()),h=r(g.randomComId()),B=e((()=>{let t=v.bgColor,e=_.libs.color.tinyColor(t),l=e.isValid?e.toRgb():_.libs.color.tinyColor("#000").toRgb();return[l.r,l.g,l.b]})),k=e((()=>v.aniTime==parseInt(_.configs.aniTime.long)?parseInt(_.configs.aniTime.long):v.aniTime)),z=e((()=>"v-show"==v.renderMode?"v-show":"v-if")),w=e((()=>{let t=new Map;return t.set("zIndex",_.configs.zIndex.overlay),t.set("transition-duration","".concat(k.value,"ms")),t}));function T(t){b((()=>{if(null==C.value)return null;let e=C.value.style;g.throttle((()=>{null==e||e.setProperty("background-color","rgba(".concat(B.value[0],", ").concat(B.value[1],", ").concat(B.value[2],", ").concat(v.opacity,")")),null==e||e.setProperty("opacity","".concat(t?1:0))}),20,h.value)}))}function j(){T(!1),g.throttle((()=>{S.value=!1}),k.value,x.value)}function I(){v.maskClose&&(j(),f("clickMask"))}return d({open:function(){S.value=!0,b((()=>{T(!0)}))},close:j}),(e=null,r=null)=>{const c=s;return"v-if"!=a(z)||a(S)?m((u(),l(c,{key:0,class:"sn-overlay",ref_key:"overlayEle",ref:C,style:n([a(w),t.customStyle]),onClick:I},{default:o((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])),[[p,"v-show"!=a(z)||a(S)]]):y("",!0)}}})),[["__scopeId","data-v-ddc8e303"]]),A=B(t(Object.assign({name:"sn-topbar"},{__name:"sn-topbar",props:{height:{type:String,default:""},title:{type:String,default:""},titleColor:{type:String,default:""},titleFont:{type:String,default:"alipuhuiheavy"},titleSize:{type:String,default:""},bgColor:{type:String,default:""},menuBgColor:{type:String,default:""},activeMenuBgColor:{type:String,default:""},fixed:{type:Boolean,default:!0},boxShadow:{type:String,default:""},border:{type:String,default:""},borderRadius:{type:String,default:""},backButton:{type:Boolean,default:!0},menuButton:{type:Boolean,default:!1},buttonSize:{type:String,default:"35px"},buttonBgColor:{type:String,default:""},titleAlign:{type:String,default:"left"},features:{type:Array,default:[],validator:t=>{for(let e=0;e<t.length;e++){let l=t[e];if("menu"==l.id||null==l.icon)throw new Error("sn-topbar: feature 属性子项 id 不能为“menu”")}return!0}},menuData:{type:Array,default:[]},customTitleStyle:{type:Object,default:{}},customButtonStyle:{type:Object,default:{}},customButtonIconStyle:{type:Object,default:{}},customMenuStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["button-click","menu-click"],setup(t,f){var m=f.emit;const p=_.colors,b=_.utils,B=m,A=t,$=r(null),E=r(!1),N=r(b.randomComId()),R=new j({id:"menu",text:"",icon:"more-fill"}),P=e((()=>_.configs.app.theme)),F=e((()=>!b.isEmpty(A.title))),D=e((()=>"light"==_.configs.app.theme?.15:.5)),J=e((()=>""==A.titleColor?p.value.title:A.titleColor)),U=e((()=>""==A.height?_.configs.page.topbarHeight:A.height)),q=e((()=>""==A.titleSize?_.configs.font.size(4):A.titleSize)),G=e((()=>""==A.bgColor?p.value.page:A.bgColor)),H=e((()=>""==A.menuBgColor?p.value["".concat("light"==P.value?"front":"info")]:A.menuBgColor)),L=e((()=>""==A.menuBgColor?p.value["".concat("light"==P.value?"info":"infoLight")]:A.menuBgColor)),V=e((()=>{let t="light"==_.configs.app.theme?255:0;return""==A.buttonBgColor?"rgba(".concat(t,",").concat(t,",").concat(t,",0)"):A.buttonBgColor})),K=e((()=>{let t=new Map;return t.set("height",U.value),t.set("box-shadow",A.boxShadow),t.set("border-radius",A.borderRadius),t.set("border",A.border),t.set("backgroundColor",G.value),t.set("zIndex",_.configs.zIndex.navTabBar),t.set("transition-duration",_.configs.aniTime.normal),t})),Q=e((()=>{let t=new Map;return t.set("top",U.value),t.set("background",H.value),t.set("zIndex",_.configs.zIndex.popup),t.set("transition-duration",_.configs.aniTime.normal),t}));function W(t){var e,l,o,n;t?(null===(l=null===(e=$.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),b.throttle((()=>{E.value=!0}),20,N.value)):(E.value=!1,null===(n=null===(o=$.value)||void 0===o?void 0:o.close)||void 0===n||n.call(o))}function X(){E.value&&W(!1)}function Y(t){"menu"==t.id&&W(!0),B("button-click",t)}function Z(){h()}return(e=null,r=null)=>{const f=T(c("sn-icon"),k),m=T(c("sn-button"),w),p=T(c("sn-text"),z),b=T(c("sn-row"),I),h=s,_=T(c("sn-menu-item"),M),j=T(c("sn-overlay"),O);return u(),v(S,null,[g(h,{class:d(["sn-topbar",1==t.fixed?"sn-topbar-fixed":""]),style:n([a(K),t.customStyle])},{default:o((()=>[i(e.$slots,"header",{},(()=>[t.backButton?(u(),l(m,{key:0,round:"",roundSize:t.buttonSize,bgColor:a(V),activeBgColor:a(V),onClick:Z,style:n([t.customButtonStyle])},{default:o((()=>[g(f,{name:"arrow-left-s-line",style:n([t.customButtonIconStyle])},null,8,["style"])])),_:1},8,["roundSize","bgColor","activeBgColor","style"])):y("",!0)]),!0),i(e.$slots,"default",{},(()=>[a(F)?(u(),l(p,{key:0,overflow:"ellipsis",lines:1,text:t.title,color:a(J),align:t.titleAlign,font:t.titleFont,size:a(q),style:n(["flex: 1;margin: 0px 10px",t.customTitleStyle])},null,8,["text","color","align","font","size","style"])):y("",!0)]),!0),i(e.$slots,"footer",{},(()=>[g(b,{align:"center"},{default:o((()=>[(u(!0),v(S,null,C(t.features,((e,s)=>(u(),l(m,{round:"",key:s,roundSize:t.buttonSize,bgColor:a(V),activeBgColor:a(V),onClick:(t=null)=>Y(e),style:n([t.customButtonStyle])},{default:o((()=>{var t;return[g(f,{name:null!==(t=e.icon)&&void 0!==t?t:""},null,8,["name"])]})),_:2},1032,["roundSize","bgColor","activeBgColor","onClick","style"])))),128)),t.menuButton?(u(),l(m,{key:0,round:"",roundSize:t.buttonSize,activeBgColor:a(V),bgColor:a(V),onClick:r[0]||(r[0]=(t=null)=>Y(R)),style:n([t.customButtonStyle])},{default:o((()=>[g(f,{name:"more-fill"})])),_:1},8,["roundSize","activeBgColor","bgColor","style"])):y("",!0)])),_:1})]),!0)])),_:3},8,["class","style"]),g(j,{ref_key:"overlayEle",ref:$,opacity:a(D),maskClose:!1,onTouchstart:r[3]||(r[3]=(t=null)=>X()),onMousedown:r[4]||(r[4]=(t=null)=>X())},{default:o((()=>[i(e.$slots,"menu",{},(()=>[g(h,{class:d(["sn-topbar-menu",new UTSJSONObject({"sn-topbar-menu-show":a(E)})]),onTouchstart:r[1]||(r[1]=x((()=>{}),["stop"])),onMousedown:r[2]||(r[2]=x((()=>{}),["stop"])),style:n([a(Q),t.customMenuStyle])},{default:o((()=>[(u(!0),v(S,null,C(t.menuData,((t,e)=>{var o,n;return u(),l(_,{key:e,bgColor:a(H),activeBgColor:a(L),icon:null!==(o=t.icon)&&void 0!==o?o:"",text:null!==(n=t.text)&&void 0!==n?n:"",onClick:(e=null)=>(B("menu-click",t),void W(!1))},null,8,["bgColor","activeBgColor","icon","text","onClick"])})),128))])),_:1},8,["class","style"])]),!0)])),_:3},8,["opacity"]),t.fixed?(u(),l(h,{key:0,class:"fixed-placeholder",style:n({height:a(U)})},null,8,["style"])):y("",!0)],64)}}})),[["__scopeId","data-v-075a4172"]]);export{A as _,I as a,O as b,M as c};
