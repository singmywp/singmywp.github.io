import{d as e,c as t,b as l,e as o,q as n,u as a,$ as s,j as u,o as i,t as r,r as c,a as d,p as y,v as f,z as p,J as g,f as m,T as S,U as b,m as v,S as x,g as C,F as h,h as w,D as z,V as T}from"./index-BDGnenFq.js";import{c as k,a as B,b as O,_ as j}from"./sn-button.DCeBN0oM.js";import{r as _}from"./uni-app.es.BfR9KIrQ.js";const M=k(e(Object.assign({name:"sn-row"},{__name:"sn-row",props:{justify:{type:String,default:"start"},align:{type:String,default:"center"},wrap:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(e){const c=e,d=t((()=>{let e=c.justify;return"left"==e||"start"==e?"flex-start":"right"==e||"end"==e?"flex-end":"around"==e||"between"==e?"space-".concat(e):e})),y=t((()=>{let e=c.align;return"top"==e||"start"==e?"flex-start":"bottom"==e||"end"==e?"flex-end":"around"==e||"between"==e?"space-".concat(e):e})),f=t((()=>{let e=new Map;return e.set("justify-content",d.value),e.set("align-items",y.value),e.set("flex-wrap",c.wrap?"wrap":"nowrap"),e.set("transition-duration",s.configs.aniTime.normal),e}));return(t=null,s=null)=>{const c=u;return i(),l(c,{class:"sn-row",style:n([a(f),e.customStyle])},{default:o((()=>[r(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-bcf7b73a"]]),I=k(e(Object.assign({name:"sn-menu-item"},{__name:"sn-menu-item",props:{listMode:{type:Boolean,default:!1},icon:{type:String,default:""},text:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},iconPosition:{type:String,default:"left"},borderRadius:{type:String,default:""},textColor:{type:String,default:""},textSize:{type:String,default:""},textAlign:{type:String,default:"left"},padding:{type:String,default:"12px 15px"},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledIconColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},customIconStyle:{type:Object,default:new UTSJSONObject({})},customTextStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(e){const r=s.colors,S=s.utils,b=e,v=c(!1),x=t((()=>["left","right"].includes(b.iconPosition)?b.iconPosition:"left")),C=t((()=>p("color",b.iconColor,r.value.text))),h=t((()=>p("color",b.textColor,r.value.text))),w=t((()=>p("color",b.activeBgColor,r.value.info))),z=t((()=>p("color",b.disabledBgColor,r.value.disabled))),T=t((()=>p("color",b.disabledTextColor,r.value.disabledText))),k=t((()=>p("color",b.disabledIconColor,r.value.disabledText))),j=t((()=>p("font",b.iconSize,s.configs.font.size(4)))),M=t((()=>p("color",b.bgColor,r.value.front))),I=t((()=>p("font",b.textSize,s.configs.font.size(2)))),J=t((()=>{let e=new Map,t=b.disabled?z.value:v.value?w.value:M.value;return e.set("background",t),e.set("border-radius",b.borderRadius),e.set("padding",b.padding),e.set("transition-duration",s.configs.aniTime.normal),e})),N=t((()=>{let e=new Map;return e.set("marginRight","".concat(S.getPx(j.value)/2,"px")),e.set("transition-duration",s.configs.aniTime.normal),e})),U=t((()=>!S.isEmpty(b.icon)));return(t=null,s=null)=>{const r=_(d("sn-icon"),B),c=_(d("sn-text"),O),p=u,S=g;return e.listMode?e.listMode?(i(),l(S,{key:1,class:"sn-menu-item",onTouchstart:s[5]||(s[5]=(e=null)=>v.value=!0),onTouchend:s[6]||(s[6]=(e=null)=>v.value=!1),onTouchcancel:s[7]||(s[7]=(e=null)=>v.value=!1),onMousedown:s[8]||(s[8]=(e=null)=>v.value=!0),onMouseup:s[9]||(s[9]=(e=null)=>v.value=!1),style:n([a(J),e.customStyle])},{default:o((()=>[a(U)&&"left"==a(x)?(i(),l(r,{key:0,name:e.icon,size:a(j),color:e.disabled?a(k):a(C),customStyle:e.customIconStyle,style:n(a(N))},null,8,["name","size","color","customStyle","style"])):f("",!0),m(c,{class:"sn-menu-item-text",text:e.text,align:e.textAlign,size:a(I),color:e.disabled?a(T):a(h),customStyle:e.customTextStyle},null,8,["text","align","size","color","customStyle"]),a(U)&&"right"==a(x)?(i(),l(r,{key:1,name:e.icon,size:a(j),color:e.disabled?a(k):a(C),customStyle:e.customIconStyle,style:n(a(N))},null,8,["name","size","color","customStyle","style"])):f("",!0)])),_:1},8,["style"])):f("",!0):(i(),l(p,{key:0,class:y(["sn-menu-item",new UTSJSONObject({disabled:e.disabled})]),onTouchstart:s[0]||(s[0]=(e=null)=>v.value=!0),onTouchend:s[1]||(s[1]=(e=null)=>v.value=!1),onTouchcancel:s[2]||(s[2]=(e=null)=>v.value=!1),onMousedown:s[3]||(s[3]=(e=null)=>v.value=!0),onMouseup:s[4]||(s[4]=(e=null)=>v.value=!1),style:n([a(J),e.customStyle])},{default:o((()=>[a(U)&&"left"==a(x)?(i(),l(r,{key:0,name:e.icon,size:a(j),color:e.disabled?a(k):a(C),customStyle:e.customIconStyle,style:n(a(N))},null,8,["name","size","color","customStyle","style"])):f("",!0),m(c,{class:"sn-menu-item-text",text:e.text,align:e.textAlign,size:a(I),color:e.disabled?a(T):a(h),customStyle:e.customTextStyle},null,8,["text","align","size","color","customStyle"]),a(U)&&"right"==a(x)?(i(),l(r,{key:1,name:e.icon,size:a(j),color:e.disabled?a(k):a(C),customStyle:e.customIconStyle,style:n(a(N))},null,8,["name","size","color","customStyle","style"])):f("",!0)])),_:1},8,["class","style"]))}}})),[["__scopeId","data-v-536782fb"]]),J=k(e(Object.assign({name:"sn-overlay"},{__name:"sn-overlay",props:{maskClose:{type:Boolean,default:!0},renderMode:{type:String,default:"v-if"},opacity:{type:Number,default:.3},aniTime:{type:String,default:s.configs.aniTime.long},bgColor:{type:String,default:"#000"},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["clickMask"],setup(e,d){var y=d.expose;const g=d.emit,m=s.utils,x=e,C=c(!1),h=c(null),w=c(m.randomComId()),z=c(m.randomComId()),T=t((()=>{let e=p("color",x.bgColor,"#000"),t=s.libs.color.tinyColor(e),l=t.isValid?t.toRgb():s.libs.color.tinyColor("#000").toRgb();return[l.r,l.g,l.b]})),k=t((()=>p("aniTime",x.aniTime,s.configs.aniTime.long))),B=t((()=>"v-show"==x.renderMode?"v-show":"v-if")),O=t((()=>{let e=new Map;return e.set("zIndex",s.configs.zIndex.overlay),e})),j=t((()=>{let e=new Map;return e.set("transition-duration",k.value),e}));function _(e){v((()=>{var t;let l=null===(t=h.value)||void 0===t?void 0:t.style;m.throttle((()=>{null==l||l.setProperty("background-color","rgba(".concat(T.value[0],", ").concat(T.value[1],", ").concat(T.value[2],", ").concat(x.opacity,")")),null==l||l.setProperty("opacity","".concat(e?1:0))}),20,z.value)}))}function M(){_(!1),m.throttle((()=>{C.value=!1}),parseInt(k.value),w.value)}function I(){x.maskClose&&(M(),g("clickMask"))}return y({open:function(){C.value=!0,v((()=>{_(!0)}))},close:M}),(t=null,s=null)=>{const c=u;return S((i(),l(c,{class:"sn-overlay-contain",style:n(a(O))},{default:o((()=>["v-if"!=a(B)||a(C)?S((i(),l(c,{key:0,class:"sn-overlay",ref_key:"overlayEle",ref:h,style:n([a(j),e.customStyle]),onClick:I},{default:o((()=>[r(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])),[[b,"v-show"!=a(B)||a(C)]]):f("",!0)])),_:3},8,["style"])),[[b,a(C)]])}}})),[["__scopeId","data-v-ddfe1c54"]]),N=k(e(Object.assign({name:"sn-topbar"},{__name:"sn-topbar",props:{height:{type:String,default:""},title:{type:String,default:""},titleColor:{type:String,default:""},titleFont:{type:String,default:"alipuhuiheavy"},titleSize:{type:String,default:""},bgColor:{type:String,default:""},menuBgColor:{type:String,default:""},activeMenuBgColor:{type:String,default:""},fixed:{type:Boolean,default:!0},boxShadow:{type:String,default:""},border:{type:String,default:""},borderRadius:{type:String,default:""},backButton:{type:Boolean,default:!0},menuButton:{type:Boolean,default:!1},menuBorderRadius:{type:String,default:""},buttonSize:{type:String,default:"35px"},buttonBgColor:{type:String,default:""},titleAlign:{type:String,default:"left"},features:{type:Array,default:[],validator:e=>{for(let t=0;t<e.length;t++){let l=e[t];if("menu"==l.id||null==l.icon)throw new Error("sn-topbar: feature 属性子项 id 不能为“menu”")}return!0}},menuData:{type:Array,default:[]},customTitleStyle:{type:Object,default:new UTSJSONObject({})},customButtonStyle:{type:Object,default:new UTSJSONObject({})},customButtonIconStyle:{type:Object,default:new UTSJSONObject({})},customMenuStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["button-click","menu-click"],setup(e,g){var S=g.emit;const b=s.colors,v=s.utils,k=S,N=e,U=c(null),R=c(!1),A=c(v.randomComId()),$=new x({id:"menu",text:"",icon:"more-fill"}),P=t((()=>s.configs.app.theme)),E=t((()=>!v.isEmpty(N.title))),D=t((()=>"light"==s.configs.app.theme?.15:.5)),F=t((()=>p("color",N.titleColor,b.value.title))),V=t((()=>p("other",N.height,s.configs.page.topbarHeight))),q=t((()=>p("font",N.titleSize,s.configs.font.size(4)))),H=t((()=>p("color",N.bgColor,b.value.page))),L=t((()=>p("color",N.menuBgColor,b.value["".concat("light"==P.value?"front":"info")]))),G=t((()=>p("radius",N.menuBorderRadius,s.configs.radius.normal))),K=t((()=>p("color",N.activeMenuBgColor,b.value["".concat("light"==P.value?"info":"infoLight")]))),Q=t((()=>{let e="light"==s.configs.app.theme?255:0;return p("color",N.buttonBgColor,"rgba(".concat(e,",").concat(e,",").concat(e,",0)"))})),W=t((()=>{let e=new Map;return e.set("height",V.value),e.set("box-shadow",N.boxShadow),e.set("border-radius",N.borderRadius),e.set("border",N.border),e.set("backgroundColor",H.value),e.set("zIndex",s.configs.zIndex.navTabBar),e.set("transition-duration",s.configs.aniTime.normal),e})),X=t((()=>{let e=new Map;return e.set("top",V.value),e.set("border-radius",G.value),e.set("background",L.value),e.set("zIndex",s.configs.zIndex.popup),e.set("transition-duration",s.configs.aniTime.normal),e}));function Y(e){var t,l,o,n;e?(null===(l=null===(t=U.value)||void 0===t?void 0:t.open)||void 0===l||l.call(t),v.throttle((()=>{R.value=!0}),20,A.value)):(R.value=!1,null===(n=null===(o=U.value)||void 0===o?void 0:o.close)||void 0===n||n.call(o))}function Z(){R.value&&Y(!1)}function ee(e){"menu"==e.id&&Y(!0),k("button-click",e)}function te(){T()}return(t=null,s=null)=>{const c=_(d("sn-icon"),B),p=_(d("sn-button"),j),g=_(d("sn-text"),O),S=_(d("sn-row"),M),b=u,v=_(d("sn-menu-item"),I),x=_(d("sn-overlay"),J);return i(),C(h,null,[m(b,{class:y(["sn-topbar",1==e.fixed?"sn-topbar-fixed":""]),style:n([a(W),e.customStyle])},{default:o((()=>[r(t.$slots,"header",{},(()=>[e.backButton?(i(),l(p,{key:0,round:"",roundSize:e.buttonSize,bgColor:a(Q),activeBgColor:a(Q),onClick:te,style:n([e.customButtonStyle])},{default:o((()=>[m(c,{name:"arrow-left-s-line",style:n([e.customButtonIconStyle])},null,8,["style"])])),_:1},8,["roundSize","bgColor","activeBgColor","style"])):f("",!0)]),!0),r(t.$slots,"default",{},(()=>[a(E)?(i(),l(g,{key:0,overflow:"ellipsis",lines:1,text:e.title,color:a(F),align:e.titleAlign,font:e.titleFont,size:a(q),style:n(["flex: 1;margin: 0px 10px",e.customTitleStyle])},null,8,["text","color","align","font","size","style"])):f("",!0)]),!0),r(t.$slots,"footer",{},(()=>[m(S,{align:"center"},{default:o((()=>[(i(!0),C(h,null,w(e.features,((t,s)=>(i(),l(p,{round:"",key:s,roundSize:e.buttonSize,bgColor:a(Q),activeBgColor:a(Q),onClick:(e=null)=>ee(t),style:n([e.customButtonStyle])},{default:o((()=>{var e;return[m(c,{name:null!==(e=t.icon)&&void 0!==e?e:""},null,8,["name"])]})),_:2},1032,["roundSize","bgColor","activeBgColor","onClick","style"])))),128)),e.menuButton?(i(),l(p,{key:0,round:"",roundSize:e.buttonSize,activeBgColor:a(Q),bgColor:a(Q),onClick:s[0]||(s[0]=(e=null)=>ee($)),style:n([e.customButtonStyle])},{default:o((()=>[m(c,{name:"more-fill"})])),_:1},8,["roundSize","activeBgColor","bgColor","style"])):f("",!0)])),_:1})]),!0)])),_:3},8,["class","style"]),m(x,{ref_key:"overlayEle",ref:U,opacity:a(D),maskClose:!1,onTouchstart:s[3]||(s[3]=(e=null)=>Z()),onMousedown:s[4]||(s[4]=(e=null)=>Z())},{default:o((()=>[r(t.$slots,"menu",{},(()=>[m(b,{class:y(["sn-topbar-menu",new UTSJSONObject({"sn-topbar-menu-show":a(R)})]),onTouchstart:s[1]||(s[1]=z((()=>{}),["stop"])),onMousedown:s[2]||(s[2]=z((()=>{}),["stop"])),style:n([a(X),e.customMenuStyle])},{default:o((()=>[(i(!0),C(h,null,w(e.menuData,((e,t)=>{var o,n;return i(),l(v,{key:t,bgColor:a(L),activeBgColor:a(K),icon:null!==(o=e.icon)&&void 0!==o?o:"",text:null!==(n=e.text)&&void 0!==n?n:"",onClick:(t=null)=>(k("menu-click",e),void Y(!1))},null,8,["bgColor","activeBgColor","icon","text","onClick"])})),128))])),_:1},8,["class","style"])]),!0)])),_:3},8,["opacity"]),e.fixed?(i(),l(b,{key:0,class:"fixed-placeholder",style:n({height:a(V)})},null,8,["style"])):f("",!0)],64)}}})),[["__scopeId","data-v-38e472ed"]]);export{N as _,M as a,J as b,I as c};
