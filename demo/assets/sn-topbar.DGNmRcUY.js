import{d as t,r as e,k as l,l as o,c as n,e as a,f as u,m as s,u as i,p as r,o as c,t as d,b as y,v as g,G as f,g as p,I as m,J as v,h as b,q as S,F as C,j as x,B as h,Q as B}from"./index-D82xabMX.js";import{c as k,a as z,b as _,_ as T}from"./sn-button.CJ0ZsVkl.js";import{$ as w,r as I,S as M}from"./uni-app.es.Cv0ss-rw.js";const j=k(t(Object.assign({name:"sn-button-group"},{__name:"sn-button-group",props:{vertical:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},justify:{type:String,default:"flex-start"},align:{type:String,default:"flex-start"}},setup(t){const y=t,g=e(null);l((()=>{o((()=>{let t=g.value.children,e=y.merge;for(let l=0;l<t.length;l++){let o=t[l];"COMMENT"!=o.tagName&&(o.style.setProperty("transition-duration",w.configs.aniTime.normal),o.style.setProperty("margin-right",e?"0":""),o.style.setProperty("margin-bottom",e?"0":""))}}))}));const f=n((()=>{let t=new Map;return t.set("flexDirection",y.vertical?"column":"row"),t.set("justifyContent",y.justify),t.set("alignItems",y.align),t.set("transition-duration",w.configs.aniTime.normal),t}));return(t=null,e=null)=>{const l=r;return c(),a(l,{ref_key:"buttonGroupEle",ref:g,class:"sn-button-group",style:s(i(f))},{default:u((()=>[d(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-a38799f2"]]),O=k(t(Object.assign({name:"sn-menu-item"},{__name:"sn-menu-item",props:{listMode:{type:Boolean,default:!1},icon:{type:String,default:""},text:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},textColor:{type:String,default:""},textSize:{type:String,default:""},textAlign:{type:String,default:"left"},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},activeBgColor:{type:String,default:""},customIconStyle:{type:Object,default:{}},customTextStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},setup(t){const l=w.colors,o=w.utils,d=t,m=e(!1),v=n((()=>""==d.iconColor?l.value.text:d.iconColor)),b=n((()=>""==d.textColor?l.value.text:d.textColor)),S=n((()=>""==d.activeBgColor?l.value.info:d.activeBgColor)),C=n((()=>""==d.iconSize?w.configs.font.size(4):d.iconSize)),x=n((()=>""==d.textSize?w.configs.font.size(2):d.textSize)),h=n((()=>{let t=new Map,e=d.disabled?l.value.disabled:m.value?S.value:""==d.bgColor?l.value.front:d.bgColor;return t.set("background",e),t.set("transition-duration",w.configs.aniTime.normal),t})),B=n((()=>{let t=new Map;return t.set("marginRight","".concat(o.getPx(C.value)/2,"px")),t.set("transition-duration",w.configs.aniTime.normal),t})),k=n((()=>!o.isEmpty(d.icon)));return(e=null,o=null)=>{const n=I(y("sn-icon"),z),d=I(y("sn-text"),_),S=r,T=f;return t.listMode?t.listMode?(c(),a(T,{key:1,class:"sn-menu-item",onTouchstart:o[5]||(o[5]=(t=null)=>m.value=!0),onTouchend:o[6]||(o[6]=(t=null)=>m.value=!1),onTouchcancel:o[7]||(o[7]=(t=null)=>m.value=!1),style:s([i(h),t.customStyle])},{default:u((()=>[i(k)?(c(),a(n,{key:0,name:t.icon,size:i(C),color:t.disabled?i(l).disabled:i(v),customStyle:t.customIconStyle,style:s(i(B))},null,8,["name","size","color","customStyle","style"])):g("",!0),p(d,{class:"sn-menu-item-text",text:t.text,align:t.textAlign,size:i(x),color:t.disabled?i(l).disabled:i(b),customStyle:t.customTextStyle},null,8,["text","align","size","color","customStyle"])])),_:1},8,["style"])):g("",!0):(c(),a(S,{key:0,class:"sn-menu-item",onTouchstart:o[0]||(o[0]=(t=null)=>m.value=!0),onTouchend:o[1]||(o[1]=(t=null)=>m.value=!1),onTouchcancel:o[2]||(o[2]=(t=null)=>m.value=!1),onMousedown:o[3]||(o[3]=(t=null)=>m.value=!0),onMouseup:o[4]||(o[4]=(t=null)=>m.value=!1),style:s([i(h),t.customStyle])},{default:u((()=>[i(k)?(c(),a(n,{key:0,name:t.icon,size:i(C),color:t.disabled?i(l).disabled:i(v),style:s(i(B)),customStyle:t.customIconStyle},null,8,["name","size","color","style","customStyle"])):g("",!0),p(d,{class:"sn-menu-item-text",text:t.text,align:t.textAlign,size:i(x),color:t.disabled?i(l).disabled:i(b),customStyle:t.customTextStyle},null,8,["text","align","size","color","customStyle"])])),_:1},8,["style"]))}}})),[["__scopeId","data-v-099922d2"]]),A=k(t(Object.assign({name:"sn-overlay"},{__name:"sn-overlay",props:{maskClose:{type:Boolean,default:!0},renderMode:{type:String,default:"v-if"},opacity:{type:Number,default:.3},aniTime:{type:Number,default:parseInt(w.configs.aniTime.long)},bgColor:{type:String,default:"#000"},customStyle:{type:Object,default:{}}},emits:["clickMask"],setup(t,l){var y=l.expose;const f=l.emit,p=w.utils,b=t,S=e(!1),C=e(null),x=e(p.randomComId()),h=e(p.randomComId()),B=n((()=>{let t=b.bgColor,e=w.libs.color.tinyColor(t),l=e.isValid?e.toRgb():w.libs.color.tinyColor("#000").toRgb();return[l.r,l.g,l.b]})),k=n((()=>b.aniTime==parseInt(w.configs.aniTime.long)?parseInt(w.configs.aniTime.long):b.aniTime)),z=n((()=>"v-show"==b.renderMode?"v-show":"v-if")),_=n((()=>{let t=new Map;return t.set("zIndex",w.configs.zIndex.overlay),t.set("transition-duration","".concat(k.value,"ms")),t}));function T(t){o((()=>{if(null==C.value)return null;let e=C.value.style;p.throttle((()=>{null==e||e.setProperty("background-color","rgba(".concat(B.value[0],", ").concat(B.value[1],", ").concat(B.value[2],", ").concat(b.opacity,")")),null==e||e.setProperty("opacity","".concat(t?1:0))}),20,h.value)}))}function I(){T(!1),p.throttle((()=>{S.value=!1}),k.value,x.value)}function M(){b.maskClose&&(I(),f("clickMask"))}return y({open:function(){S.value=!0,o((()=>{T(!0)}))},close:I}),(e=null,l=null)=>{const o=r;return"v-if"!=i(z)||i(S)?m((c(),a(o,{key:0,class:"sn-overlay",ref_key:"overlayEle",ref:C,style:s([i(_),t.customStyle]),onClick:M},{default:u((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])),[[v,"v-show"!=i(z)||i(S)]]):g("",!0)}}})),[["__scopeId","data-v-7985f1d4"]]),E=k(t(Object.assign({name:"sn-topbar"},{__name:"sn-topbar",props:{height:{type:String,default:""},title:{type:String,default:""},titleColor:{type:String,default:""},titleFont:{type:String,default:"alipuhuiheavy"},titleSize:{type:String,default:""},bgColor:{type:String,default:""},menuBgColor:{type:String,default:""},activeMenuBgColor:{type:String,default:""},fixed:{type:Boolean,default:!0},boxShadow:{type:String,default:""},border:{type:String,default:""},borderRadius:{type:String,default:""},backButton:{type:Boolean,default:!0},menuButton:{type:Boolean,default:!1},buttonSize:{type:String,default:"35px"},buttonBgColor:{type:String,default:""},buttonSpacing:{type:String,default:"0px"},titleAlign:{type:String,default:"left"},features:{type:Array,default:[],validator:t=>{for(let e=0;e<t.length;e++){let l=t[e];if("menu"==l.id||null==l.icon)throw new Error("sn-topbar: feature 属性子项 id 不能为“menu”")}return!0}},menuData:{type:Array,default:[]},customTitleStyle:{type:Object,default:{}},customButtonStyle:{type:Object,default:{}},customButtonIconStyle:{type:Object,default:{}},customMenuStyle:{type:Object,default:{}},customStyle:{type:Object,default:{}}},emits:["button-click","menu-click"],setup(t,l){var o=l.emit;const f=w.colors,m=w.utils,v=o,k=t,E=e(null),$=e(!1),D=e(m.randomComId()),P=new M({id:"menu",text:"",icon:"more-fill"}),N=n((()=>w.configs.app.theme)),R=n((()=>!m.isEmpty(k.title))),F=n((()=>"light"==w.configs.app.theme?.15:.5)),G=n((()=>""==k.titleColor?f.value.title:k.titleColor)),J=n((()=>""==k.height?w.configs.page.topbarHeight:k.height)),q=n((()=>""==k.titleSize?w.configs.font.size(4):k.titleSize)),H=n((()=>""==k.bgColor?f.value.page:k.bgColor)),L=n((()=>""==k.menuBgColor?f.value["".concat("light"==N.value?"front":"info")]:k.menuBgColor)),Q=n((()=>""==k.menuBgColor?f.value["".concat("light"==N.value?"info":"infoLight")]:k.menuBgColor)),U=n((()=>{let t="light"==w.configs.app.theme?255:0;return""==k.buttonBgColor?"rgba(".concat(t,",").concat(t,",").concat(t,",0)"):k.buttonBgColor})),V=n((()=>{let t=new Map;return t.set("height",J.value),t.set("box-shadow",k.boxShadow),t.set("border-radius",k.borderRadius),t.set("border",k.border),t.set("backgroundColor",H.value),t.set("zIndex",w.configs.zIndex.navTabBar),t.set("transition-duration",w.configs.aniTime.normal),t})),K=n((()=>{let t=new Map;return t.set("top",J.value),t.set("background",L.value),t.set("zIndex",w.configs.zIndex.popup),t.set("transition-duration",w.configs.aniTime.normal),t}));function W(t){var e,l,o,n;t?(null===(l=null===(e=E.value)||void 0===e?void 0:e.open)||void 0===l||l.call(e),m.throttle((()=>{$.value=!0}),20,D.value)):($.value=!1,null===(n=null===(o=E.value)||void 0===o?void 0:o.close)||void 0===n||n.call(o))}function X(){$.value&&W(!1)}function Y(t){"menu"==t.id&&W(!0),v("button-click",t)}function Z(){B()}return(e=null,l=null)=>{const o=I(y("sn-icon"),z),n=I(y("sn-button"),T),f=I(y("sn-text"),_),m=I(y("sn-button-group"),j),B=r,k=I(y("sn-menu-item"),O),w=I(y("sn-overlay"),A);return c(),b(C,null,[p(B,{class:S(["sn-topbar",1==t.fixed?"sn-topbar-fixed":""]),style:s([i(V),t.customStyle])},{default:u((()=>[d(e.$slots,"header",{},(()=>[t.backButton?(c(),a(n,{key:0,round:"",roundSize:t.buttonSize,bgColor:i(U),activeBgColor:i(U),onClick:Z,style:s([t.customButtonStyle])},{default:u((()=>[p(o,{name:"arrow-left-s-line",style:s([t.customButtonIconStyle])},null,8,["style"])])),_:1},8,["roundSize","bgColor","activeBgColor","style"])):g("",!0)]),!0),d(e.$slots,"default",{},(()=>[i(R)?(c(),a(f,{key:0,overflow:"ellipsis",lines:1,text:t.title,color:i(G),align:t.titleAlign,font:t.titleFont,size:i(q),style:s(["flex: 1;margin: 0px 10px",t.customTitleStyle])},null,8,["text","color","align","font","size","style"])):g("",!0)]),!0),d(e.$slots,"footer",{},(()=>[p(m,{align:"center",spacing:t.buttonSpacing},{default:u((()=>[(c(!0),b(C,null,x(t.features,((e,l)=>(c(),a(n,{round:"",key:l,roundSize:t.buttonSize,bgColor:i(U),activeBgColor:i(U),onClick:(t=null)=>Y(e),style:s([t.customButtonStyle])},{default:u((()=>{var t;return[p(o,{name:null!==(t=e.icon)&&void 0!==t?t:""},null,8,["name"])]})),_:2},1032,["roundSize","bgColor","activeBgColor","onClick","style"])))),128)),t.menuButton?(c(),a(n,{key:0,round:"",roundSize:t.buttonSize,activeBgColor:i(U),bgColor:i(U),onClick:l[0]||(l[0]=(t=null)=>Y(P)),style:s([t.customButtonStyle])},{default:u((()=>[p(o,{name:"more-fill"})])),_:1},8,["roundSize","activeBgColor","bgColor","style"])):g("",!0)])),_:1},8,["spacing"])]),!0)])),_:3},8,["class","style"]),p(w,{ref_key:"overlayEle",ref:E,opacity:i(F),maskClose:!1,onTouchstart:l[3]||(l[3]=(t=null)=>X()),onMousedown:l[4]||(l[4]=(t=null)=>X())},{default:u((()=>[d(e.$slots,"menu",{},(()=>[p(B,{class:S(["sn-topbar-menu",new UTSJSONObject({"sn-topbar-menu-show":i($)})]),onTouchstart:l[1]||(l[1]=h((()=>{}),["stop"])),onMousedown:l[2]||(l[2]=h((()=>{}),["stop"])),style:s([i(K),t.customMenuStyle])},{default:u((()=>[(c(!0),b(C,null,x(t.menuData,((t,e)=>{var l,o;return c(),a(k,{key:e,bgColor:i(L),activeBgColor:i(Q),icon:null!==(l=t.icon)&&void 0!==l?l:"",text:null!==(o=t.text)&&void 0!==o?o:"",onClick:(e=null)=>(v("menu-click",t),void W(!1))},null,8,["bgColor","activeBgColor","icon","text","onClick"])})),128))])),_:1},8,["class","style"])]),!0)])),_:3},8,["opacity"]),t.fixed?(c(),a(B,{key:0,class:"fixed-placeholder",style:s({height:i(J)})},null,8,["style"])):g("",!0)],64)}}})),[["__scopeId","data-v-6cee5d81"]]);export{E as _,j as a,A as b,O as c};
