import{d as e,c as t,b as l,e as o,q as n,u as a,$ as s,j as u,o as i,B as r,r as c,a as d,p as y,C as f,y as g,J as p,f as m,T as b,U as S,m as v,S as C,g as x,F as k,h as w,A as B,V as h}from"./index-DoInGK9X.js";import{c as z,a as T,b as _,_ as O}from"./sn-button.B1LvAG78.js";import{r as j}from"./uni-app.es.K1mZmM8s.js";const M=z(e(Object.assign({name:"sn-row"},{__name:"sn-row",props:{justify:{type:String,default:"start"},align:{type:String,default:"center"},wrap:{type:Boolean,default:!1},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(e){const c=e,d=t((()=>{let e=c.justify;return"left"==e||"start"==e?"flex-start":"right"==e||"end"==e?"flex-end":"around"==e||"between"==e?"space-".concat(e):e})),y=t((()=>{let e=c.align;return"top"==e||"start"==e?"flex-start":"bottom"==e||"end"==e?"flex-end":"around"==e||"between"==e?"space-".concat(e):e})),f=t((()=>{let e=new Map;return e.set("justify-content",d.value),e.set("align-items",y.value),e.set("flex-wrap",c.wrap?"wrap":"nowrap"),e.set("transition-duration",s.configs.aniTime.normal),e}));return(t=null,s=null)=>{const c=u;return i(),l(c,{class:"sn-row",style:n([a(f),e.customStyle])},{default:o((()=>[r(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}}})),[["__scopeId","data-v-bcf7b73a"]]),I=e(Object.assign({name:"sn-e-blurview"},{__name:"index",props:{radius:{type:Number,default:15}},setup(e){const s=e,c=t((()=>{let e=new Map;return e.set("backdrop-filter","blur(".concat(s.radius,"px)")),e.set("-webkit-backdrop-filter","blur(".concat(s.radius,"px)")),e}));return(e=null,t=null)=>{const s=u;return i(),l(s,{style:n([a(c)])},{default:o((()=>[r(e.$slots,"default")])),_:3},8,["style"])}}})),N=z(e(Object.assign({name:"sn-menu-item"},{__name:"sn-menu-item",props:{listMode:{type:Boolean,default:!1},icon:{type:String,default:""},text:{type:String,default:""},iconColor:{type:String,default:""},iconSize:{type:String,default:""},iconPosition:{type:String,default:"left"},borderRadius:{type:String,default:""},textColor:{type:String,default:""},textSize:{type:String,default:""},textAlign:{type:String,default:"left"},padding:{type:String,default:"12px 15px"},disabled:{type:Boolean,default:!1},bgColor:{type:String,default:""},disabledBgColor:{type:String,default:""},disabledIconColor:{type:String,default:""},disabledTextColor:{type:String,default:""},activeBgColor:{type:String,default:""},customIconStyle:{type:Object,default:new UTSJSONObject({})},customTextStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},setup(e){const r=s.colors,b=s.utils,S=e,v=c(!1),C=t((()=>["left","right"].includes(S.iconPosition)?S.iconPosition:"left")),x=t((()=>g("color",S.iconColor,r.value.text))),k=t((()=>g("color",S.textColor,r.value.text))),w=t((()=>g("color",S.activeBgColor,r.value.info))),B=t((()=>g("color",S.disabledBgColor,r.value.disabled))),h=t((()=>g("color",S.disabledTextColor,r.value.disabledText))),z=t((()=>g("color",S.disabledIconColor,r.value.disabledText))),O=t((()=>g("font",S.iconSize,s.configs.font.size(4)))),M=t((()=>g("color",S.bgColor,r.value.front))),I=t((()=>g("font",S.textSize,s.configs.font.size(2)))),N=t((()=>{let e=new Map,t=S.disabled?B.value:v.value?w.value:M.value;return e.set("background",t),e.set("border-radius",S.borderRadius),e.set("padding",S.padding),e.set("transition-duration",s.configs.aniTime.normal),e})),J=t((()=>{let e=new Map;return e.set("marginRight","".concat(b.getPx(O.value)/2,"px")),e.set("transition-duration",s.configs.aniTime.normal),e})),U=t((()=>!b.isEmpty(S.icon)));return(t=null,s=null)=>{const r=j(d("sn-icon"),T),c=j(d("sn-text"),_),g=u,b=p;return e.listMode?e.listMode?(i(),l(b,{key:1,class:"sn-menu-item",onTouchstart:s[5]||(s[5]=(e=null)=>v.value=!0),onTouchend:s[6]||(s[6]=(e=null)=>v.value=!1),onTouchcancel:s[7]||(s[7]=(e=null)=>v.value=!1),onMousedown:s[8]||(s[8]=(e=null)=>v.value=!0),onMouseup:s[9]||(s[9]=(e=null)=>v.value=!1),style:n([a(N),e.customStyle])},{default:o((()=>[a(U)&&"left"==a(C)?(i(),l(r,{key:0,name:e.icon,size:a(O),color:e.disabled?a(z):a(x),customStyle:e.customIconStyle,style:n(a(J))},null,8,["name","size","color","customStyle","style"])):f("",!0),m(c,{class:"sn-menu-item-text",text:e.text,align:e.textAlign,size:a(I),color:e.disabled?a(h):a(k),customStyle:e.customTextStyle},null,8,["text","align","size","color","customStyle"]),a(U)&&"right"==a(C)?(i(),l(r,{key:1,name:e.icon,size:a(O),color:e.disabled?a(z):a(x),customStyle:e.customIconStyle,style:n(a(J))},null,8,["name","size","color","customStyle","style"])):f("",!0)])),_:1},8,["style"])):f("",!0):(i(),l(g,{key:0,class:y(["sn-menu-item",new UTSJSONObject({disabled:e.disabled})]),onTouchstart:s[0]||(s[0]=(e=null)=>v.value=!0),onTouchend:s[1]||(s[1]=(e=null)=>v.value=!1),onTouchcancel:s[2]||(s[2]=(e=null)=>v.value=!1),onMousedown:s[3]||(s[3]=(e=null)=>v.value=!0),onMouseup:s[4]||(s[4]=(e=null)=>v.value=!1),style:n([a(N),e.customStyle])},{default:o((()=>[a(U)&&"left"==a(C)?(i(),l(r,{key:0,name:e.icon,size:a(O),color:e.disabled?a(z):a(x),customStyle:e.customIconStyle,style:n(a(J))},null,8,["name","size","color","customStyle","style"])):f("",!0),m(c,{class:"sn-menu-item-text",text:e.text,align:e.textAlign,size:a(I),color:e.disabled?a(h):a(k),customStyle:e.customTextStyle},null,8,["text","align","size","color","customStyle"]),a(U)&&"right"==a(C)?(i(),l(r,{key:1,name:e.icon,size:a(O),color:e.disabled?a(z):a(x),customStyle:e.customIconStyle,style:n(a(J))},null,8,["name","size","color","customStyle","style"])):f("",!0)])),_:1},8,["class","style"]))}}})),[["__scopeId","data-v-536782fb"]]),J=z(e(Object.assign({name:"sn-overlay"},{__name:"sn-overlay",props:{maskClose:{type:Boolean,default:!0},renderMode:{type:String,default:"v-if"},opacity:{type:Number,default:.3},aniTime:{type:String,default:s.configs.aniTime.long},bgColor:{type:String,default:"#000"},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["clickMask","open","close"],setup(e,d){var y=d.expose;const p=d.emit,m=s.utils,C=e,x=c(!1),k=c(null),w=c(m.randomComId()),B=c(m.randomComId()),h=t((()=>{let e=g("color",C.bgColor,"#000"),t=s.libs.color.tinyColor(e),l=t.isValid?t.toRgb():s.libs.color.tinyColor("#000").toRgb();return[l.r,l.g,l.b]})),z=t((()=>g("aniTime",C.aniTime,s.configs.aniTime.long))),T=t((()=>"v-show"==C.renderMode?"v-show":"v-if")),_=t((()=>{let e=new Map;return e.set("zIndex",s.configs.zIndex.overlay),e})),O=t((()=>{let e=new Map;return e.set("transition-duration",z.value),e}));function j(e){v((()=>{var t;let l=null===(t=k.value)||void 0===t?void 0:t.style;m.throttle((()=>{null==l||l.setProperty("background-color","rgba(".concat(h.value[0],", ").concat(h.value[1],", ").concat(h.value[2],", ").concat(C.opacity,")")),null==l||l.setProperty("opacity","".concat(e?1:0))}),20,B.value)}))}function M(){j(!1),m.throttle((()=>{x.value=!1,p("close")}),parseInt(z.value),w.value)}function I(){C.maskClose&&(M(),p("clickMask"))}return y({open:function(){x.value=!0,v((()=>{j(!0)})),p("open")},close:M}),(t=null,s=null)=>{const c=u;return b((i(),l(c,{class:"sn-overlay-contain",style:n(a(_))},{default:o((()=>["v-if"!=a(T)||a(x)?b((i(),l(c,{key:0,class:"sn-overlay",ref_key:"overlayEle",ref:k,style:n([a(O),e.customStyle]),onClick:I},{default:o((()=>[r(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])),[[S,"v-show"!=a(T)||a(x)]]):f("",!0)])),_:3},8,["style"])),[[S,a(x)]])}}})),[["__scopeId","data-v-afe135f0"]]),U=z(e(Object.assign({name:"sn-topbar"},{__name:"sn-topbar",props:{height:{type:String,default:""},title:{type:String,default:""},titleColor:{type:String,default:""},titleFont:{type:String,default:"alipuhuiheavy"},titleSize:{type:String,default:""},blur:{type:Boolean,default:!1},bgColor:{type:String,default:""},menuBgColor:{type:String,default:""},activeMenuBgColor:{type:String,default:""},fixed:{type:Boolean,default:!0},boxShadow:{type:String,default:""},border:{type:String,default:""},borderRadius:{type:String,default:""},backButton:{type:Boolean,default:!0},menuButton:{type:Boolean,default:!1},menuBorderRadius:{type:String,default:""},buttonSize:{type:String,default:"35px"},buttonBgColor:{type:String,default:""},titleAlign:{type:String,default:"left"},features:{type:Array,default:[],validator:e=>{for(let t=0;t<e.length;t++){let l=e[t];if("menu"==l.id||null==l.icon)throw new Error("sn-topbar: feature 属性子项 id 不能为“menu”")}return!0}},menuData:{type:Array,default:[]},customTitleStyle:{type:Object,default:new UTSJSONObject({})},customButtonStyle:{type:Object,default:new UTSJSONObject({})},customButtonIconStyle:{type:Object,default:new UTSJSONObject({})},customMenuStyle:{type:Object,default:new UTSJSONObject({})},customStyle:{type:Object,default:new UTSJSONObject({})}},emits:["button-click","menu-click"],setup(e,p){var b=p.emit;const S=s.colors,v=s.utils,z=b,U=e,$=c(null),A=c(!1),R=c(v.randomComId()),P=new C({id:"menu",text:"",icon:"more-fill"}),E=t((()=>s.configs.app.theme)),F=t((()=>!v.isEmpty(U.title))),D=t((()=>"light"==s.configs.app.theme?.15:.5)),V=t((()=>g("color",U.titleColor,S.value.title))),q=t((()=>g("other",U.height,s.configs.page.topbarHeight))),G=t((()=>g("font",U.titleSize,s.configs.font.size(4)))),H=t((()=>{let e=g("color",U.bgColor,S.value.page);if(U.blur){return s.libs.color.tinyColor(e).setAlpha(.8).toRgbString()}return e})),L=t((()=>g("color",U.menuBgColor,S.value["".concat("light"==E.value?"front":"info")]))),K=t((()=>g("radius",U.menuBorderRadius,s.configs.radius.normal))),Q=t((()=>g("color",U.activeMenuBgColor,S.value["".concat("light"==E.value?"info":"infoLight")]))),W=t((()=>{let e="light"==s.configs.app.theme?255:0;return g("color",U.buttonBgColor,"rgba(".concat(e,",").concat(e,",").concat(e,",0)"))})),X=t((()=>{let e=new Map;return e.set("height",q.value),e.set("box-shadow",U.boxShadow),e.set("border-radius",U.borderRadius),e.set("border",U.border),e.set("backgroundColor",H.value),e.set("zIndex",s.configs.zIndex.navTabBar),e.set("transition-duration",s.configs.aniTime.normal),e.set("flex-direction","row"),e.set("align-items","center"),e})),Y=t((()=>{let e=new Map;return e.set("top",q.value),e.set("border-radius",K.value),e.set("background",L.value),e.set("zIndex",s.configs.zIndex.popup),e.set("transition-duration",s.configs.aniTime.normal),e}));function Z(e){var t,l,o,n;e?(null===(l=null===(t=$.value)||void 0===t?void 0:t.open)||void 0===l||l.call(t),v.throttle((()=>{A.value=!0}),20,R.value)):(A.value=!1,null===(n=null===(o=$.value)||void 0===o?void 0:o.close)||void 0===n||n.call(o))}function ee(){A.value&&Z(!1)}function te(e){"menu"==e.id&&Z(!0),z("button-click",e)}function le(){h()}return(t=null,s=null)=>{const c=j(d("sn-icon"),T),g=j(d("sn-button"),O),p=j(d("sn-text"),_),b=j(d("sn-row"),M),S=u,v=j(d("sn-e-blurview"),I),C=j(d("sn-menu-item"),N),h=j(d("sn-overlay"),J);return i(),x(k,null,[e.blur?(i(),l(v,{key:1,class:y(["sn-topbar",1==e.fixed?"sn-topbar-fixed":""]),style:n([a(X),e.customStyle])},{default:o((()=>[r(t.$slots,"header",{},(()=>[e.backButton?(i(),l(g,{key:0,round:"",roundSize:e.buttonSize,bgColor:a(W),activeBgColor:a(W),onClick:le,style:n([e.customButtonStyle])},{default:o((()=>[m(c,{name:"arrow-left-s-line",style:n([e.customButtonIconStyle])},null,8,["style"])])),_:1},8,["roundSize","bgColor","activeBgColor","style"])):f("",!0)]),!0),r(t.$slots,"default",{},(()=>[a(F)?(i(),l(p,{key:0,overflow:"ellipsis",lines:1,text:e.title,color:a(V),align:e.titleAlign,font:e.titleFont,size:a(G),style:n(["flex: 1;margin: 0px 10px",e.customTitleStyle])},null,8,["text","color","align","font","size","style"])):f("",!0)]),!0),r(t.$slots,"footer",{},(()=>[m(b,{align:"center"},{default:o((()=>[(i(!0),x(k,null,w(e.features,((t,s)=>(i(),l(g,{round:"",key:s,roundSize:e.buttonSize,bgColor:a(W),activeBgColor:a(W),onClick:(e=null)=>te(t),style:n([e.customButtonStyle])},{default:o((()=>{var e;return[m(c,{name:null!==(e=t.icon)&&void 0!==e?e:""},null,8,["name"])]})),_:2},1032,["roundSize","bgColor","activeBgColor","onClick","style"])))),128)),e.menuButton?(i(),l(g,{key:0,round:"",roundSize:e.buttonSize,activeBgColor:a(W),bgColor:a(W),onClick:s[1]||(s[1]=(e=null)=>te(P)),style:n([e.customButtonStyle])},{default:o((()=>[m(c,{name:"more-fill"})])),_:1},8,["roundSize","activeBgColor","bgColor","style"])):f("",!0)])),_:1})]),!0)])),_:3},8,["class","style"])):(i(),l(S,{key:0,class:y(["sn-topbar",1==e.fixed?"sn-topbar-fixed":""]),style:n([a(X),e.customStyle])},{default:o((()=>[r(t.$slots,"header",{},(()=>[e.backButton?(i(),l(g,{key:0,round:"",roundSize:e.buttonSize,bgColor:a(W),activeBgColor:a(W),onClick:le,style:n([e.customButtonStyle])},{default:o((()=>[m(c,{name:"arrow-left-s-line",style:n([e.customButtonIconStyle])},null,8,["style"])])),_:1},8,["roundSize","bgColor","activeBgColor","style"])):f("",!0)]),!0),r(t.$slots,"default",{},(()=>[a(F)?(i(),l(p,{key:0,overflow:"ellipsis",lines:1,text:e.title,color:a(V),align:e.titleAlign,font:e.titleFont,size:a(G),style:n(["flex: 1;margin: 0px 10px",e.customTitleStyle])},null,8,["text","color","align","font","size","style"])):f("",!0)]),!0),r(t.$slots,"footer",{},(()=>[m(b,{align:"center"},{default:o((()=>[(i(!0),x(k,null,w(e.features,((t,s)=>(i(),l(g,{round:"",key:s,roundSize:e.buttonSize,bgColor:a(W),activeBgColor:a(W),onClick:(e=null)=>te(t),style:n([e.customButtonStyle])},{default:o((()=>{var e;return[m(c,{name:null!==(e=t.icon)&&void 0!==e?e:""},null,8,["name"])]})),_:2},1032,["roundSize","bgColor","activeBgColor","onClick","style"])))),128)),e.menuButton?(i(),l(g,{key:0,round:"",roundSize:e.buttonSize,activeBgColor:a(W),bgColor:a(W),onClick:s[0]||(s[0]=(e=null)=>te(P)),style:n([e.customButtonStyle])},{default:o((()=>[m(c,{name:"more-fill"})])),_:1},8,["roundSize","activeBgColor","bgColor","style"])):f("",!0)])),_:1})]),!0)])),_:3},8,["class","style"])),m(h,{ref_key:"overlayEle",ref:$,opacity:a(D),maskClose:!1,onTouchstart:s[4]||(s[4]=(e=null)=>ee()),onMousedown:s[5]||(s[5]=(e=null)=>ee())},{default:o((()=>[r(t.$slots,"menu",{},(()=>[m(S,{class:y(["sn-topbar-menu",new UTSJSONObject({"sn-topbar-menu-show":a(A)})]),onTouchstart:s[2]||(s[2]=B((()=>{}),["stop"])),onMousedown:s[3]||(s[3]=B((()=>{}),["stop"])),style:n([a(Y),e.customMenuStyle])},{default:o((()=>[(i(!0),x(k,null,w(e.menuData,((e,t)=>{var o,n;return i(),l(C,{key:t,bgColor:a(L),activeBgColor:a(Q),icon:null!==(o=e.icon)&&void 0!==o?o:"",text:null!==(n=e.text)&&void 0!==n?n:"",onClick:(t=null)=>(z("menu-click",e),void Z(!1))},null,8,["bgColor","activeBgColor","icon","text","onClick"])})),128))])),_:1},8,["class","style"])]),!0)])),_:3},8,["opacity"]),e.fixed?(i(),l(S,{key:2,class:"fixed-placeholder",style:n({height:a(q)})},null,8,["style"])):f("",!0)],64)}}})),[["__scopeId","data-v-63f70eff"]]);export{U as _,M as a,J as b,N as c,I as d};
