import{d as e,$ as l,r as t,an as a,av as n,c as o,x as i,a8 as r,aU as s,a as u,b as v,e as c,f as d,g as m,p,u as f,B as g,h as x,j as y,F as C,m as b,A as h,aV as S,_ as k,q as T}from"./index-DYMgrqHp.js";import{a as w,b as _}from"./sn-text.euomPoe8.js";import{o as z,a as A,e as O,d as j,r as B}from"./uni-app.es.DgDfNdgy.js";import{_ as E}from"./sn-menu-item.DkjoXkWj.js";import{_ as I}from"./sn-overlay.CiZFgEyq.js";const P=_(e({__name:"showActionsheet",setup(e){const _=l.utils,P=l.colors,M=t(""),N=t(!1),R=t(null),G=T(),J=a(new n({actions:[]})),U=t(null),D=t(null),H=t(null),L=o((()=>{var e;return null!==(e=J.maskOpacity)&&void 0!==e?e:.3})),$=o((()=>{var e;return i("other",null!==(e=J.title)&&void 0!==e?e:"","")})),q=o((()=>{var e;return i("aniTime",null!==(e=J.aniTime)&&void 0!==e?e:"",l.configs.aniTime.long)})),F=o((()=>{var e;return i("other",null!==(e=J.itemPadding)&&void 0!==e?e:"","14px 10px")})),V=o((()=>{var e;return null===(e=J.maskClose)||void 0===e||e})),K=o((()=>{var e;return null!==(e=J.disabled)&&void 0!==e&&e})),Q=o((()=>{var e;return null!==(e=J.preventBack)&&void 0!==e&&e})),W=o((()=>{var e;return null!==(e=J.customStyle)&&void 0!==e?e:new UTSJSONObject({})})),X=o((()=>{var e;return null===(e=J.showCancel)||void 0===e||e})),Y=o((()=>{var e;return i("other",null!==(e=J.cancelText)&&void 0!==e?e:"","取消")})),Z=o((()=>{let e=parseInt(q.value);return e>100?e-100:e})),ee=o((()=>l.configs.app.theme)),le=o((()=>!_.isEmpty($.value))),te=o((()=>{var e;return i("font",null!==(e=J.titleSize)&&void 0!==e?e:"",l.configs.font.size(2))})),ae=o((()=>{var e;return i("color",null!==(e=J.titleColor)&&void 0!==e?e:"",P.value.title)})),ne=o((()=>{var e;return i("color",null!==(e=J.bgColor)&&void 0!==e?e:"",P.value.info)})),oe=o((()=>P.value["light"==ee.value?"lineDark":"line"])),ie=o((()=>P.value[(ee.value,"infoActive")])),re=o((()=>{var e;return i("font",null!==(e=J.itemTextSize)&&void 0!==e?e:"",l.configs.font.size(3))})),se=o((()=>{var e;return i("radius",null!==(e=J.borderRadius)&&void 0!==e?e:"",l.configs.radius.normal)})),ue=o((()=>{const e=new Map;return e.set("transition-duration",q.value),e})),ve=o((()=>{const e=new Map;return e.set("background",ne.value),e.set("border-radius",se.value),e})),ce=o((()=>new UTSJSONObject({justifyContent:"flex-end"}))),de=o((()=>{let e=new Map;return e.set("animation",parseInt(q.value)>0),e.set("hover",N.value),e}));function me(){var e,l;null===(l=null===(e=R.value)||void 0===e?void 0:e.close)||void 0===l||l.call(e),N.value=!1,_.throttle((()=>{S(new UTSJSONObject({dialogPage:G.proxy.$page}))}),Z.value,"previewImage")}function pe(){var e,l;if(!V.value)return null;let t=new r("utils","showActionsheet",1);null===(e=D.value)||void 0===e||e.call(D,t),null===(l=H.value)||void 0===l||l.call(H,t),me()}function fe(){var e,l;if(K.value)return null;let t=new r("utils","showActionsheet",1);null===(e=D.value)||void 0===e||e.call(D,t),null===(l=H.value)||void 0===l||l.call(H,t),me()}return z((e=>{var l,t;if(N.value){if(!Q.value){let e=new r("utils","showActionsheet",1);null===(l=D.value)||void 0===l||l.call(D,e),null===(t=H.value)||void 0===t||t.call(H,e),me()}return!0}return!1})),A((e=>{if(null!=e.id){M.value=e.id;let l=s.get("DIALOGPAGE_ACTIONSHEET_".concat(e.id));if(null!=l){let e=l;J.title=e.title,J.actions=e.actions,J.showCancel=e.showCancel,J.cancelText=e.cancelText,J.titleColor=e.titleColor,J.titleSize=e.titleSize,J.bgColor=e.bgColor,J.itemTextSize=e.itemTextSize,J.itemPadding=e.itemPadding,J.borderRadius=e.borderRadius,J.aniTime=e.aniTime,J.maskOpacity=e.maskOpacity,J.preventBack=e.preventBack,J.disabled=e.disabled,J.maskClose=e.maskClose,J.customStyle=e.customStyle,U.value=e.success,D.value=e.fail,H.value=e.complete}}})),O((()=>{s.delete("DIALOGPAGE_ACTIONSHEET_".concat(M.value))})),j((()=>{let e=l.configs.app.grayMode;var t,a;window.document.body.style.filter=e?"grayscale(100%)":"",null===(a=null===(t=R.value)||void 0===t?void 0:t.open)||void 0===a||a.call(t),_.throttle((()=>{N.value=!0}),20,M.value)})),(e=null,l=null)=>{const t=B(u("sn-text"),w),a=B(u("sn-menu-item"),E),n=k,o=B(u("sn-overlay"),I);return v(),c(o,{class:"sn-actionsheet-overlay",ref_key:"overlayEle",ref:R,aniTime:"".concat(f(Z),"ms"),maskClose:f(V),opacity:f(L),onClickMask:pe,customStyle:f(ce)},{default:d((()=>[m(n,{class:b(["sn-actionsheet-contain",f(de)]),style:p(f(ue)),onClick:l[0]||(l[0]=h((()=>{}),["stop"]))},{default:d((()=>[m(n,{class:"sn-actionsheet",style:p([f(ve),f(W)])},{default:d((()=>[f(le)?(v(),c(t,{key:0,align:"center",text:f($),color:f(ae),size:f(te),style:{padding:"15px"}},null,8,["text","color","size"])):g("",!0),(v(!0),x(C,null,y(f(J).actions,((e,l)=>{var t,n;return v(),c(a,{textAlign:"center",padding:f(F),key:l,text:e.text,bgColor:f(ne),disabled:null!==(t=e.disabled)&&void 0!==t&&t||f(K),activeBgColor:f(ie),textColor:null!==(n=e.color)&&void 0!==n?n:f(P).primary,textSize:f(re),style:p([{borderTop:f(le)||0!=l?"0.5px solid ".concat(f(oe)):""}]),onClick:(e=null)=>function(e){var l,t,a;if(e>=J.actions.length||K.value)return null;if(null!==(l=J.actions[e].disabled)&&void 0!==l&&l)return null;let n=e;null===(t=U.value)||void 0===t||t.call(U,n),null===(a=H.value)||void 0===a||a.call(H,n),me()}(l)},null,8,["padding","text","bgColor","disabled","activeBgColor","textColor","textSize","style","onClick"])})),128))])),_:1},8,["style"]),f(X)?(v(),c(n,{key:0,class:"sn-actionsheet",style:p([f(ve),"margin-top:6px;",f(W)])},{default:d((()=>[m(a,{textAlign:"center",padding:f(F),bgColor:f(ne),activeBgColor:f(ie),borderRadius:f(se),text:f(Y),disabled:f(K),textColor:f(P).error,textSize:f(re),onClick:fe},null,8,["padding","bgColor","activeBgColor","borderRadius","text","disabled","textColor","textSize"])])),_:1},8,["style"])):g("",!0)])),_:1},8,["class","style"])])),_:1},8,["aniTime","maskClose","opacity","customStyle"])}}}),[["__scopeId","data-v-d746daf2"]]);export{P as default};
