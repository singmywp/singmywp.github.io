import{d as e,$ as t,r as l,an as n,aY as o,c as a,x as r,aU as i,a as s,b as u,e as c,f as v,g as d,p,u as m,h as f,B as x,F as g,m as y,A as b,M as T,n as h,aV as S,_ as C,E as k,q as w}from"./index-DYMgrqHp.js";import{a as z,b as _}from"./sn-text.euomPoe8.js";import{o as O,a as M,e as j,d as A,r as B}from"./uni-app.es.DgDfNdgy.js";import{_ as J}from"./sn-button.BjZePiC5.js";import{_ as U}from"./sn-overlay.CiZFgEyq.js";import"./sn-loading.t5otRKvs.js";const N=_(e({__name:"showModal",setup(e){const _=t.colors,N=t.utils,E=l(!1),D=l(0),I=l(0),P=l(50),G=l(0),L=l(null),R=l(null),F=l(""),$=w(),q=n(new o({})),H=l(null),Q=l(null),V=l(null),Y=a((()=>{var e;return["embed","float"].includes(null!==(e=q.buttonType)&&void 0!==e?e:"")?q.buttonType:"embed"})),K=a((()=>{var e;return null!==(e=q.title)&&void 0!==e?e:""})),W=a((()=>{var e;return null!==(e=q.titleFont)&&void 0!==e?e:""})),X=a((()=>{var e;return null!==(e=q.titleAlign)&&void 0!==e?e:"center"})),Z=a((()=>{var e;return null!==(e=q.content)&&void 0!==e?e:""})),ee=a((()=>!N.isEmpty(Z.value))),te=a((()=>{var e;return null!==(e=q.contentFont)&&void 0!==e?e:""})),le=a((()=>{var e;return null!==(e=q.contentAlign)&&void 0!==e?e:"center"})),ne=a((()=>{var e;return null!==(e=q.confirmText)&&void 0!==e?e:"确定"})),oe=a((()=>{var e;return null!==(e=q.cancelText)&&void 0!==e?e:"取消"})),ae=a((()=>{var e;return null!==(e=q.maskOpacity)&&void 0!==e?e:.4})),re=a((()=>{var e;return null!==(e=q.maskClose)&&void 0!==e&&e})),ie=a((()=>{var e;return null!==(e=q.disabled)&&void 0!==e&&e})),se=a((()=>{var e;return null!==(e=q.preventBack)&&void 0!==e&&e}));a((()=>{var e;return null!==(e=q.customStyle)&&void 0!==e?e:new UTSJSONObject({})}));const ue=a((()=>{var e;return null===(e=q.showCancel)||void 0===e||e})),ce=a((()=>{var e;return null===(e=q.showConfirm)||void 0===e||e})),ve=a((()=>ue.value||ce.value)),de=a((()=>{var e;return r("aniTime",null!==(e=q.aniTime)&&void 0!==e?e:"",t.configs.aniTime.long)})),pe=a((()=>{let e=parseInt(de.value);return e>100?e-100:e})),me=a((()=>t.configs.app.theme)),fe=a((()=>{var e;return r("font",null!==(e=q.titleSize)&&void 0!==e?e:"","".concat(t.utils.getPx(t.configs.font.size(3))+1,"px"))})),xe=a((()=>{var e;return r("color",null!==(e=q.titleColor)&&void 0!==e?e:"",_.value.title)})),ge=a((()=>{var e;return r("color",null!==(e=q.bgColor)&&void 0!==e?e:"",_.value["".concat("light"==me.value?"front":"info")])})),ye=a((()=>{var e;return r("color",null!==(e=q.contentColor)&&void 0!==e?e:"",_.value.text)})),be=a((()=>{var e;return r("other",null!==(e=q.buttonBorder)&&void 0!==e?e:"","0.5px solid ".concat(_.value.line))})),Te=a((()=>{var e;return r("color",null!==(e=q.confirmTextColor)&&void 0!==e?e:"",_.value.primaryDark)})),he=a((()=>{var e;return r("font",null!==(e=q.confirmTextSize)&&void 0!==e?e:"",t.configs.font.size(3))})),Se=a((()=>{var e;return r("color",null!==(e=q.cancelTextColor)&&void 0!==e?e:"",_.value.text)})),Ce=a((()=>{var e;return r("font",null!==(e=q.cancelTextSize)&&void 0!==e?e:"",t.configs.font.size(3))})),ke=a((()=>{var e;return r("font",null!==(e=q.contentSize)&&void 0!==e?e:"","".concat(t.utils.getPx(t.configs.font.baseSize)+1,"px"))})),we=a((()=>{var e;return r("radius",null!==(e=q.borderRadius)&&void 0!==e?e:"",t.configs.radius.normal)})),ze=a((()=>{var e;return["center","top","bottom","left","right"].includes(null!==(e=q.position)&&void 0!==e?e:"")?q.position:"center"})),_e=a((()=>{const e=new Map;return e.set("max-height","".concat(I.value+10,"px")),e.set("background",ge.value),e.set("border-radius",we.value),e.set("padding-top","32px"),e.set("transition-duration",de.value),"float"==Y.value&&e.set("padding-bottom","5px"),e})),Oe=a((()=>new UTSJSONObject({justifyContent:["center","left","right"].includes(ze.value)?"center":"top"==ze.value?"flex-start":"flex-end"}))),Me=a((()=>{let e=new Map;return e.set("animation",parseInt(de.value)>0),e.set("hover",E.value),e.set(ze.value,!0),e})),je=a((()=>{const e=new Map;return e.set("margin","0px 24px 8px"),e.set("transition-duration","0ms"),e})),Ae=a((()=>{const e=new Map;return e.set("margin","8px 24px 0px"),e.set("transition-duration","0ms"),e})),Be=a((()=>{const e=new Map;return e.set("height","".concat(P.value,"px")),e.set("background",ge.value),e.set("border-top",be.value),e.set("border-right",be.value),e.set("margin-top","10px"),e.set("transition-duration",t.configs.aniTime.normal),e})),Je=a((()=>{const e=new Map;return e.set("height","".concat(P.value,"px")),e.set("background",ge.value),e.set("border-top",be.value),e.set("margin-top","10px"),e.set("transition-duration",t.configs.aniTime.normal),e})),Ue=a((()=>{const e=new Map;return e.set("margin-top","10px"),e.set("height","".concat(P.value,"px")),e.set("padding","0px 15px 5px"),e.set("flex-direction","row"),e.set("align-items","center"),e.set("background",ge.value),e})),Ne=a((()=>{const e=new Map;return e.set("padding-bottom",ee.value?"15px":"0px"),e.set("height","auto"),e.set("max-height","".concat(I.value-P.value-G.value-50,"px")),e}));function Ee(){var e,t;null===(t=null===(e=R.value)||void 0===e?void 0:e.close)||void 0===t||t.call(e),E.value=!1,N.throttle((()=>{S(new UTSJSONObject({dialogPage:$.proxy.$page}))}),pe.value,"showModal")}function De(){var e,t;re.value&&(null===(e=H.value)||void 0===e||e.call(H,!1,!1),null===(t=V.value)||void 0===t||t.call(V,new UTSJSONObject({confirm:!1,cancel:!1})),Ee())}function Ie(){var e,t;ie.value||(null===(e=H.value)||void 0===e||e.call(H,!1,!0),null===(t=V.value)||void 0===t||t.call(V,new UTSJSONObject({confirm:!1,cancel:!0})),Ee())}function Pe(){var e,t;ie.value||(null===(e=H.value)||void 0===e||e.call(H,!0,!1),null===(t=V.value)||void 0===t||t.call(V,new UTSJSONObject({confirm:!0,cancel:!1})),Ee())}return O((e=>{var t,l;return!!E.value&&(se.value||(null===(t=H.value)||void 0===t||t.call(H,!1,!1),null===(l=V.value)||void 0===l||l.call(V,new UTSJSONObject({confirm:!1,cancel:!1})),Ee()),!0)})),M((e=>{if(null!=e.id){F.value=e.id;let t=i.get("DIALOGPAGE_MODAL_".concat(e.id));if(null!=t){let e=t;q.title=e.title,q.titleAlign=e.titleAlign,q.titleSize=e.titleSize,q.titleColor=e.titleColor,q.bgColor=e.bgColor,q.borderRadius=e.borderRadius,q.content=e.content,q.contentAlign=e.contentAlign,q.contentSize=e.contentSize,q.contentColor=e.contentColor,q.buttonType=e.buttonType,q.buttonBorder=e.buttonBorder,q.confirmText=e.confirmText,q.confirmTextColor=e.confirmTextColor,q.confirmTextSize=e.confirmTextSize,q.showCancel=e.showCancel,q.showConfirm=e.showConfirm,q.cancelText=e.cancelText,q.cancelTextColor=e.cancelTextColor,q.cancelTextSize=e.cancelTextSize,q.position=e.position,q.aniTime=e.aniTime,q.maskClose=e.maskClose,q.disabled=e.disabled,q.preventBack=e.preventBack,q.maskOpacity=e.maskOpacity,q.customStyle=e.customStyle,H.value=e.success,Q.value=e.fail,V.value=e.complete}}})),j((()=>{i.delete("DIALOGPAGE_MODAL_".concat(F.value))})),A((()=>{let e=t.configs.app.grayMode;window.document.body.style.filter=e?"grayscale(100%)":"",setTimeout((()=>{var e,t;D.value=0,null===(t=null===(e=R.value)||void 0===e?void 0:e.open)||void 0===t||t.call(e),N.throttle((()=>{E.value=!0,I.value=.8*T().windowHeight,h((()=>{var e,t,l;G.value=null!==(l=null===(t=null===(e=L.value)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.height)&&void 0!==l?l:0}))}),20,F.value)}),10)})),(e=null,t=null)=>{const l=B(s("sn-text"),z),n=C,o=k,a=B(s("sn-button"),J),r=B(s("sn-overlay"),U);return u(),c(r,{class:"sn-modal-overlay",ref_key:"overlayEle",ref:R,aniTime:"".concat(m(pe),"ms"),maskClose:!1,opacity:m(ae),onClickMask:De,customStyle:m(Oe)},{default:v((()=>[d(n,{class:y(["sn-modal",m(Me)]),style:p(m(_e)),onClick:t[0]||(t[0]=b((()=>{}),["stop"]))},{default:v((()=>[d(n,{class:"sn-modal-header",ref_key:"headerEle",ref:L,style:p(m(je))},{default:v((()=>[d(l,{class:"sn-modal-title",bold:"",text:m(K),font:m(W),align:m(X),color:m(xe),size:m(fe)},null,8,["text","font","align","color","size"])])),_:1},8,["style"]),d(o,{class:"sn-modal-body","show-scrollbar":!1,bounces:!1,"scroll-top":m(D),style:p(m(Ne))},{default:v((()=>[d(l,{text:m(Z),font:m(te),align:m(le),color:m(ye),size:m(ke),style:p(m(Ae))},null,8,["text","font","align","color","size","style"])])),_:1},8,["scroll-top","style"]),m(ve)?(u(),f(g,{key:0},["embed"==m(Y)?(u(),c(n,{key:0,class:"sn-modal-action-group"},{default:v((()=>[m(ue)?(u(),c(n,{key:0,class:"sn-modal-action",onClick:Ie,style:p(m(Be))},{default:v((()=>[d(l,{align:"center",text:m(oe),size:m(Ce),color:m(ie)?m(_).disabledText:m(Se)},null,8,["text","size","color"])])),_:1},8,["style"])):x("",!0),m(ce)?(u(),c(n,{key:1,class:"sn-modal-action",onClick:Pe,style:p(m(Je))},{default:v((()=>[d(l,{align:"center",bold:"",text:m(ne),size:m(he),color:m(ie)?m(_).disabledText:m(Te)},null,8,["text","size","color"])])),_:1},8,["style"])):x("",!0)])),_:1})):"float"==m(Y)?(u(),c(n,{key:1,style:p([m(Ue)])},{default:v((()=>[m(ue)?(u(),c(a,{key:0,type:"info",level:"second",long:"",disabled:m(ie),text:m(oe),textSize:m(Ce),onClick:Ie,style:p(m(ce)?"margin-right: 10px":"")},null,8,["disabled","text","textSize","style"])):x("",!0),m(ce)?(u(),c(a,{key:1,type:"primary",long:"",disabled:m(ie),text:m(ne),textSize:m(he),onClick:Pe},null,8,["disabled","text","textSize"])):x("",!0)])),_:1},8,["style"])):x("",!0)],64)):x("",!0)])),_:1},8,["class","style"])])),_:1},8,["aniTime","opacity","customStyle"])}}}),[["__scopeId","data-v-6c6ca768"]]);export{N as default};
