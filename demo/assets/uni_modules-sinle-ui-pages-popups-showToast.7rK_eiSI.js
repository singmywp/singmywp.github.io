import{d as o,$ as e,r as n,an as l,aX as t,c as i,x as a,aU as s,a as r,b as u,e as c,f as d,g as v,u as g,p,B as f,m as x,aV as m,_ as z,q as b}from"./index-DYMgrqHp.js";import{_ as y,a as C,b as S}from"./sn-text.euomPoe8.js";import{a as _,o as w,e as T,d as A,r as h}from"./uni-app.es.DgDfNdgy.js";import{_ as M}from"./sn-loading.t5otRKvs.js";const O=S(o({__name:"showToast",setup(o){const S=e.utils,O=e.colors,j=n(""),k=b(),I=n(!1),L=l(new t({})),G=n(null);n(null);const P=n(null),D=i((()=>{let o=L.icon;return null!=o&&""!=o.trim()})),E=i((()=>{var o;return a("other",null!==(o=L.padding)&&void 0!==o?o:"","12px 15px")})),J=i((()=>{var o;return null!==(o=L.duration)&&void 0!==o?o:2e3})),U=i((()=>{var o;return a("color",null!==(o=L.textColor)&&void 0!==o?o:"","#fff")})),$=i((()=>{var o;return a("font",null!==(o=L.textSize)&&void 0!==o?o:"",e.configs.font.size(2))})),q=i((()=>{var o;return a("color",null!==(o=L.iconColor)&&void 0!==o?o:"","#fff")})),B=i((()=>{var o;return a("font",null!==(o=L.iconSize)&&void 0!==o?o:"",e.configs.font.size(5))})),N=i((()=>""==L.bgColor||null==L.bgColor?O.value.toast:"".concat(L.bgColor))),R=i((()=>{var o;return a("radius",null!==(o=L.borderRadius)&&void 0!==o?o:"",e.configs.radius.normal)})),V=i((()=>{var o,e;return["center","top","bottom"].includes(null!==(o=L.position)&&void 0!==o?o:"center")&&null!==(e=L.position)&&void 0!==e?e:"center"})),X=i((()=>{const o=new Map;return o.set("z-index",e.configs.zIndex.toast),o.set("transition-duration",e.configs.aniTime.normal),o})),F=i((()=>{const o=new Map;return o.set("margin-right","6px"),o})),H=i((()=>{const o=new Map;return o.set("word-break","break-all"),o.set("flex","1"),o})),K=i((()=>{const o=new Map;return o.set("border-radius",R.value),o.set("padding",E.value),o.set("background",N.value),o.set("transition-duration",e.configs.aniTime.normal),o})),Q=i((()=>{let o=new Map;return o.set("top","top"==V.value),o.set("center","center"==V.value),o.set("bottom","bottom"==V.value),o.set("hover",I.value),o}));function W(){I.value=!1,S.throttle((()=>{m(new UTSJSONObject({dialogPage:k.proxy.$page}))}),parseInt(e.configs.aniTime.normal),"showToast")}return _((o=>{if(null!=o.id){j.value=o.id;let e=s.get("DIALOGPAGE_TOAST_".concat(o.id));if(null!=e){let o=e;L.text=o.text,L.bgColor=o.bgColor,L.loading=o.loading,L.position=o.position,L.duration=o.duration,L.textSize=o.textSize,L.textColor=o.textColor,L.icon=o.icon,L.iconSize=o.iconSize,L.iconColor=o.iconColor,L.textAlign=o.textAlign,L.textLines=o.textLines,L.success=o.success,L.fail=o.fail,L.complete=o.complete}}})),w((o=>!!I.value&&(1!=L.loading&&W(),!0))),T((()=>{s.delete("DIALOGPAGE_TOAST_".concat(j.value))})),A((()=>{let o=e.configs.app.grayMode;window.document.body.style.filter=o?"grayscale(100%)":"",setTimeout((()=>{var o,e;I.value=!0,null===(o=G.value)||void 0===o||o.call(G),null===(e=P.value)||void 0===e||e.call(P,null),0!=L.loading&&S.debounce((()=>{W()}),J.value)}),10)})),(o=null,e=null)=>{const n=h(r("sn-icon"),y),l=h(r("sn-loading"),M),t=h(r("sn-text"),C),i=z;return u(),c(i,{class:x(["sn-toast-contain",g(Q)]),style:p(g(X))},{default:d((()=>[v(i,{class:"sn-toast",style:p(g(K))},{default:d((()=>{var o,e,i,a,s,r,d,x,m,z,b,y;return[!g(D)||null!==(o=g(L).loading)&&void 0!==o&&o?f("",!0):(u(),c(n,{key:0,name:null!==(e=g(L).icon)&&void 0!==e?e:"",color:null!==(i=g(L).iconColor)&&void 0!==i?i:g(q),size:null!==(a=g(L).iconSize)&&void 0!==a?a:g(B),style:p(g(F))},null,8,["name","color","size","style"])),null!==(s=g(L).loading)&&void 0!==s&&s?(u(),c(l,{key:1,iconColor:null!==(r=g(L).iconColor)&&void 0!==r?r:g(q),iconSize:null!==(d=g(L).iconSize)&&void 0!==d?d:g(B),style:p(g(F))},null,8,["iconColor","iconSize","style"])):f("",!0),v(t,{text:null!==(x=g(L).text)&&void 0!==x?x:"",align:null!==(m=g(L).textAlign)&&void 0!==m?m:"center",color:null!==(z=g(L).textColor)&&void 0!==z?z:g(U),size:null!==(b=g(L).textSize)&&void 0!==b?b:g($),lines:null!==(y=g(L).textLines)&&void 0!==y?y:0,style:p(g(H))},null,8,["text","align","color","size","lines","style"])]})),_:1},8,["style"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-69ee33d8"]]);export{O as default};
