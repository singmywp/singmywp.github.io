import{_ as d,D as s,c as e,I as a,a5 as i,o as n}from"./chunks/framework.BhjPWYS5.js";const E=JSON.parse('{"title":"Scan 扫码","description":"","frontmatter":{},"headers":[],"relativePath":"components/sn-scan.md","filePath":"components/sn-scan.md"}'),o={name:"components/sn-scan.md"},l=i(`<h1 id="scan-扫码" tabindex="-1">Scan 扫码 <a class="header-anchor" href="#scan-扫码" aria-label="Permalink to &quot;Scan 扫码&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">注意</p><p>本插件分为两部分：</p><ul><li><p><code>sn-e-scan-provider</code></p><p>这是组件的核心部分，负责摄像头预览、扫码解析等基础工作，并向外部提供接口。</p><p>该组件属于<strong>扩展组件</strong>，需前往插件市场单独下载</p></li><li><p><code>sn-scan</code></p><p>这是组件的界面部分，主要负责在界面中处理用户操作并调用相应的API。应当将该组件放置在独立的页面中，&lt;template&gt; 下只放这一个组件，并设置其 <code>flex: 1</code>。如果您有自定义界面的需求，可参考此组件源码实现，重写UI。</p><p>该组件属于 SinleUI 基础组件的一部分，无需您额外下载。</p></li></ul></div><h2 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h2><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">sn-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>更多演示请下载 demo 查看</strong></p><h2 id="属性" tabindex="-1">属性 <a class="header-anchor" href="#属性" aria-label="Permalink to &quot;属性&quot;">​</a></h2><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th><th>可选值</th></tr></thead><tbody><tr><td>title</td><td>扫码页面标题</td><td>String</td><td><code>扫一扫</code></td><td>-</td></tr><tr><td>titleSize</td><td>标题字体大小</td><td>String</td><td><code>$3+2</code></td><td>-</td></tr><tr><td>titleColor</td><td>标题颜色</td><td>String</td><td><code>#fff</code></td><td>-</td></tr><tr><td>tip</td><td>扫码提示文字</td><td>String</td><td><code>识别二维码/条码</code></td><td>-</td></tr><tr><td>tipColor</td><td>提示文字颜色</td><td>String</td><td><code>#d6d6db</code></td><td>-</td></tr><tr><td>tipSize</td><td>提示文字字体大小</td><td>String</td><td><code>$2</code></td><td>-</td></tr><tr><td>torchText</td><td>手电筒提示文字</td><td>String</td><td><code>轻触点亮或关闭</code></td><td>-</td></tr><tr><td>torchTextColor</td><td>手电筒提示文字颜色</td><td>String</td><td><code>#fff</code></td><td>-</td></tr><tr><td>torchTextSize</td><td>手电筒提示文字字体大小</td><td>String</td><td><code>$1</code></td><td>-</td></tr><tr><td>dotSize</td><td>识别点大小</td><td>String</td><td><code>35px</code></td><td>-</td></tr><tr><td>scanType</td><td>扫码类型</td><td>String</td><td><code>all</code></td><td><code>qrCode</code> | <code>barCode</code> | <code>all</code></td></tr><tr><td>lineaniTime</td><td>扫描线动画时长</td><td>Number</td><td><code>5000</code></td><td>-</td></tr><tr><td>enableDing</td><td>是否开启声音提示</td><td>Boolean</td><td><code>true</code></td><td><code>true</code> | <code>false</code></td></tr><tr><td>dingFileSrc</td><td>自定义声音文件路径</td><td>String</td><td>-</td><td>-</td></tr><tr><td>scanOnlyOnce</td><td>是否只扫描一次（与 <code>continuous</code> 不可同为 <code>true</code>）</td><td>Boolean</td><td><code>false</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>continuous</td><td>是否连续扫描（与 <code>scanOnlyOnce</code> 不可同为 <code>true</code>）</td><td>Boolean</td><td><code>false</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>continuousSleep</td><td>连续扫描间隔时间（单位：ms）</td><td>Number</td><td><code>2000</code></td><td>-</td></tr><tr><td>showTorch</td><td>是否显示手电筒按钮</td><td>Boolean</td><td><code>true</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>showAlbum</td><td>是否显示相册按钮</td><td>Boolean</td><td><code>true</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>showBackButton</td><td>是否显示返回按钮</td><td>Boolean</td><td><code>true</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>showAni</td><td>是否显示动画</td><td>Boolean</td><td><code>true</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>enableZoom</td><td>是否允许缩放</td><td>Boolean</td><td><code>true</code></td><td><code>true</code> |<code>false</code></td></tr><tr><td>initZoomScale</td><td>初始缩放比例</td><td>Number</td><td><code>0</code></td><td>-</td></tr><tr><td>cameraPermTip</td><td>相机权限提示</td><td>String</td><td><code>\\u3000 本应用正在请求您的相机权限，仅用于条码、二维码识别，且不会将任何数据上传至云端。如不提供此权限，则无法正常使用扫码功能。</code></td><td>-</td></tr><tr><td>customDotStyle</td><td>自定义识别点样式</td><td>UTSJSONObject</td><td><code>{border: &#39;2px solid #fff&#39;,background:$primary}</code></td><td>-</td></tr><tr><td>customDotIconStyle</td><td>自定义识别点图标样式</td><td>UTSJSONObject</td><td><code>{color:&#39;#fff&#39;}</code></td><td>-</td></tr><tr><td>customTitleStyle</td><td>自定义标题样式</td><td>UTSJSONObject</td><td>-</td><td>-</td></tr><tr><td>customTipStyle</td><td>自定义提示文字样式</td><td>UTSJSONObject</td><td>-</td><td>-</td></tr><tr><td>customStyle</td><td>自定义组件样式</td><td>UTSJSONObject</td><td>-</td><td>-</td></tr></tbody></table><h2 id="事件" tabindex="-1">事件 <a class="header-anchor" href="#事件" aria-label="Permalink to &quot;事件&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">名称</th><th style="text-align:left;">类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">button-click</td><td style="text-align:left;"><code>(name: string) =&gt; void</code></td><td style="text-align:left;">点击界面按钮时触发，<code>name</code> 为点击按钮名称。可选值为：<code>return</code>（返回）、<code>album</code>（相册）、<code>torch</code>（手电筒）</td></tr><tr><td style="text-align:left;">scanned</td><td style="text-align:left;"><code>(res: ScanResult) =&gt; void</code></td><td style="text-align:left;">扫码成功时触发。<code>res</code> 的结构及说明见<a href="#类型">下文</a></td></tr><tr><td style="text-align:left;">goin</td><td style="text-align:left;"><code>(value: string) =&gt; void</code></td><td style="text-align:left;">选择识别点时触发，<code>value</code> 即为识别的文本数据</td></tr></tbody></table><h2 id="方法" tabindex="-1">方法 <a class="header-anchor" href="#方法" aria-label="Permalink to &quot;方法&quot;">​</a></h2><table tabindex="0"><thead><tr><th>名称</th><th>参数</th><th>返回值</th><th>描述</th></tr></thead><tbody><tr><td>rescan</td><td>-</td><td>-</td><td>重新扫描</td></tr><tr><td>setTorchStatus</td><td><code>(value: boolean)</code></td><td>-</td><td>设置手电筒状态</td></tr><tr><td>scanImageByURI</td><td><code>(src: string)</code></td><td>-</td><td>通过 URI 扫描图片</td></tr><tr><td>setZoomRatio</td><td><code>(zoomRatio: number)</code></td><td>-</td><td>设置缩放比例</td></tr><tr><td>getZoomRatio</td><td>-</td><td>Number</td><td>获取当前缩放比例</td></tr></tbody></table><h2 id="类型" tabindex="-1">类型 <a class="header-anchor" href="#类型" aria-label="Permalink to &quot;类型&quot;">​</a></h2><p><code>sn-e-scan-provider</code> 和 <code>sn-scan</code> 的 <code>@scanned</code> 事件返回一个 <code>ScanResult</code> 对象 <code>res</code></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanMode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;camera&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;image&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanDataPosition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	centerX</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	centerY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanDataPosition</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">	scanMode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScanMode</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>ScanResult</code> 及其相关的类型均在扩展插件 <code>sn-e-scan-provider</code> 目录下的 <code>interface.uts</code> 导出，使用时根据路径导入即可。例如：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ScanResult } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@/uni_modules/sn-e-scan-provider/interface.uts&quot;</span></span></code></pre></div>`,16);function c(r,h,p,k,g,y){const t=s("DemoPhone");return n(),e("div",null,[l,a(t,{name:"sn-scan"})])}const b=d(o,[["render",c]]);export{E as __pageData,b as default};
